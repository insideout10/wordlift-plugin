void 0!==window.angular&&(window._wlAngularBackup=window.angular,delete window.angular,window._wlAngularBackupApps=jQuery("[ng-app]").removeAttr("ng-app")),function(l,nt,rt){"use strict";function w(a,s){return s=s||Error,function(){var t,e,n=arguments[0],r="["+(a?a+":":"")+n+"] ",i=arguments[1],o=arguments;for(t=(t=r+i.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e+2<o.length?_t(o[e+2]):t}))+"\nhttp://errors.angularjs.org/1.3.11/"+(a?a+"/":"")+n,e=2;e<arguments.length;e++)t=t+(2==e?"?":"&")+"p"+(e-2)+"="+encodeURIComponent(_t(arguments[e]));return new s(t)}}var o=/^\/(.+)\/([a-z]*)$/,a="validity",I=function(t){return ut(t)?t.toLowerCase():t},E=Object.prototype.hasOwnProperty,u=function(t){return ut(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(I=function(t){return ut(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},u=function(t){return ut(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var G,it,$,p,r=[].slice,n=[].splice,t=[].push,s=Object.prototype.toString,c=w("ng"),b=l.angular||(l.angular={}),e=0;function N(t){if(null==t||S(t))return!1;var e=t.length;return!(t.nodeType!==kt||!e)||(ut(t)||lt(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function ot(t,e,n){var r,i;if(t)if(ct(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(lt(t)||N(t)){var o="object"!=typeof t;for(r=0,i=t.length;r<i;r++)(o||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==ot)t.forEach(e,n,t);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);return t}function z(t){return Object.keys(t).sort()}function v(n){return function(t,e){n(e,t)}}function i(){return++e}function f(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function R(t){for(var e=t.$$hashKey,n=1,r=arguments.length;n<r;n++){var i=arguments[n];if(i)for(var o=Object.keys(i),a=0,s=o.length;a<s;a++){var u=o[a];t[u]=i[u]}}return f(t,e),t}function h(t){return parseInt(t,10)}function g(t,e){return R(Object.create(t),e)}function at(){}function m(t){return t}function y(t){return function(){return t}}function M(t){return void 0===t}function Y(t){return void 0!==t}function st(t){return null!==t&&"object"==typeof t}function ut(t){return"string"==typeof t}function x(t){return"number"==typeof t}function C(t){return"[object Date]"===s.call(t)}G=nt.documentMode,at.$inject=[],m.$inject=[];var lt=Array.isArray;function ct(t){return"function"==typeof t}function d(t){return"[object RegExp]"===s.call(t)}function S(t){return t&&t.window===t}function ft(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"boolean"==typeof t}function k(t){return t&&ct(t.then)}var dt=function(t){return ut(t)?t.trim():t},T=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function ht(t){return I(t.nodeName||t[0]&&t[0].nodeName)}function pt(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),e}function P(t,n,e,r){if(S(t)||ft(t))throw c("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(n){if(t===n)throw c("cpi","Can't copy! Source and destination are identical.");if(e=e||[],r=r||[],st(t)){var i=e.indexOf(t);if(-1!==i)return r[i];e.push(t),r.push(n)}var o;if(lt(t))for(var a=n.length=0;a<t.length;a++)o=P(t[a],null,e,r),st(t[a])&&(e.push(t[a]),r.push(o)),n.push(o);else{var s=n.$$hashKey;for(var u in lt(n)?n.length=0:ot(n,function(t,e){delete n[e]}),t)t.hasOwnProperty(u)&&(o=P(t[u],null,e,r),st(t[u])&&(e.push(t[u]),r.push(o)),n[u]=o);f(n,s)}}else if(n=t)if(lt(t))n=P(t,[],e,r);else if(C(t))n=new Date(t.getTime());else if(d(t))(n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0])).lastIndex=t.lastIndex;else if(st(t)){var l=Object.create(Object.getPrototypeOf(t));n=P(t,l,e,r)}return n}function _(t,e){if(lt(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(st(t))for(var i in e=e||{},t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function $t(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,r,i,o=typeof t;if(o==typeof e&&"object"==o){if(!lt(t)){if(C(t))return!!C(e)&&$t(t.getTime(),e.getTime());if(d(t)&&d(e))return t.toString()==e.toString();if(ft(t)||ft(e)||S(t)||S(e)||lt(e))return!1;for(r in i={},t)if("$"!==r.charAt(0)&&!ct(t[r])){if(!$t(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!i.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e[r]!==rt&&!ct(e[r]))return!1;return!0}if(!lt(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!$t(t[r],e[r]))return!1;return!0}}return!1}var D=function(){if(Y(D.isActive_))return D.isActive_;var e=!(!nt.querySelector("[ng-csp]")&&!nt.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(t){e=!0}return D.isActive_=e};function j(t,e,n){return t.concat(r.call(e,n))}function vt(t,e){return r.call(t,e||0)}function V(t,e){var n=2<arguments.length?vt(arguments,2):[];return!ct(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,j(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function F(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=rt:S(e)?n="$WINDOW":e&&nt===e?n="$DOCUMENT":ft(e)&&(n="$SCOPE"),n}function U(t,e){return void 0===t?rt:(x(e)||(e=e?2:null),JSON.stringify(t,F,e))}function q(t){return ut(t)?JSON.parse(t):t}function gt(t){t=it(t).clone();try{t.empty()}catch(t){}var e=it("<div>").append(t).html();try{return t[0].nodeType===Tt?I(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+I(e)})}catch(t){return I(e)}}function L(t){try{return decodeURIComponent(t)}catch(t){}}function B(t){var n,r,i={};return ot((t||"").split("&"),function(t){if(t&&(n=t.replace(/\+/g,"%20").split("="),Y(r=L(n[0])))){var e=!Y(n[1])||L(n[1]);E.call(i,r)?lt(i[r])?i[r].push(e):i[r]=[i[r],e]:i[r]=e}}),i}function H(t){var n=[];return ot(t,function(t,e){lt(t)?ot(t,function(t){n.push(J(e,!0)+(!0===t?"":"="+J(t,!0)))}):n.push(J(e,!0)+(!0===t?"":"="+J(t,!0)))}),n.length?n.join("&"):""}function W(t){return J(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function J(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var K=["ng-","data-ng-","ng:","x-ng-"];function X(r,t){var i,o,e={};ot(K,function(t){var e=t+"app";!i&&r.hasAttribute&&r.hasAttribute(e)&&(o=(i=r).getAttribute(e))}),ot(K,function(t){var e,n=t+"app";!i&&(e=r.querySelector("["+n.replace(":","\\:")+"]"))&&(o=(i=e).getAttribute(n))}),i&&(e.strictDi=null!==function(t,e){var n,r,i=K.length;for(t=it(t),r=0;r<i;++r)if(n=K[r]+e,ut(n=t.attr(n)))return n;return null}(i,"strict-di"),t(i,o?[o]:[],e))}function Z(n,r,i){st(i)||(i={});i=R({strictDi:!1},i);var e=function(){if((n=it(n)).injector()){var t=n[0]===nt?"document":gt(n);throw c("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var e=Ee(r,i.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),e},t=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(l&&t.test(l.name)&&(i.debugInfoEnabled=!0,l.name=l.name.replace(t,"")),l&&!o.test(l.name))return e();l.name=l.name.replace(o,""),b.resumeBootstrap=function(t){ot(t,function(t){r.push(t)}),e()}}function Q(){l.name="NG_ENABLE_DEBUG_INFO!"+l.name,l.location.reload()}function tt(t){var e=b.element(t).injector();if(!e)throw c("test","no injector found for element argument to getTestability");return e.get("$$testability")}var et=/[A-Z]/g;function mt(t,n){return n=n||"_",t.replace(et,function(t,e){return(e?n:"")+t.toLowerCase()})}var yt,wt=!1;function bt(t,e,n){if(!t)throw c("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function xt(t,e,n){return n&&lt(t)&&(t=t[t.length-1]),bt(ct(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Ct(t,e){if("hasOwnProperty"===t)throw c("badname","hasOwnProperty is not a valid {0} name",e)}function St(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&ct(t)?V(o,t):t}function At(t){var e=t[0],n=t[t.length-1],r=[e];do{if(!(e=e.nextSibling))break;r.push(e)}while(e!==n);return it(r)}function Et(){return Object.create(null)}var kt=1,Tt=3,Ot=8,Pt=9,Mt=11;function _t(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):void 0===t?"undefined":"string"!=typeof t?(e=t,n=[],JSON.stringify(e,function(t,e){if(st(e=F(t,e))){if(0<=n.indexOf(e))return"<<already seen>>";n.push(e)}return e})):t;var e,n}var Dt={full:"1.3.11",major:1,minor:3,dot:11,codeName:"spiffy-manatee"};Xt.expando="ng339";var Nt=Xt.cache={},It=1,Rt=function(t,e,n){t.addEventListener(e,n,!1)},jt=function(t,e,n){t.removeEventListener(e,n,!1)};Xt._data=function(t){return this.cache[t[this.expando]]||{}};var Vt=/([\:\-\_]+(.))/g,Ft=/^moz([A-Z])/,Ut={mouseleave:"mouseout",mouseenter:"mouseover"},qt=w("jqLite");function Lt(t){return t.replace(Vt,function(t,e,n,r){return r?n.toUpperCase():n}).replace(Ft,"Moz$1")}var Bt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Ht=/<|&#?\w+;/,Wt=/<([\w:]+)/,Gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Yt(t){return!Ht.test(t)}function Jt(t){var e=t.nodeType;return e===kt||!e||e===Pt}function Kt(t,e){var n,r,i,o,a=e.createDocumentFragment(),s=[];if(Yt(t))s.push(e.createTextNode(t));else{for(n=n||a.appendChild(e.createElement("div")),r=(Wt.exec(t)||["",""])[1].toLowerCase(),i=zt[r]||zt._default,n.innerHTML=i[1]+t.replace(Gt,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;s=j(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",ot(s,function(t){a.appendChild(t)}),a}function Xt(t){if(t instanceof Xt)return t;var e,n,r,i;if(ut(t)&&(t=dt(t),e=!0),!(this instanceof Xt)){if(e&&"<"!=t.charAt(0))throw qt("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Xt(t)}se(this,e?(n=t,r=r||nt,(i=Bt.exec(n))?[r.createElement(i[1])]:(i=Kt(n,r))?i.childNodes:[]):t)}function Zt(t){return t.cloneNode(!0)}function Qt(t,e){if(e||ee(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;r<i;r++)ee(n[r])}function te(n,t,r,e){if(Y(e))throw qt("offargs","jqLite#off() does not support the `selector` argument");var i=ne(n),o=i&&i.events,a=i&&i.handle;if(a)if(t)ot(t.split(" "),function(t){if(Y(r)){var e=o[t];if(pt(e||[],r),e&&0<e.length)return}jt(n,t,a),delete o[t]});else for(t in o)"$destroy"!==t&&jt(n,t,a),delete o[t]}function ee(t,e){var n=t.ng339,r=n&&Nt[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),te(t)),delete Nt[n],t.ng339=rt}}function ne(t,e){var n=t.ng339,r=n&&Nt[n];return e&&!r&&(t.ng339=n=++It,r=Nt[n]={events:{},data:{},handle:rt}),r}function re(t,e,n){if(Jt(t)){var r=Y(n),i=!r&&e&&!st(e),o=!e,a=ne(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];R(s,e)}}}function ie(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function oe(e,t){t&&e.setAttribute&&ot(t.split(" "),function(t){e.setAttribute("class",dt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+dt(t)+" "," ")))})}function ae(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");ot(e.split(" "),function(t){t=dt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",dt(n))}}function se(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function ue(t,e){return le(t,"$"+(e||"ngController")+"Controller")}function le(t,e,n){t.nodeType==Pt&&(t=t.documentElement);for(var r=lt(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if((n=it.data(t,r[i]))!==rt)return n;t=t.parentNode||t.nodeType===Mt&&t.host}}function ce(t){for(Qt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function fe(t,e){e||Qt(t);var n=t.parentNode;n&&n.removeChild(t)}zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td;var de=Xt.prototype={ready:function(t){var e=!1;function n(){e||(e=!0,t())}"complete"===nt.readyState?setTimeout(n):(this.on("DOMContentLoaded",n),Xt(l).on("load",n))},toString:function(){var e=[];return ot(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return it(0<=t?this[t]:this[this.length+t])},length:0,push:t,sort:[].sort,splice:[].splice},he={};ot("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){he[I(t)]=t});var pe={};ot("input,select,option,textarea,button,form,details".split(","),function(t){pe[t]=!0});var $e={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function ve(t,e){var n=he[e.toLowerCase()];return n&&pe[ht(t)]&&n}function ge(){this.$get=function(){return R(Xt,{hasClass:function(t,e){return t.attr&&(t=t[0]),ie(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),ae(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),oe(t,e)}})}}function me(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||i)():r+":"+t}function ye(t,e){if(e){var n=0;this.nextUid=function(){return++n}}ot(t,this.put,this)}ot({data:re,removeData:ee},function(t,e){Xt[e]=t}),ot({data:re,inheritedData:le,scope:function(t){return it.data(t,"$scope")||le(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return it.data(t,"$isolateScope")||it.data(t,"$isolateScopeNoTemplate")},controller:ue,injector:function(t){return le(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:ie,css:function(t,e,n){if(e=Lt(e),!Y(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r=I(e);if(he[r]){if(!Y(n))return t[e]||(t.attributes.getNamedItem(e)||at).specified?r:rt;n?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(Y(n))t.setAttribute(e,n);else if(t.getAttribute){var i=t.getAttribute(e,2);return null===i?rt:i}},prop:function(t,e,n){if(!Y(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(M(e)){var n=t.nodeType;return n===kt||n===Tt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(M(e)){if(t.multiple&&"select"===ht(t)){var n=[];return ot(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){if(M(e))return t.innerHTML;Qt(t,!0),t.innerHTML=e},empty:ce},function(l,t){Xt.prototype[t]=function(t,e){var n,r,i=this.length;if(l!==ce&&(2==l.length&&l!==ie&&l!==ue?t:e)===rt){if(st(t)){for(n=0;n<i;n++)if(l===re)l(this[n],t);else for(r in t)l(this[n],r,t[r]);return this}for(var o=l.$dv,a=o===rt?Math.min(i,1):i,s=0;s<a;s++){var u=l(this[s],t,e);o=o?o+u:u}return o}for(n=0;n<i;n++)l(this[n],t,e);return this}}),ot({removeData:ee,on:function t(e,n,r,i){if(Y(i))throw qt("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Jt(e)){var a,s,o,u=ne(e,!0),l=u.events,c=u.handle;c||(c=u.handle=(s=l,(o=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=s[e||t.type],r=n?n.length:0;if(r){if(M(t.immediatePropagationStopped)){var i=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),i&&i.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped},1<r&&(n=_(n));for(var o=0;o<r;o++)t.isImmediatePropagationStopped()||n[o].call(a,t)}}).elem=a=e,o));for(var f=0<=n.indexOf(" ")?n.split(" "):[n],d=f.length;d--;){var h=l[n=f[d]];h||(l[n]=[],"mouseenter"===n||"mouseleave"===n?t(e,Ut[n],function(t){var e=t.relatedTarget;e&&(e===this||this.contains(e))||c(t,n)}):"$destroy"!==n&&Rt(e,n,c),h=l[n]),h.push(r)}}},off:te,one:function(e,n,r){(e=it(e)).on(n,function t(){e.off(n,r),e.off(n,t)}),e.on(n,r)},replaceWith:function(e,t){var n,r=e.parentNode;Qt(e),ot(new Xt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(t){var e=[];return ot(t.childNodes,function(t){t.nodeType===kt&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===kt||n===Mt)for(var r=0,i=(e=new Xt(e)).length;r<i;r++){var o=e[r];t.appendChild(o)}},prepend:function(e,t){if(e.nodeType===kt){var n=e.firstChild;ot(new Xt(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){e=it(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:fe,detach:function(t){fe(t,!0)},after:function(t,e){for(var n=t,r=t.parentNode,i=0,o=(e=new Xt(e)).length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:ae,removeClass:oe,toggleClass:function(n,t,r){t&&ot(t.split(" "),function(t){var e=r;M(e)&&(e=!ie(n,t)),(e?ae:oe)(n,t)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Mt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Zt,triggerHandler:function(e,t,n){var r,i,o,a=t.type||t,s=ne(e),u=s&&s.events,l=u&&u[a];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:at,type:a,target:e},t.type&&(r=R(r,t)),i=_(l),o=n?[r].concat(n):[r],ot(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(a,t){Xt.prototype[t]=function(t,e,n){for(var r,i=0,o=this.length;i<o;i++)M(r)?Y(r=a(this[i],t,e,n))&&(r=it(r)):se(r,a(this[i],t,e,n));return Y(r)?r:this},Xt.prototype.bind=Xt.prototype.on,Xt.prototype.unbind=Xt.prototype.off}),ye.prototype={put:function(t,e){this[me(t,this.nextUid)]=e},get:function(t){return this[me(t,this.nextUid)]},remove:function(t){var e=this[t=me(t,this.nextUid)];return delete this[t],e}};var we=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,be=/,/,xe=/^\s*(_?)(\S+?)\1\s*$/,Ce=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Se=w("$injector");function Ae(t,e,n){var r,i,o;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw ut(n)&&n||(n=t.name||((o=t.toString().replace(Ce,"").match(we))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Se("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);ot(t.toString().replace(Ce,"").match(we)[1].split(be),function(t){t.replace(xe,function(t,e,n){r.push(n)})})}t.$inject=r}}else lt(t)?(xt(t[i=t.length-1],"fn"),r=t.slice(0,i)):xt(t,"fn",!0);return r}function Ee(t,c){c=!0===c;var i={},a="Provider",s=[],o=new ye([],!0),u={$provide:{provider:e(d),factory:e(r),service:e(function(t,e){return r(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return r(t,y(e),!1)}),constant:e(function(t,e){Ct(t,"constant"),u[t]=e,n[t]=e}),decorator:function(t,e){var n=l.get(t+a),r=n.$get;n.$get=function(){var t=f.invoke(r,n);return f.invoke(e,null,{$delegate:t})}}}},l=u.$injector=h(u,function(t,e){throw b.isString(e)&&s.push(e),Se("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},f=n.$injector=h(n,function(t,e){var n=l.get(t+a,e);return f.invoke(n.$get,n,rt,t)});return ot(function n(t){var r,i=[];ot(t,function(e){if(!o.get(e)){o.put(e,!0);try{ut(e)?(r=p(e),i=i.concat(n(r.requires)).concat(r._runBlocks),t(r._invokeQueue),t(r._configBlocks)):ct(e)?i.push(l.invoke(e)):lt(e)?i.push(l.invoke(e)):xt(e,"module")}catch(t){throw lt(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1==t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Se("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}});return i}(t),function(t){f.invoke(t||at)}),f;function e(n){return function(t,e){if(!st(t))return n(t,e);ot(t,v(n))}}function d(t,e){if(Ct(t,"service"),(ct(e)||lt(e))&&(e=l.instantiate(e)),!e.$get)throw Se("pget","Provider '{0}' must define $get factory method.",t);return u[t+a]=e}function r(t,e,n){return d(t,{$get:!1!==n?(r=t,i=e,function(){var t=f.invoke(i,this);if(M(t))throw Se("undef","Provider '{0}' must return a value from $get factory method.",r);return t}):e});var r,i}function h(n,r){function l(e,t){if(n.hasOwnProperty(e)){if(n[e]===i)throw Se("cdep","Circular dependency found: {0}",e+" <- "+s.join(" <- "));return n[e]}try{return s.unshift(e),n[e]=i,n[e]=r(e,t)}catch(t){throw n[e]===i&&delete n[e],t}finally{s.shift()}}function o(t,e,n,r){"string"==typeof n&&(r=n,n=null);var i,o,a,s=[],u=Ae(t,c,r);for(o=0,i=u.length;o<i;o++){if("string"!=typeof(a=u[o]))throw Se("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(n&&n.hasOwnProperty(a)?n[a]:l(a,r))}return lt(t)&&(t=t[i]),t.apply(e,s)}return{invoke:o,instantiate:function(t,e,n){var r=Object.create((lt(t)?t[t.length-1]:t).prototype||null),i=o(t,r,e,n);return st(i)||ct(i)?i:r},get:l,annotate:Ae,has:function(t){return u.hasOwnProperty(t+a)||n.hasOwnProperty(t)}}}}function ke(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(r,i,o){var a=r.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=u.yOffset;if(ct(t))t=t();else if(O(t)){var e=t[0];t="fixed"!==r.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else x(t)||(t=0);return t}();if(e){var n=t.getBoundingClientRect().top;r.scrollBy(0,n-e)}}else r.scrollTo(0,0)}function u(){var t,e,n,r=i.hash();r?(t=a.getElementById(r))?s(t):(e=a.getElementsByName(r),n=null,Array.prototype.some.call(e,function(t){if("a"===ht(t))return n=t,!0}),(t=n)?s(t):"top"===r&&s(null)):s(null)}return t&&o.$watch(function(){return i.hash()},function(t,e){var n,r;t===e&&""===t||(n=function(){o.$evalAsync(u)},"complete"===(r=r||l).document.readyState?r.setTimeout(n):it(r).on("load",n))}),u}]}Ee.$$annotate=Ae;var Te=w("$animate"),Oe=["$provide",function(r){this.$$selectors={},this.register=function(t,e){var n=t+"-animation";if(t&&"."!=t.charAt(0))throw Te("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=n,r.factory(n,e)},this.classNameFilter=function(t){return 1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function(d,t,h){var e;function p(t,e,n){for(var r=0,i=e.length;r<i;++r){t[e[r]]=n}}function i(){return e||(e=d.defer(),t(function(){e.resolve(),e=null})),e.promise}function o(t,e){if(b.isObject(e)){var n=R(e.from||{},e.to||{});t.css(n)}}return{animate:function(t,e,n){return o(t,{from:e,to:n}),i()},enter:function(t,e,n,r){return o(t,r),n?n.after(t):e.prepend(t),i()},leave:function(t,e){return t.remove(),i()},move:function(t,e,n,r){return this.enter(t,e,n,r)},addClass:function(t,e,n){return this.setClass(t,e,[],n)},$$addClassImmediately:function(t,e,n){return t=it(t),e=ut(e)?e:lt(e)?e.join(" "):"",ot(t,function(t){ae(t,e)}),o(t,n),i()},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},$$removeClassImmediately:function(t,e,n){return t=it(t),e=ut(e)?e:lt(e)?e.join(" "):"",ot(t,function(t){oe(t,e)}),o(t,n),i()},setClass:function(u,t,e,n){var l=this,c="$$animateClasses",r=!1,i=(u=it(u)).data(c);i?n&&i.options&&(i.options=b.extend(i.options||{},n)):(i={classes:{},options:n},r=!0);var o,a,s,f=i.classes;return t=lt(t)?t:t.split(" "),e=lt(e)?e:e.split(" "),p(f,t,!0),p(f,e,!1),r&&(i.promise=(o=function(t){var e,n,r,i,o,a=u.data(c);if(u.removeData(c),a){var s=(e=u,n=a.classes,r=[],i=[],o=Et(),ot((e.attr("class")||"").split(/\s+/),function(t){o[t]=!0}),ot(n,function(t,e){var n=o[e];!1===t&&n?i.push(e):!0!==t||n||r.push(e)}),0<r.length+i.length&&[r.length?r:null,i.length?i:null]);s&&l.$$setClassImmediately(u,s[0],s[1],a.options)}t()},(s=d.defer()).promise.$$cancelFn=function(){a&&a()},h.$$postDigest(function(){a=o(function(){s.resolve()})}),s.promise),u.data(c,i)),i.promise},$$setClassImmediately:function(t,e,n,r){return e&&this.$$addClassImmediately(t,e),n&&this.$$removeClassImmediately(t,n),o(t,r),i()},enabled:at,cancel:at}}]}];function Pe(){this.$get=["$$rAF","$timeout",function(e,n){return e.supported?function(t){return e(t)}:function(t){return n(t,0,!1)}}]}function Me(s,t,u,l){var c=this,f=t[0],d=s.location,h=s.history,r=s.setTimeout,e=s.clearTimeout,i={};c.isMock=!1;var o=0,n=[];function a(t){try{t.apply(null,vt(arguments,1))}finally{if(0===--o)for(;n.length;)try{n.pop()()}catch(t){u.error(t)}}}c.$$completeOutstandingRequest=a,c.$$incOutstandingRequestCount=function(){o++},c.notifyWhenNoOutstandingRequests=function(t){ot($,function(t){t()}),0===o?t():n.push(t)};var p,$=[];c.addPollFn=function(t){var e,n;return M(p)&&(e=100,n=r,function t(){ot($,function(t){t()}),p=n(t,e)}()),$.push(t),t};var v,g,m=d.href,y=t.find("base"),w=null;A(),g=v,c.url=function(t,e,n){if(M(n)&&(n=null),d!==s.location&&(d=s.location),h!==s.history&&(h=s.history),t){var r=g===n;if(m===t&&(!l.history||r))return c;var i=m&&$n(m)===$n(t);return m=t,g=n,!l.history||i&&r?(i||(w=t),e?d.replace(t):i?d.hash=-1===(a=(o=t).indexOf("#"))?"":o.substr(a+1):d.href=t):(h[e?"replaceState":"pushState"](n,"",t),A(),g=v),c}return w||d.href.replace(/%27/g,"'");var o,a},c.state=function(){return v};var b=[],x=!1;function C(){A(),E()}var S=null;function A(){$t(v=M(v=s.history.state)?null:v,S)&&(v=S),S=v}function E(){m===c.url()&&g===v||(m=c.url(),g=v,ot(b,function(t){t(c.url(),v)}))}c.onUrlChange=function(t){return x||(l.history&&it(s).on("popstate",C),it(s).on("hashchange",C),x=!0),b.push(t),t},c.$$checkUrlChange=E,c.baseHref=function(){var t=y.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var k={},T="",O=c.baseHref();function P(e){try{return decodeURIComponent(e)}catch(t){return e}}c.cookies=function(t,e){var n,r,i,o,a;if(!t){if(f.cookie!==T)for(r=(T=f.cookie).split("; "),k={},o=0;o<r.length;o++)0<(a=(i=r[o]).indexOf("="))&&(t=P(i.substring(0,a)),k[t]===rt&&(k[t]=P(i.substring(a+1))));return k}e===rt?f.cookie=encodeURIComponent(t)+"=;path="+O+";expires=Thu, 01 Jan 1970 00:00:00 GMT":ut(e)&&4096<(n=(f.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path="+O).length+1)&&u.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+n+" > 4096 bytes)!")},c.defer=function(t,e){var n;return o++,n=r(function(){delete i[n],a(t)},e||0),i[n]=!0,n},c.defer.cancel=function(t){return!!i[t]&&(delete i[t],e(t),a(at),!0)}}function _e(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Me(t,r,e,n)}]}function De(){this.$get=function(){var f={};function t(t,e){if(t in f)throw w("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,r=R({},e,{id:t}),i={},o=e&&e.capacity||Number.MAX_VALUE,a={},s=null,u=null;return f[t]={put:function(t,e){o<Number.MAX_VALUE&&l(a[t]||(a[t]={key:t}));if(!M(e))return t in i||n++,i[t]=e,o<n&&this.remove(u.key),e},get:function(t){if(o<Number.MAX_VALUE){var e=a[t];if(!e)return;l(e)}return i[t]},remove:function(t){if(o<Number.MAX_VALUE){var e=a[t];if(!e)return;e==s&&(s=e.p),e==u&&(u=e.n),c(e.n,e.p),delete a[t]}delete i[t],n--},removeAll:function(){i={},n=0,a={},s=u=null},destroy:function(){a=r=i=null,delete f[t]},info:function(){return R({},r,{size:n})}};function l(t){t!=s&&(u?u==t&&(u=t.n):u=t,c(t.n,t.p),c(t,s),(s=t).n=null)}function c(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return ot(f,function(t,e){n[e]=t.info()}),n},t.get=function(t){return f[t]},t}}function Ne(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var Ie=w("$compile");function Re(n,e){var h={},p="Directive",D=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,N=/(([\w\-]+)(?:\:([^;]+))?;?)/,c=function(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),et=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,f=/^(on[a-z]+|formaction)$/;this.directive=function t(c,e){return Ct(c,"directive"),ut(c)?(bt(e,"directiveFactory"),h.hasOwnProperty(c)||(h[c]=[],n.factory(c+p,["$injector","$exceptionHandler",function(s,u){var l=[];return ot(h[c],function(t,e){try{var n=s.invoke(t);ct(n)?n={compile:y(n)}:!n.compile&&n.link&&(n.compile=y(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||c,n.require=n.require||n.controller&&n.name,n.restrict=n.restrict||"EA",st(n.scope)&&(n.$$isolateBindings=(r=n.scope,i=n.name,o=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,a={},ot(r,function(t,e){var n=t.match(o);if(!n)throw Ie("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,e,t);a[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e}}),a)),l.push(n)}catch(t){u(t)}var r,i,o,a}),l}])),h[c].push(e)):ot(c,v(t)),this},this.aHrefSanitizationWhitelist=function(t){return Y(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return Y(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var s=!0;this.debugInfoEnabled=function(t){return Y(t)?(s=t,this):s},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(d,j,V,t,F,U,o,e,r,i,w){var q=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)this[i=o[n]]=e[i]}else this.$attr={};this.$$element=t};function T(t,e){try{t.addClass(e)}catch(t){}}q.prototype={$normalize:Ve,$addClass:function(t){t&&0<t.length&&i.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&i.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Fe(t,e);n&&n.length&&i.addClass(this.$$element,n);var r=Fe(e,t);r&&r.length&&i.removeClass(this.$$element,r)},$set:function(t,e,n,r){var i,o,a,s=this.$$element[0],u=ve(s,t),l=(o=t,("INPUT"===(a=s.nodeName)||"TEXTAREA"===a)&&$e[o]),c=t;if(u?(this.$$element.prop(t,e),r=u):l&&(this[l]=e,c=l),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=mt(t,"-")),"a"===(i=ht(this.$$element))&&"href"===t||"img"===i&&"src"===t)this[t]=e=w(e,"src"===t);else if("img"===i&&"srcset"===t){for(var f="",d=dt(e),h=/\s/.test(d)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,p=d.split(h),$=Math.floor(p.length/2),v=0;v<$;v++){var g=2*v;f+=w(dt(p[g]),!0),f+=" "+dt(p[g+1])}var m=dt(p[2*v]).split(/\s/);f+=w(dt(m[0]),!0),2===m.length&&(f+=" "+dt(m[1])),this[t]=e=f}!1!==n&&(null===e||e===rt?this.$$element.removeAttr(r):this.$$element.attr(r,e));var y=this.$$observers;y&&ot(y[c],function(t){try{t(e)}catch(t){V(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=Et()),i=r[t]||(r[t]=[]);return i.push(e),o.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){pt(i,e)}}};var n=j.startSymbol(),a=j.endSymbol(),L="{{"==n||"}}"==a?m:function(t){return t.replace(/\{\{/g,n).replace(/}}/g,a)},S=/^ngAttr[A-Z]/;return B.$$addBindingInfo=s?function(t,e){var n=t.data("$binding")||[];lt(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:at,B.$$addBindingClass=s?function(t){T(t,"ng-binding")}:at,B.$$addScopeInfo=s?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:at,B.$$addScopeClass=s?function(t,e){T(t,e?"ng-isolate-scope":"ng-scope")}:at,B;function B(c,t,e,n,r){c instanceof it||(c=it(c)),ot(c,function(t,e){t.nodeType==Tt&&t.nodeValue.match(/\S+/)&&(c[e]=it(t).wrap("<span></span>").parent()[0])});var f=O(c,t,c,e,n,r);B.$$addScopeClass(c);var d=null;return function(t,e,n){bt(t,"scope");var r,i,o,a=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,u=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),d||(i=(r=u)&&r[0],d=i&&"foreignobject"!==ht(i)&&i.toString().match(/SVG/)?"svg":"html"),o="html"!==d?it(X(d,it("<div>").append(c).html())):e?de.clone.call(c):c,s)for(var l in s)o.data("$"+l+"Controller",s[l].instance);return B.$$addScopeInfo(o,t),e&&e(o,t),f&&f(t,o,o,a),o}}function O(t,p,e,n,r,i){for(var o,a,s,u,l,c,$,v=[],f=0;f<t.length;f++)o=new q,(s=(a=H(t[f],[],o,0===f?n:rt,r)).length?M(a,t[f],o,p,e,null,[],[],i):null)&&s.scope&&B.$$addScopeClass(o.$$element),l=s&&s.terminal||!(u=t[f].childNodes)||!u.length?null:O(u,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:p),(s||l)&&(v.push(f,s,l),c=!0,$=$||s),i=null;return c?function(t,e,n,r){var i,o,a,s,u,l,c,f,d;if($){var h=e.length;for(d=new Array(h),u=0;u<v.length;u+=3)c=v[u],d[c]=e[c]}else d=e;for(u=0,l=v.length;u<l;)a=d[v[u++]],i=v[u++],o=v[u++],i?(i.scope?(s=t.$new(),B.$$addScopeInfo(it(a),s)):s=t,f=i.transcludeOnThisElement?P(t,i.transclude,r,i.elementTranscludeOnThisElement):!i.templateOnThisElement&&r?r:!r&&p?P(t,p):null,i(o,s,a,n,f)):o&&o(t,a.childNodes,rt,r)}:null}function P(o,a,s,t){return function(t,e,n,r,i){return t||((t=o.$new(!1,i)).$$transcluded=!0),a(t,e,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}}function H(t,e,n,r,i){var o,a,s,u,l,c=t.nodeType,f=n.$attr;switch(c){case kt:A(e,Ve(ht(t)),"E",r,i);for(var d,h,p,$,v,g,m=t.attributes,y=0,w=m&&m.length;y<w;y++){var b=!1,x=!1;h=(d=m[y]).name,v=dt(d.value),$=Ve(h),(g=S.test($))&&(h=h.replace(je,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var C=$.replace(/(Start|End)$/,"");E(C)&&$===C+"Start"&&(x=(b=h).substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),f[p=Ve(h.toLowerCase())]=h,!g&&n.hasOwnProperty(p)||(n[p]=v,ve(t,p)&&(n[p]=!0)),_(t,e,v,p,g),A(e,p,"A",r,i,b,x)}if(st(a=t.className)&&(a=a.animVal),ut(a)&&""!==a)for(;o=N.exec(a);)A(e,p=Ve(o[2]),"C",r,i)&&(n[p]=dt(o[3])),a=a.substr(o.index+o[0].length);break;case Tt:s=e,u=t.nodeValue,(l=j(u,!0))&&s.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&B.$$addBindingClass(e),function(t,e){var n=e.parent();r||B.$$addBindingClass(n),B.$$addBindingInfo(n,l.expressions),t.$watch(l,function(t){e[0].nodeValue=t})}}});break;case Ot:try{(o=D.exec(t.nodeValue))&&A(e,p=Ve(o[1]),"M",r,i)&&(n[p]=dt(o[2]))}catch(t){}}return e.sort(k),e}function W(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw Ie("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==kt&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(0<i);else r.push(t);return it(r)}function G(o,a,s){return function(t,e,n,r,i){return e=W(e[0],a,s),o(t,e,n,r,i)}}function M(t,g,m,e,n,r,y,w,i){i=i||{};for(var o,b,a,s,u,l,c,f=-Number.MAX_VALUE,x=i.controllerDirectives,C=i.newIsolateScopeDirective,S=i.templateDirective,d=i.nonTlbTranscludeDirective,h=!1,p=!1,A=i.hasElementTranscludeDirective,$=m.$$element=it(g),v=r,E=e,k=0,T=t.length;k<T;k++){var O=(a=t[k]).$$start,P=a.$$end;if(O&&($=W(g,O,P)),u=rt,f>a.priority)break;if((c=a.scope)&&(a.templateUrl||(st(c)?(K("new/isolated scope",C||o,a,$),C=a):K("new/isolated scope",C,a,$)),o=o||a),s=a.name,!a.templateUrl&&a.controller&&(c=a.controller,K("'"+s+"' controller",(x=x||{})[s],a,$),x[s]=a),(c=a.transclude)&&(h=!0,a.$$tlb||(K("transclusion",d,a,$),d=a),E="element"==c?(A=!0,f=a.priority,u=$,$=m.$$element=it(nt.createComment(" "+s+": "+m[s]+" ")),g=$[0],Z(n,vt(u),g),B(u,e,f,v&&v.name,{nonTlbTranscludeDirective:d})):(u=it(Zt(g)).contents(),$.empty(),B(u,e))),a.template)if(p=!0,K("template",S,a,$),c=ct((S=a).template)?a.template($,m):a.template,c=L(c),a.replace){if(v=a,u=Yt(c)?[]:Ue(X(a.templateNamespace,dt(c))),g=u[0],1!=u.length||g.nodeType!==kt)throw Ie("tplrt","Template for directive '{0}' must have exactly one root element. {1}",s,"");Z(n,$,g);var M={$attr:{}},_=H(g,[],M),D=t.splice(k+1,t.length-(k+1));C&&z(_),t=t.concat(_).concat(D),Y(m,M),T=t.length}else $.html(c);if(a.templateUrl)p=!0,K("template",S,a,$),(S=a).replace&&(v=a),R=J(t.splice(k,t.length-k),$,m,n,h&&E,y,w,{controllerDirectives:x,newIsolateScopeDirective:C,templateDirective:S,nonTlbTranscludeDirective:d}),T=t.length;else if(a.compile)try{ct(l=a.compile($,m,E))?N(null,l,O,P):l&&N(l.pre,l.post,O,P)}catch(t){V(t,gt($))}a.terminal&&(R.terminal=!0,f=Math.max(f,a.priority))}return R.scope=o&&!0===o.scope,R.transcludeOnThisElement=h,R.elementTranscludeOnThisElement=A,R.templateOnThisElement=p,R.transclude=E,i.hasElementTranscludeDirective=A,R;function N(t,e,n,r){t&&(n&&(t=G(t,n,r)),t.require=a.require,t.directiveName=s,(C===a||a.$$isolateScope)&&(t=Q(t,{isolateScope:!0})),y.push(t)),e&&(n&&(e=G(e,n,r)),e.require=a.require,e.directiveName=s,(C===a||a.$$isolateScope)&&(e=Q(e,{isolateScope:!0})),w.push(e))}function I(e,t,n,r){var i,o,a="data",s=!1,u=n;if(ut(t)){if(o=t.match(et),t=t.substring(o[0].length),o[3]&&(o[1]?o[3]=null:o[1]=o[3]),"^"===o[1]?a="inheritedData":"^^"===o[1]&&(a="inheritedData",u=n.parent()),"?"===o[2]&&(s=!0),i=null,r&&"data"===a&&(i=r[t])&&(i=i.instance),!(i=i||u[a]("$"+t+"Controller"))&&!s)throw Ie("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return i||null}return lt(t)&&(i=[],ot(t,function(t){i.push(I(e,t,n,r))})),i}function R(t,c,e,n,i){var r,o,a,s,f,u,l,d,h;if(g===e?d=(h=m).$$element:(d=it(e),h=new q(d,m)),C&&(f=c.$new(!0)),i&&((l=function(t,e,n){var r;ft(t)||(n=e,e=t,t=rt);A&&(r=u);n||(n=A?d.parent():d);return i(t,e,r,n,v)}).$$boundTransclude=i),x&&(b={},u={},ot(x,function(t){var e,n={$scope:t===C||t.$$isolateScope?f:c,$element:d,$attrs:h,$transclude:l};"@"==(s=t.controller)&&(s=h[t.name]),e=U(s,n,!0,t.controllerAs),u[t.name]=e,A||d.data("$"+t.name+"Controller",e.instance),b[t.name]=e})),C){B.$$addScopeInfo(d,f,!0,!(S&&(S===C||S===C.$$originalDirective))),B.$$addScopeClass(d,!0);var p=b&&b[C.name],$=f;p&&p.identifier&&!0===C.bindToController&&($=p.instance),ot(f.$$isolateBindings=C.$$isolateBindings,function(t,e){var n,r,i,o,a=t.attrName,s=t.optional;switch(t.mode){case"@":h.$observe(a,function(t){$[e]=t}),h.$$observers[a].$$scope=c,h[a]&&($[e]=j(h[a])(c));break;case"=":if(s&&!h[a])return;r=F(h[a]),o=r.literal?$t:function(t,e){return t===e||t!=t&&e!=e},i=r.assign||function(){throw n=$[e]=r(c),Ie("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",h[a],C.name)},n=$[e]=r(c);var u,l=function(t){return o(t,$[e])||(o(t,n)?i(c,t=$[e]):$[e]=t),n=t};l.$stateful=!0,u=t.collection?c.$watchCollection(h[a],l):c.$watch(F(h[a],l),null,r.literal),f.$on("$destroy",u);break;case"&":r=F(h[a]),$[e]=function(t){return r(c,t)}}})}for(b&&(ot(b,function(t){t()}),b=null),r=0,o=y.length;r<o;r++)tt(a=y[r],a.isolateScope?f:c,d,h,a.require&&I(a.directiveName,a.require,d,u),l);var v=c;for(C&&(C.template||null===C.templateUrl)&&(v=f),t&&t(v,e.childNodes,rt,i),r=w.length-1;0<=r;r--)tt(a=w[r],a.isolateScope?f:c,d,h,a.require&&I(a.directiveName,a.require,d,u),l)}}function z(t){for(var e=0,n=t.length;e<n;e++)t[e]=g(t[e],{$$isolateScope:!0})}function A(t,e,n,r,i,o,a){if(e===i)return null;var s=null;if(h.hasOwnProperty(e))for(var u,l=d.get(e+p),c=0,f=l.length;c<f;c++)try{u=l[c],(r===rt||r>u.priority)&&-1!=u.restrict.indexOf(n)&&(o&&(u=g(u,{$$start:o,$$end:a})),t.push(u),s=u)}catch(t){V(t)}return s}function E(t){if(h.hasOwnProperty(t))for(var e=d.get(t+p),n=0,r=e.length;n<r;n++)if(e[n].multiElement)return!0;return!1}function Y(n,r){var i=r.$attr,o=n.$attr,a=n.$$element;ot(n,function(t,e){"$"!=e.charAt(0)&&(r[e]&&r[e]!==t&&(t+=("style"===e?";":" ")+r[e]),n.$set(e,t,!0,i[e]))}),ot(r,function(t,e){"class"==e?(T(a,t),n.class=(n.class?n.class+" ":"")+t):"style"==e?(a.attr("style",a.attr("style")+";"+t),n.style=(n.style?n.style+";":"")+t):"$"==e.charAt(0)||n.hasOwnProperty(e)||(n[e]=t,o[e]=i[e])})}function J(d,h,p,$,v,g,m,y){var w,b,x=[],C=h[0],S=d.shift(),A=R({},S,{templateUrl:null,transclude:null,replace:null,$$originalDirective:S}),E=ct(S.templateUrl)?S.templateUrl(h,p):S.templateUrl,k=S.templateNamespace;return h.empty(),t(r.getTrustedResourceUrl(E)).then(function(t){var n,e,r,i;if(t=L(t),S.replace){if(r=Yt(t)?[]:Ue(X(k,dt(t))),n=r[0],1!=r.length||n.nodeType!==kt)throw Ie("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S.name,E);e={$attr:{}},Z($,h,n);var o=H(n,[],e);st(S.scope)&&z(o),d=o.concat(d),Y(p,e)}else n=C,h.html(t);for(d.unshift(A),w=M(d,n,p,v,h,S,g,m,y),ot($,function(t,e){t==n&&($[e]=h[0])}),b=O(h[0].childNodes,v);x.length;){var a=x.shift(),s=x.shift(),u=x.shift(),l=x.shift(),c=h[0];if(!a.$$destroyed){if(s!==C){var f=s.className;y.hasElementTranscludeDirective&&S.replace||(c=Zt(n)),Z(u,it(s),c),T(it(c),f)}i=w.transcludeOnThisElement?P(a,w.transclude,l):l,w(b,a,c,$,i)}}x=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(x?x.push(e,n,r,o):(w.transcludeOnThisElement&&(o=P(e,w.transclude,i)),w(b,e,n,r,o)))}}function k(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function K(t,e,n,r){if(e)throw Ie("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",e.name,n.name,t,gt(r))}function X(t,e){switch(t=I(t||"html")){case"svg":case"math":var n=nt.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function _(t,e,o,a,s){var u=function(t,e){if("srcdoc"==e)return r.HTML;var n=ht(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?r.RESOURCE_URL:void 0}(t,a);s=c[a]||s;var l=j(o,!0,u,s);if(l){if("multiple"===a&&"select"===ht(t))throw Ie("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",gt(t));e.push({priority:100,compile:function(){return{pre:function(t,e,n){var r=n.$$observers||(n.$$observers={});if(f.test(a))throw Ie("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var i=n[a];i!==o&&(l=i&&j(i,!0,u,s),o=i),l&&(n[a]=l(t),(r[a]||(r[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||t).$watch(l,function(t,e){"class"===a&&t!=e?n.$updateClass(t,e):n.$set(a,t)}))}}}})}}function Z(t,e,n){var r,i,o=e[0],a=e.length,s=o.parentNode;if(t)for(r=0,i=t.length;r<i;r++)if(t[r]==o){t[r++]=n;for(var u=r,l=u+a-1,c=t.length;u<c;u++,l++)l<c?t[u]=t[l]:delete t[u];t.length-=a-1,t.context===o&&(t.context=n);break}s&&s.replaceChild(n,o);var f=nt.createDocumentFragment();f.appendChild(o),it(n).data(it(o).data()),$?(yt=!0,$.cleanData([o])):delete it.cache[o[it.expando]];for(var d=1,h=e.length;d<h;d++){var p=e[d];it(p).remove(),f.appendChild(p),delete e[d]}e[0]=n,e.length=1}function Q(t,e){return R(function(){return t.apply(null,arguments)},t,e)}function tt(t,e,n,r,i,o){try{t(e,n,r,i,o)}catch(t){V(t,gt(n))}}}]}Re.$inject=["$provide","$$sanitizeUriProvider"];var je=/^((?:x|data)[\:\-_])/i;function Ve(t){return Lt(t.replace(je,""))}function Fe(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(0<n.length?" ":"")+a}return n}function Ue(t){var e=(t=it(t)).length;if(e<=1)return t;for(;e--;){t[e].nodeType===Ot&&n.call(t,e,1)}return t}function qe(){var d={},h=!1,p=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,e){Ct(t,"controller"),st(t)?R(d,t):d[t]=e},this.allowGlobals=function(){h=!0},this.$get=["$injector","$window",function(l,c){return function(t,e,n,r){var i,o,a,s;if(n=!0===n,r&&ut(r)&&(s=r),ut(t)&&(o=t.match(p),a=o[1],s=s||o[3],xt(t=d.hasOwnProperty(a)?d[a]:St(e.$scope,a,!0)||(h?St(c,a,!0):rt),a,!0)),n){var u=(lt(t)?t[t.length-1]:t).prototype;return i=Object.create(u||null),s&&f(e,s,i,a||t.name),R(function(){return l.invoke(t,i,e,a),i},{instance:i,identifier:s})}return i=l.instantiate(t,e,a),s&&f(e,s,i,a||t.name),i};function f(t,e,n,r){if(!t||!st(t.$scope))throw w("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}}]}function Le(){this.$get=["$window",function(t){return it(t.document)}]}function Be(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}var He="application/json",We={"Content-Type":He+";charset=utf-8"},Ge=/^\[|^\{(?!\{)/,ze={"[":/]$/,"{":/}$/},Ye=/^\)\]\}',?\n/;function Je(t,e){if(ut(t)){var n=t.replace(Ye,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(He)||(o=(i=n).match(Ge))&&ze[o[0]].test(i))&&(t=q(n))}}var i,o;return t}function Ke(t){var e,n,r,i=Et();return t&&ot(t.split("\n"),function(t){r=t.indexOf(":"),e=I(dt(t.substr(0,r))),n=dt(t.substr(r+1)),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i}function Xe(n){var r=st(n)?n:rt;return function(t){if(r||(r=Ke(n)),t){var e=r[I(t)];return void 0===e&&(e=null),e}return r}}function Ze(e,n,r,t){return ct(t)?t(e,n,r):(ot(t,function(t){e=t(e,n,r)}),e)}function Qe(t){return 200<=t&&t<300}function tn(){var m=this.defaults={transformResponse:[Je],transformRequest:[function(t){return st(t)&&(r=t,"[object File]"!==s.call(r))&&(n=t,"[object Blob]"!==s.call(n))&&(e=t,"[object FormData]"!==s.call(e))?U(t):t;var e,n,r}],headers:{common:{Accept:"application/json, text/plain, */*"},post:_(We),put:_(We),patch:_(We)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},y=!1;this.useApplyAsync=function(t){return Y(t)?(y=!!t,this):y};var n=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,h,t,p,$,e){var v=t("$http"),s=[];function g(t){if(!b.isObject(t))throw w("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);var n=R({method:"get",transformRequest:m.transformRequest,transformResponse:m.transformResponse},t);n.headers=function(t){var e,n,r,i=m.headers,o=R({},t.headers);i=R({},i.common,i[I(t.method)]);t:for(e in i){for(r in n=I(e),o)if(I(r)===n)continue t;o[e]=i[e]}return a=o,u={},ot(a,function(t,e){ct(t)?null!=(s=t())&&(u[e]=s):u[e]=t}),u;var a,s,u}(t),n.method=u(n.method);var e=[function(t){var n=t.headers,e=Ze(t.data,Xe(n),rt,t.transformRequest);return M(e)&&ot(n,function(t,e){"content-type"===I(e)&&delete n[e]}),M(t.withCredentials)&&!M(m.withCredentials)&&(t.withCredentials=m.withCredentials),function(i,t){var o,e,a=$.defer(),n=a.promise,r=i.headers,s=function(t,e){if(!e)return t;var n=[];return function(t,e,n){for(var r=z(t),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i])}(e,function(t,e){null===t||M(t)||(lt(t)||(t=[t]),ot(t,function(t){st(t)&&(t=C(t)?t.toISOString():U(t)),n.push(J(e)+"="+J(t))}))}),0<n.length&&(t+=(-1==t.indexOf("?")?"?":"&")+n.join("&")),t}(i.url,i.params);if(g.pendingRequests.push(i),n.then(f,f),!i.cache&&!m.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(o=st(i.cache)?i.cache:st(m.cache)?m.cache:v),o&&(Y(e=o.get(s))?k(e)?e.then(c,c):lt(e)?l(e[1],e[0],_(e[2]),e[3]):l(e,200,{},"OK"):o.put(s,n)),M(e)){var u=cr(i.url)?h.cookies()[i.xsrfCookieName||m.xsrfCookieName]:rt;u&&(r[i.xsrfHeaderName||m.xsrfHeaderName]=u),d(i.method,s,t,function(t,e,n,r){function i(){l(e,t,n,r)}o&&(Qe(t)?o.put(s,[t,e,Ke(n),r]):o.remove(s)),y?p.$applyAsync(i):(i(),p.$$phase||p.$apply())},r,i.timeout,i.withCredentials,i.responseType)}return n;function l(t,e,n,r){(Qe(e=Math.max(e,0))?a.resolve:a.reject)({data:t,status:e,headers:Xe(n),config:i,statusText:r})}function c(t){l(t.data,t.status,_(t.headers()),t.statusText)}function f(){var t=g.pendingRequests.indexOf(i);-1!==t&&g.pendingRequests.splice(t,1)}}(t,e).then(a,a)},rt],r=$.when(n);for(ot(s,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&e.push(t.response,t.responseError)});e.length;){var i=e.shift(),o=e.shift();r=r.then(i,o)}return r.success=function(e){return r.then(function(t){e(t.data,t.status,t.headers,n)}),r},r.error=function(e){return r.then(null,function(t){e(t.data,t.status,t.headers,n)}),r},r;function a(t){var e=R({},t);return t.data?e.data=Ze(t.data,t.headers,t.status,n.transformResponse):e.data=t.data,Qe(t.status)?e:$.reject(e)}}return ot(n,function(t){s.unshift(ut(t)?e.get(t):e.invoke(t))}),g.pendingRequests=[],function(t){ot(arguments,function(n){g[n]=function(t,e){return g(R(e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){ot(arguments,function(r){g[r]=function(t,e,n){return g(R(n||{},{method:r,url:t,data:e}))}})}("post","put","patch"),g.defaults=m,g}]}function en(){return new l.XMLHttpRequest}function nn(){this.$get=["$browser","$window","$document",function(t,e,n){return b=en,x=(w=t).defer,C=e.angular.callbacks,S=n[0],function(t,r,e,i,n,o,a,s){if(w.$$incOutstandingRequestCount(),r=r||w.url(),"jsonp"==I(t)){var u="_"+(C.counter++).toString(36);C[u]=function(t){C[u].data=t,C[u].called=!0};var l=(d=r.replace("JSON_CALLBACK","angular.callbacks."+u),h=u,p=function(t,e){y(i,t,C[u].data,"",e),C[u]=at},$=S.createElement("script"),v=null,$.type="text/javascript",$.src=d,$.async=!0,Rt($,"load",v=function(t){jt($,"load",v),jt($,"error",v),S.body.removeChild($),$=null;var e=-1,n="unknown";t&&("load"!==t.type||C[h].called||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),p&&p(e,n)}),Rt($,"error",v),S.body.appendChild($),v)}else{var c=b();c.open(t,r,!0),ot(n,function(t,e){Y(t)&&c.setRequestHeader(e,t)}),c.onload=function(){var t=c.statusText||"",e="response"in c?c.response:c.responseText,n=1223===c.status?204:c.status;0===n&&(n=e?200:"file"==lr(r).protocol?404:0),y(i,n,e,c.getAllResponseHeaders(),t)};var f=function(){y(i,-1,null,null,"")};if(c.onerror=f,c.onabort=f,a&&(c.withCredentials=!0),s)try{c.responseType=s}catch(t){if("json"!==s)throw t}c.send(e||null)}var d,h,p,$,v;if(0<o)var g=x(m,o);else k(o)&&o.then(m);function m(){l&&l(),c&&c.abort()}function y(t,e,n,r,i){g!==rt&&x.cancel(g),l=c=null,t(e,n,r,i),w.$$completeOutstandingRequest(at)}};var w,b,x,C,S}]}var rn=w("$interpolate");function on(){var A="{{",E="}}";this.startSymbol=function(t){return t?(A=t,this):A},this.endSymbol=function(t){return t?(E=t,this):E},this.$get=["$parse","$exceptionHandler","$sce",function(m,y,w){var b=A.length,x=E.length,C=new RegExp(A.replace(/./g,t),"g"),S=new RegExp(E.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function e(o,t,e,r){r=!!r;for(var n,i,a,s=0,u=[],l=[],c=o.length,f=[],d=[];s<c;){if(-1==(n=o.indexOf(A,s))||-1==(i=o.indexOf(E,n+b))){s!==c&&f.push(v(o.substring(s)));break}s!==n&&f.push(v(o.substring(s,n))),a=o.substring(n+b,i),u.push(a),l.push(m(a,g)),s=i+x,d.push(f.length),f.push("")}if(e&&1<f.length)throw rn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);if(!t||u.length){var h=function(t){for(var e=0,n=u.length;e<n;e++){if(r&&M(t[e]))return;f[d[e]]=t[e]}return f.join("")},p=function(t){return e?w.getTrusted(e,t):w.valueOf(t)},$=function(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}return t};return R(function(t){var e=0,n=u.length,r=new Array(n);try{for(;e<n;e++)r[e]=l[e](t);return h(r)}catch(t){var i=rn("interr","Can't interpolate: {0}\n{1}",o,t.toString());y(i)}},{exp:o,expressions:u,$$watchDelegate:function(r,i,t){var o;return r.$watchGroup(l,function(t,e){var n=h(t);ct(i)&&i.call(this,n,t!==e?o:n,r),o=n},t)}})}function v(t){return t.replace(C,A).replace(S,E)}function g(t){try{return t=p(t),r&&!Y(t)?t:$(t)}catch(t){var e=rn("interr","Can't interpolate: {0}\n{1}",o,t.toString());y(e)}}}return e.startSymbol=function(){return A},e.endSymbol=function(){return E},e}]}function an(){this.$get=["$rootScope","$window","$q","$$q",function(c,f,d,h){var p={};function t(t,e,n,r){var i=f.setInterval,o=f.clearInterval,a=0,s=Y(r)&&!r,u=(s?h:d).defer(),l=u.promise;return n=Y(n)?n:0,l.then(null,null,t),l.$$intervalId=i(function(){u.notify(a++),0<n&&n<=a&&(u.resolve(a),o(l.$$intervalId),delete p[l.$$intervalId]),s||c.$apply()},e),p[l.$$intervalId]=u,l}return t.cancel=function(t){return!!(t&&t.$$intervalId in p)&&(p[t.$$intervalId].reject("canceled"),f.clearInterval(t.$$intervalId),delete p[t.$$intervalId],!0)},t}]}function sn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a",short:"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}var un=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ln={http:80,https:443,ftp:21},cn=w("$location");function fn(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=W(e[n]);return e.join("/")}function dn(t,e){var n=lr(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=h(n.port)||ln[n.protocol]||null}function hn(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=lr(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=B(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function pn(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function $n(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function vn(t){return t.replace(/(#.+)|#$/,"$1")}function gn(t){return t.substr(0,$n(t).lastIndexOf("/")+1)}function mn(o,a){this.$$html5=!0,a=a||"";var s=gn(o);dn(o,this),this.$$parse=function(t){var e=pn(s,t);if(!ut(e))throw cn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,s);hn(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=s+this.$$url.substr(1)},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):((n=pn(o,t))!==rt?i=(n=pn(a,r=n))!==rt?s+(pn("/",n)||n):o+r:(n=pn(s,t))!==rt?i=s+n:s==t+"/"&&(i=s),i&&this.$$parse(i),!!i);var n,r,i}}function yn(r,i){var o=gn(r);dn(r,this),this.$$parse=function(t){var e,n=pn(r,t)||pn(o,t);"#"===n.charAt(0)?M(e=pn(i,n))&&(e=n):e=this.$$html5?n:"",hn(e,this),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;0===e.indexOf(n)&&(e=e.replace(n,""));if(i.exec(e))return t;return(r=i.exec(t))?r[1]:t}(this.$$path,e,r),this.$$compose()},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+(this.$$url?i+this.$$url:"")},this.$$parseLinkUrl=function(t,e){return $n(r)==$n(t)&&(this.$$parse(t),!0)}}function wn(i,o){this.$$html5=!0,yn.apply(this,arguments);var a=gn(i);this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(i==$n(t)?n=t:(r=pn(a,t))?n=i+o+r:a===t+"/"&&(n=a),n&&this.$$parse(n),!!n);var n,r},this.$$compose=function(){var t=H(this.$$search),e=this.$$hash?"#"+W(this.$$hash):"";this.$$url=fn(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+o+this.$$url}}var bn={$$html5:!1,$$replace:!1,absUrl:xn("$$absUrl"),url:function(t){if(M(t))return this.$$url;var e=un.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:xn("$$protocol"),host:xn("$$host"),port:xn("$$port"),path:Cn("$$path",function(t){return"/"==(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(ut(n)||x(n))n=n.toString(),this.$$search=B(n);else{if(!st(n))throw cn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");ot(n=P(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:M(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:Cn("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function xn(t){return function(){return this[t]}}function Cn(e,n){return function(t){return M(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function Sn(){var $="",v={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return Y(t)?($=t,this):$},this.html5Mode=function(t){return A(t)?(v.enabled=t,this):st(t)?(A(t.enabled)&&(v.enabled=t.enabled),A(t.requireBase)&&(v.requireBase=t.requireBase),A(t.rewriteLinks)&&(v.rewriteLinks=t.rewriteLinks),this):v},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,e,i,o){var u,t,n,r,l=s.baseHref(),c=s.url();if(v.enabled){if(!l&&v.requireBase)throw cn("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(r=c).substring(0,r.indexOf("/",r.indexOf("//")+2))+(l||"/"),t=e.history?mn:wn}else n=$n(c),t=yn;(u=new t(n,"#"+$)).$$parseLinkUrl(c,c),u.$$state=s.state();var f=/^\s*(javascript|mailto):/i;function d(t,e,n){var r=u.url(),i=u.$$state;try{s.url(t,e,n),u.$$state=s.state()}catch(t){throw u.url(r),u.$$state=i,t}}i.on("click",function(t){if(v.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var e=it(t.target);"a"!==ht(e[0]);)if(e[0]===i[0]||!(e=e.parent())[0])return;var n=e.prop("href"),r=e.attr("href")||e.attr("xlink:href");st(n)&&"[object SVGAnimatedString]"===n.toString()&&(n=lr(n.animVal).href),f.test(n)||!n||e.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(n,r)&&(t.preventDefault(),u.absUrl()!=s.url()&&(a.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}),u.absUrl()!=c&&s.url(u.absUrl(),!0);var h=!0;return s.onUrlChange(function(r,i){a.$evalAsync(function(){var t,e=u.absUrl(),n=u.$$state;u.$$parse(r),u.$$state=i,t=a.$broadcast("$locationChangeStart",r,e,i,n).defaultPrevented,u.absUrl()===r&&(t?(u.$$parse(e),d(e,!1,u.$$state=n)):(h=!1,p(e,n)))}),a.$$phase||a.$digest()}),a.$watch(function(){var n=vn(s.url()),t=vn(u.absUrl()),r=s.state(),i=u.$$replace,o=n!==t||u.$$html5&&e.history&&r!==u.$$state;(h||o)&&(h=!1,a.$evalAsync(function(){var t=u.absUrl(),e=a.$broadcast("$locationChangeStart",t,n,u.$$state,r).defaultPrevented;u.absUrl()===t&&(e?(u.$$parse(n),u.$$state=r):(o&&d(t,i,r===u.$$state?null:u.$$state),p(n,r)))})),u.$$replace=!1}),u;function p(t,e){a.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}}]}function An(){var n=!0,r=this;this.debugEnabled=function(t){return Y(t)?(n=t,this):n},this.$get=["$window",function(i){return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){n&&t.apply(r,arguments)})};var t;function e(t){var e=i.console||{},r=e[t]||e.log||at,n=!1;try{n=!!r.apply}catch(t){}return n?function(){var n=[];return ot(arguments,function(t){var e;n.push(((e=t)instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),r.apply(e,n)}:function(t,e){r(t,null==e?"":e)}}}]}ot([wn,yn,mn],function(e){e.prototype=Object.create(bn),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==mn||!this.$$html5)throw cn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=M(t)?null:t,this}});var En=w("$parse");function kn(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw En("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Tn(t,e){if(t){if(t.constructor===t)throw En("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw En("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw En("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw En("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}var On=Function.prototype.call,Pn=Function.prototype.apply,Mn=Function.prototype.bind;var _n=Et();ot({null:function(){return null},true:function(){return!0},false:function(){return!1},undefined:function(){}},function(t,e){t.constant=t.literal=t.sharedGetter=!0,_n[e]=t}),_n.this=function(t){return t},_n.this.sharedGetter=!0;var Dn=R(Et(),{"+":function(t,e,n,r){return n=n(t,e),r=r(t,e),Y(n)?Y(r)?n+r:n:Y(r)?r:rt},"-":function(t,e,n,r){return n=n(t,e),r=r(t,e),(Y(n)?n:0)-(Y(r)?r:0)},"*":function(t,e,n,r){return n(t,e)*r(t,e)},"/":function(t,e,n,r){return n(t,e)/r(t,e)},"%":function(t,e,n,r){return n(t,e)%r(t,e)},"===":function(t,e,n,r){return n(t,e)===r(t,e)},"!==":function(t,e,n,r){return n(t,e)!==r(t,e)},"==":function(t,e,n,r){return n(t,e)==r(t,e)},"!=":function(t,e,n,r){return n(t,e)!=r(t,e)},"<":function(t,e,n,r){return n(t,e)<r(t,e)},">":function(t,e,n,r){return n(t,e)>r(t,e)},"<=":function(t,e,n,r){return n(t,e)<=r(t,e)},">=":function(t,e,n,r){return n(t,e)>=r(t,e)},"&&":function(t,e,n,r){return n(t,e)&&r(t,e)},"||":function(t,e,n,r){return n(t,e)||r(t,e)},"!":function(t,e,n){return!n(t,e)},"=":!0,"|":!0}),Nn={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},In=function(t){this.options=t};function Rn(t){return t.constant}In.prototype={constructor:In,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Dn[e],o=Dn[n],a=Dn[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||" "===t},isIdent:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=Y(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw En("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=I(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Nn[o]||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var jn=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n};function Vn(t,e,n,r,i){Tn(t,i),Tn(e,i);for(var o,a=n.split("."),s=0;1<a.length;s++){o=kn(a.shift(),i);var u=0===s&&e&&e[o]||t[o];u||(u={},t[o]=u),t=Tn(u,i)}return Tn(t[o=kn(a.shift(),i)],i),t[o]=r}jn.ZERO=R(function(){return 0},{sharedGetter:!0,constant:!0}),jn.prototype={constructor:jn,parse:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e.literal=!!e.literal,e.constant=!!e.constant,e},primary:function(){var t,e,n;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.peek().identifier&&this.peek().text in _n?t=_n[this.consume().text]:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(;e=this.expect("(","[",".");)"("===e.text?(t=this.functionCall(t,n),n=null):"["===e.text?(n=t,t=this.objectIndex(t)):"."===e.text?(n=t,t=this.fieldAccess(t)):this.throwError("IMPOSSIBLE");return t},throwError:function(t,e){throw En("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},peekToken:function(){if(0===this.tokens.length)throw En("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},consume:function(t){if(0===this.tokens.length)throw En("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},unaryFn:function(t,n){var r=Dn[t];return R(function(t,e){return r(t,e,n)},{constant:n.constant,inputs:[n]})},binaryFn:function(n,t,r,e){var i=Dn[t];return R(function(t,e){return i(t,e,n,r)},{constant:n.constant&&r.constant,inputs:!e&&[n,r]})},identifier:function(){for(var t=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)t+=this.consume().text+this.consume().text;return function(r,t,i){var o=t.expensiveChecks,e=o?Un:Fn,n=e[r];if(n)return n;var a=r.split("."),s=a.length;if(t.csp)n=s<6?Ln(a[0],a[1],a[2],a[3],a[4],i,o):function(t,e){for(var n,r=0;n=Ln(a[r++],a[r++],a[r++],a[r++],a[r++],i,o)(t,e),e=rt,t=n,r<s;);return n};else{var u="";o&&(u+="s = eso(s, fe);\nl = eso(l, fe);\n");var l=o;ot(a,function(t,e){kn(t,i);var n=(e?"s":'((l&&l.hasOwnProperty("'+t+'"))?l:s)')+"."+t;(o||qn(t))&&(n="eso("+n+", fe)",l=!0),u+="if(s == null) return undefined;\ns="+n+";\n"}),u+="return s;";var c=new Function("s","l","eso","fe",u);c.toString=y(u),l&&(f=c,d=i,c=function(t,e){return f(t,e,Tn,d)}),n=c}var f,d;return n.sharedGetter=!0,n.assign=function(t,e,n){return Vn(t,n,r,e,r)},e[r]=n}(t,this.options,this.text)},constant:function(){var t=this.consume().value;return R(function(){return t},{constant:!0,literal:!0})},statements:function(){for(var o=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&o.push(this.filterChain()),!this.expect(";"))return 1===o.length?o[0]:function(t,e){for(var n,r=0,i=o.length;r<i;r++)n=o[r](t,e);return n}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},filter:function(i){var o,a,s=this.$filter(this.consume().text);if(this.peek(":"))for(o=[],a=[];this.expect(":");)o.push(this.expression());var t=[i].concat(o||[]);return R(function(t,e){var n=i(t,e);if(a){a[0]=n;for(var r=o.length;r--;)a[r+1]=o[r](t,e);return s.apply(rt,a)}return s(n)},{constant:!s.$stateful&&t.every(Rn),inputs:!s.$stateful&&t})},expression:function(){return this.assignment()},assignment:function(){var n,t,r=this.ternary();return(t=this.expect("="))?(r.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),n=this.ternary(),R(function(t,e){return r.assign(t,n(t,e),e)},{inputs:[r,n]})):r},ternary:function(){var n,r=this.logicalOR();if(this.expect("?")&&(n=this.assignment(),this.consume(":"))){var i=this.assignment();return R(function(t,e){return r(t,e)?n(t,e):i(t,e)},{constant:r.constant&&n.constant&&i.constant})}return r},logicalOR:function(){for(var t,e=this.logicalAND();t=this.expect("||");)e=this.binaryFn(e,t.text,this.logicalAND(),!0);return e},logicalAND:function(){for(var t,e=this.equality();t=this.expect("&&");)e=this.binaryFn(e,t.text,this.equality(),!0);return e},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e=this.binaryFn(e,t.text,this.relational());return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e=this.binaryFn(e,t.text,this.additive());return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e=this.binaryFn(e,t.text,this.multiplicative());return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e=this.binaryFn(e,t.text,this.unary());return e},unary:function(){var t;return this.expect("+")?this.primary():(t=this.expect("-"))?this.binaryFn(jn.ZERO,t.text,this.unary()):(t=this.expect("!"))?this.unaryFn(t.text,this.unary()):this.primary()},fieldAccess:function(i){var o=this.identifier();return R(function(t,e,n){var r=n||i(t,e);return null==r?rt:o(r)},{assign:function(t,e,n){var r=i(t,n);return r||i.assign(t,r={},n),o.assign(r,e)}})},objectIndex:function(o){var a=this.text,s=this.expression();return this.consume("]"),R(function(t,e){var n=o(t,e),r=s(t,e);return kn(r,a),n?Tn(n[r],a):rt},{assign:function(t,e,n){var r=kn(s(t,n),a),i=Tn(o(t,n),a);return i||o.assign(t,i={},n),i[r]=e}})},functionCall:function(o,a){var s=[];if(")"!==this.peekToken().text)for(;s.push(this.expression()),this.expect(","););this.consume(")");var u=this.text,l=s.length?[]:null;return function(t,e){var n=a?a(t,e):Y(a)?rt:t,r=o(t,e,n)||at;if(l)for(var i=s.length;i--;)l[i]=Tn(s[i](t,e),u);return Tn(n,u),function(t,e){if(t){if(t.constructor===t)throw En("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===On||t===Pn||t===Mn)throw En("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}(r,u),Tn(r.apply?r.apply(n,l):r(l[0],l[1],l[2],l[3],l[4]),u)}},arrayDeclaration:function(){var o=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;o.push(this.expression())}while(this.expect(","));return this.consume("]"),R(function(t,e){for(var n=[],r=0,i=o.length;r<i;r++)n.push(o[r](t,e));return n},{literal:!0,constant:o.every(Rn),inputs:o})},object:function(){var o=[],a=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var t=this.consume();t.constant?o.push(t.value):t.identifier?o.push(t.text):this.throwError("invalid key",t),this.consume(":"),a.push(this.expression())}while(this.expect(","));return this.consume("}"),R(function(t,e){for(var n={},r=0,i=a.length;r<i;r++)n[o[r]]=a[r](t,e);return n},{literal:!0,constant:a.every(Rn),inputs:a})}};var Fn=Et(),Un=Et();function qn(t){return"constructor"==t}function Ln(r,i,o,a,s,e,t){kn(r,e),kn(i,e),kn(o,e),kn(a,e),kn(s,e);var n=function(t){return Tn(t,e)},u=t||qn(r)?n:m,l=t||qn(i)?n:m,c=t||qn(o)?n:m,f=t||qn(a)?n:m,d=t||qn(s)?n:m;return function(t,e){var n=e&&e.hasOwnProperty(r)?e:t;return null==n?n:(n=u(n[r]),i?null==n?rt:(n=l(n[i]),o?null==n?rt:(n=c(n[o]),a?null==n?rt:(n=f(n[a]),s?null==n?rt:n=d(n[s]):n):n):n):n)}}var Bn=Object.prototype.valueOf;function Hn(t){return ct(t.valueOf)?t.valueOf():Bn.call(t)}function Wn(){var y=Et(),w=Et();this.$get=["$filter","$sniffer",function(f,t){var d={csp:t.csp,expensiveChecks:!1},h={csp:t.csp,expensiveChecks:!0};return function(t,e,n){var r,i,o,a,s;switch(typeof t){case"string":o=t=t.trim();var u=n?w:y;if(!(r=u[o])){":"===t.charAt(0)&&":"===t.charAt(1)&&(i=!0,t=t.substring(2));var l=n?h:d,c=new In(l);(r=new jn(c,f,l).parse(t)).constant?r.$$watchDelegate=g:i?((s=a=r).sharedGetter&&((s=function(t,e){return a(t,e)}).literal=a.literal,s.constant=a.constant,s.assign=a.assign),(r=s).$$watchDelegate=r.literal?v:$):r.inputs&&(r.$$watchDelegate=p),u[o]=r}return m(r,e);case"function":return m(t,e);default:return m(at,e)}};function c(t,e){return null==t||null==e?t===e:("object"!=typeof t||"object"!=typeof(t=Hn(t)))&&(t===e||t!=t&&e!=e)}function p(t,e,n,o){var a,s=o.$$inputs||(o.$$inputs=function t(e,n){for(var r=0,i=e.length;r<i;r++){var o=e[r];o.constant||(o.inputs?t(o.inputs,n):-1===n.indexOf(o)&&n.push(o))}return n}(o.inputs,[]));if(1===s.length){var r=c;return s=s[0],t.$watch(function(t){var e=s(t);return c(e,r)||(a=o(t),r=e&&Hn(e)),a},e,n)}for(var u=[],i=0,l=s.length;i<l;i++)u[i]=c;return t.$watch(function(t){for(var e=!1,n=0,r=s.length;n<r;n++){var i=s[n](t);(e||(e=!c(i,u[n])))&&(u[n]=i&&Hn(i))}return e&&(a=o(t)),a},e,n)}function $(t,r,e,n){var i,o;return i=t.$watch(function(t){return n(t)},function(t,e,n){o=t,ct(r)&&r.apply(this,arguments),Y(t)&&n.$$postDigest(function(){Y(o)&&i()})},e)}function v(t,r,e,n){var i,o;return i=t.$watch(function(t){return n(t)},function(t,e,n){o=t,ct(r)&&r.call(this,t,e,n),a(t)&&n.$$postDigest(function(){a(o)&&i()})},e);function a(t){var e=!0;return ot(t,function(t){Y(t)||(e=!1)}),e}}function g(t,r,e,n){var i;return i=t.$watch(function(t){return n(t)},function(t,e,n){ct(r)&&r.apply(this,arguments),i()},e)}function m(i,o){if(!o)return i;var t=i.$$watchDelegate,e=t!==v&&t!==$?function(t,e){var n=i(t,e);return o(n,t,e)}:function(t,e){var n=i(t,e),r=o(n,t,e);return Y(n)?r:n};return i.$$watchDelegate&&i.$$watchDelegate!==p?e.$$watchDelegate=i.$$watchDelegate:o.$stateful||(e.$$watchDelegate=p,e.inputs=[i]),e}}]}function Gn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Yn(function(t){e.$evalAsync(t)},t)}]}function zn(){this.$get=["$browser","$exceptionHandler",function(e,t){return Yn(function(t){e.defer(t)},t)}]}function Yn(e,a){var r=w("$q",TypeError);function t(){this.$$state={status:0}}function n(e,n){return function(t){n.call(e,t)}}function i(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){!function(t){var e,n,r;r=t.pending,t.processScheduled=!1,t.pending=rt;for(var i=0,o=r.length;i<o;++i){n=r[i][0],e=r[i][t.status];try{ct(e)?n.resolve(e(t.value)):1===t.status?n.resolve(t.value):n.reject(t.value)}catch(t){n.reject(t),a(t)}}}(t)}))}function o(){this.promise=new t,this.resolve=n(this,this.resolve),this.reject=n(this,this.reject),this.notify=n(this,this.notify)}t.prototype={then:function(t,e,n){var r=new o;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),0<this.$$state.status&&i(this.$$state),r.promise},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return u(t,!0,e)},function(t){return u(t,!1,e)},t)}},o.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(r("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var e,n;n=function(n,t,e){var r=!1;function i(e){return function(t){r||(r=!0,e.call(n,t))}}return[i(t),i(e)]}(this,this.$$resolve,this.$$reject);try{(st(t)||ct(t))&&(e=t&&t.then),ct(e)?(this.promise.$$state.status=-1,e.call(t,n[0],n[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,i(this.promise.$$state))}catch(t){n[1](t),a(t)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(i){var o=this.promise.$$state.pending;this.promise.$$state.status<=0&&o&&o.length&&e(function(){for(var t,e,n=0,r=o.length;n<r;n++){e=o[n][0],t=o[n][3];try{e.notify(ct(t)?t(i):i)}catch(t){a(t)}}})}};var s=function(t,e){var n=new o;return e?n.resolve(t):n.reject(t),n.promise},u=function(t,e,n){var r=null;try{ct(n)&&(r=n())}catch(t){return s(t,!1)}return k(r)?r.then(function(){return s(t,e)},function(t){return s(t,!1)}):s(t,e)},l=function(t,e,n,r){var i=new o;return i.resolve(t),i.promise.then(e,n,r)};var c=function t(e){if(!ct(e))throw r("norslvr","Expected resolverFn, got '{0}'",e);if(!(this instanceof t))return new t(e);var n=new o;return e(function(t){n.resolve(t)},function(t){n.reject(t)}),n.promise};return c.defer=function(){return new o},c.reject=function(t){var e=new o;return e.reject(t),e.promise},c.when=l,c.all=function(t){var n=new o,r=0,i=lt(t)?[]:{};return ot(t,function(t,e){r++,l(t).then(function(t){i.hasOwnProperty(e)||(i[e]=t,--r||n.resolve(i))},function(t){i.hasOwnProperty(e)||n.reject(t)})}),0===r&&n.resolve(i),n.promise},c}function Jn(){this.$get=["$window","$timeout",function(t,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!r,o=e?function(t){var e=r(t);return function(){i(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return o.supported=e,o}]}function Kn(){var x=10,C=w("$rootScope"),S=null,A=null;this.digestTtl=function(t){return arguments.length&&(x=t),x},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(t,d,p,h){function r(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}r.prototype={constructor:r,$new:function(t,e){var n;return e=e||this,t?(n=new r).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=i(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!=this)&&n.$on("$destroy",function(){n.$$destroyed=!0}),n},$watch:function(t,e,n){var r=p(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r);var i=this.$$watchers,o={fn:e,last:w,get:r,exp:t,eq:!!n};return S=null,ct(e)||(o.fn=at),i||(i=this.$$watchers=[]),i.unshift(o),function(){pt(i,o),S=null}},$watchGroup:function(t,r){var i=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,e=!0;if(!t.length){var n=!0;return s.$evalAsync(function(){n&&r(o,o,s)}),function(){n=!1}}if(1===t.length)return this.$watch(t[0],function(t,e,n){o[0]=t,i[0]=e,r(o,t===e?o:i,n)});function l(){u=!1,e?(e=!1,r(o,o,s)):r(o,i,s)}return ot(t,function(t,n){var e=s.$watch(t,function(t,e){o[n]=t,i[n]=e,u||(u=!0,s.$evalAsync(l))});a.push(e)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(t,n){h.$stateful=!0;var a,s,r,i=this,o=1<n.length,u=0,e=p(t,h),l=[],c={},f=!0,d=0;function h(t){var e,n,r,i;if(!M(a=t)){if(st(a))if(N(a)){s!==l&&(d=(s=l).length=0,u++),e=a.length,d!==e&&(u++,s.length=d=e);for(var o=0;o<e;o++)i=s[o],r=a[o],i!=i&&r!=r||i===r||(u++,s[o]=r)}else{for(n in s!==c&&(s=c={},d=0,u++),e=0,a)a.hasOwnProperty(n)&&(e++,r=a[n],i=s[n],n in s?i!=i&&r!=r||i===r||(u++,s[n]=r):(d++,s[n]=r,u++));if(e<d)for(n in u++,s)a.hasOwnProperty(n)||(d--,delete s[n])}else s!==a&&(s=a,u++);return u}}return this.$watch(e,function(){if(f?(f=!1,n(a,a,i)):n(a,r,i),o)if(st(a))if(N(a)){r=new Array(a.length);for(var t=0;t<a.length;t++)r[t]=a[t]}else for(var e in r={},a)E.call(a,e)&&(r[e]=a[e]);else r=a})},$digest:function(){var t,e,n,r,i,o,a,s,u,l,c=x,f=[];m("$digest"),h.$$checkUrlChange(),this===$&&null!==A&&(h.defer.cancel(A),b()),S=null;do{for(o=!1,s=this;v.length;){try{(l=v.shift()).scope.$eval(l.expression,l.locals)}catch(t){d(t)}S=null}t:do{if(r=s.$$watchers)for(i=r.length;i--;)try{if(t=r[i])if((e=t.get(s))===(n=t.last)||(t.eq?$t(e,n):"number"==typeof e&&"number"==typeof n&&isNaN(e)&&isNaN(n))){if(t===S){o=!1;break t}}else o=!0,(S=t).last=t.eq?P(e,null):e,t.fn(e,n===w?e:n,s),c<5&&(f[u=4-c]||(f[u]=[]),f[u].push({msg:ct(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){d(t)}if(!(a=s.$$childHead||s!==this&&s.$$nextSibling))for(;s!==this&&!(a=s.$$nextSibling);)s=s.$parent}while(s=a);if((o||v.length)&&!c--)throw y(),C("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",x,f)}while(o||v.length);for(y();g.length;)try{g.shift()()}catch(t){d(t)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$){for(var e in this.$$listenerCount)o(this,this.$$listenerCount[e],e);t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=at,this.$on=this.$watch=this.$watchGroup=function(){return at},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t,e){$.$$phase||v.length||h.defer(function(){v.length&&$.$digest()}),v.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){g.push(t)},$apply:function(t){try{return m("$apply"),this.$eval(t)}catch(t){d(t)}finally{y();try{$.$digest()}catch(t){throw d(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),null===A&&(A=h.defer(function(){$.$apply(b)}))},$on:function(e,n){var r=this.$$listeners[e];r||(this.$$listeners[e]=r=[]),r.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var i=this;return function(){var t=r.indexOf(n);-1!==t&&(r[t]=null,o(i,1,e))}},$emit:function(t,e){var n,r,i,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=j([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,l)}catch(t){d(t)}else n.splice(r,1),r--,i--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,u,l=j([o],arguments,1);r=i;){for(s=0,u=(a=(o.currentScope=r).$$listeners[t]||[]).length;s<u;s++)if(a[s])try{a[s].apply(null,l)}catch(t){d(t)}else a.splice(s,1),s--,u--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var $=new r,v=$.$$asyncQueue=[],g=$.$$postDigestQueue=[],n=$.$$applyAsyncQueue=[];return $;function m(t){if($.$$phase)throw C("inprog","{0} already in progress",$.$$phase);$.$$phase=t}function y(){$.$$phase=null}function o(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function w(){}function b(){for(;n.length;)try{n.shift()()}catch(t){d(t)}A=null}}]}function Xn(){var i=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return Y(t)?(i=t,this):i},this.imgSrcSanitizationWhitelist=function(t){return Y(t)?(o=t,this):o},this.$get=function(){return function(t,e){var n,r=e?o:i;return""===(n=lr(t).href)||n.match(r)?t:"unsafe:"+n}}}var Zn=w("$sce"),Qn={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function tr(t){var e=[];return Y(t)&&ot(t,function(t){e.push(function(t){if("self"===t)return t;if(ut(t)){if(-1<t.indexOf("***"))throw Zn("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=T(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(d(t))return new RegExp("^"+t.source+"$");throw Zn("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function er(){this.SCE_CONTEXTS=Qn;var a=["self"],s=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(a=tr(t)),a},this.resourceUrlBlacklist=function(t){return arguments.length&&(s=tr(t)),s},this.$get=["$injector",function(t){var r=function(t){throw Zn("unsafe","Attempting to use an unsafe value in a safe context.")};function o(t,e){return"self"===t?cr(e):!!t.exec(e.href)}function e(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(r=t.get("$sanitize"));var n=e(),i={};return i[Qn.HTML]=e(n),i[Qn.CSS]=e(n),i[Qn.URL]=e(n),i[Qn.JS]=e(n),i[Qn.RESOURCE_URL]=e(i[Qn.URL]),{trustAs:function(t,e){var n=i.hasOwnProperty(t)?i[t]:null;if(!n)throw Zn("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===rt||""===e)return e;if("string"!=typeof e)throw Zn("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||e===rt||""===e)return e;var n=i.hasOwnProperty(t)?i[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Qn.RESOURCE_URL){if(function(t){var e,n,r=lr(t.toString()),i=!1;for(e=0,n=a.length;e<n;e++)if(o(a[e],r)){i=!0;break}if(i)for(e=0,n=s.length;e<n;e++)if(o(s[e],r)){i=!1;break}return i}(e))return e;throw Zn("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Qn.HTML)return r(e);throw Zn("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function nr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(r,t){if(e&&G<8)throw Zn("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=_(Qn);i.isEnabled=function(){return e},i.trustAs=t.trustAs,i.getTrusted=t.getTrusted,i.valueOf=t.valueOf,e||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(e,t){var n=r(t);return n.literal&&n.constant?n:r(t,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return ot(Qn,function(e,t){var n=I(t);i[Lt("parse_as_"+n)]=function(t){return o(e,t)},i[Lt("get_trusted_"+n)]=function(t){return a(e,t)},i[Lt("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function rr(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=h((/android (\d+)/.exec(I((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=/^(Moz|webkit|ms)(?=[A-Z])/,l=s.body&&s.body.style,c=!1,f=!1;if(l){for(var d in l)if(r=u.exec(d)){n=(n=r[0]).substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),c=!!("transition"in l||n+"Transition"in l),f=!!("animation"in l||n+"Animation"in l),!o||c&&f||(c=ut(s.body.style.webkitTransition),f=ut(s.body.style.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||o<4||a),hasEvent:function(t){if("input"===t&&G<=11)return!1;if(M(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:D(),vendorPrefix:n,transitions:c,animations:f,android:o}}]}Ie=w("$compile");function ir(){this.$get=["$templateCache","$http","$q",function(i,o,a){function s(e,n){s.totalPendingRequests++;var t=o.defaults&&o.defaults.transformResponse;lt(t)?t=t.filter(function(t){return t!==Je}):t===Je&&(t=null);var r={cache:i,transformResponse:t};return o.get(e,r).finally(function(){s.totalPendingRequests--}).then(function(t){return t.data},function(t){if(n)return a.reject(t);throw Ie("tpload","Failed to load template: {0}",e)})}return s.totalPendingRequests=0,s}]}function or(){this.$get=["$rootScope","$browser","$location",function(e,n,r){var t={findBindings:function(t,n,r){var e=t.getElementsByClassName("ng-binding"),i=[];return ot(e,function(e){var t=b.element(e).data("$binding");t&&ot(t,function(t){r?new RegExp("(^|\\s)"+T(n)+"(\\s|\\||$)").test(t)&&i.push(e):-1!=t.indexOf(n)&&i.push(e)})}),i},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o="["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]',a=t.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return r.url()},setLocation:function(t){t!==r.url()&&(r.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}};return t}]}function ar(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(s,u,l,c,f){var d={};function t(t,e,n){var r,i=Y(n)&&!n,o=(i?c:l).defer(),a=o.promise;return r=u.defer(function(){try{o.resolve(t())}catch(t){o.reject(t),f(t)}finally{delete d[a.$$timeoutId]}i||s.$apply()},e),a.$$timeoutId=r,d[r]=o,a}return t.cancel=function(t){return!!(t&&t.$$timeoutId in d)&&(d[t.$$timeoutId].reject("canceled"),delete d[t.$$timeoutId],u.defer.cancel(t.$$timeoutId))},t}]}var sr=nt.createElement("a"),ur=lr(l.location.href);function lr(t){var e=t;return G&&(sr.setAttribute("href",e),e=sr.href),sr.setAttribute("href",e),{href:sr.href,protocol:sr.protocol?sr.protocol.replace(/:$/,""):"",host:sr.host,search:sr.search?sr.search.replace(/^\?/,""):"",hash:sr.hash?sr.hash.replace(/^#/,""):"",hostname:sr.hostname,port:sr.port,pathname:"/"===sr.pathname.charAt(0)?sr.pathname:"/"+sr.pathname}}function cr(t){var e=ut(t)?lr(t):t;return e.protocol===ur.protocol&&e.host===ur.host}function fr(){this.$get=y(l)}function dr(r){var i="Filter";function o(t,e){if(st(t)){var n={};return ot(t,function(t,e){n[e]=o(e,t)}),n}return r.factory(t+i,e)}this.register=o,this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}],o("currency",$r),o("date",kr),o("filter",hr),o("json",Tr),o("limitTo",Mr),o("lowercase",Or),o("number",vr),o("orderBy",_r),o("uppercase",Pr)}function hr(){return function(t,e,n){if(!lt(t))return t;var r,i;switch(typeof e){case"function":r=e;break;case"boolean":case"number":case"string":i=!0;case"object":r=function(e,n,r){var i=st(e)&&"$"in e;!0===n?n=$t:ct(n)||(n=function(t,e){return!st(t)&&!st(e)&&(t=I(""+t),e=I(""+e),-1!==t.indexOf(e))});return function(t){return i&&!st(t)?pr(t,e.$,n,!1):pr(t,e,n,r)}}(e,n,i);break;default:return t}return t.filter(r)}}function pr(t,e,n,r,i){var o=typeof t,a=typeof e;if("string"===a&&"!"===e.charAt(0))return!pr(t,e.substring(1),n,r);if(lt(t))return t.some(function(t){return pr(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&pr(t[s],e,n,!0))return!0;return!i&&pr(t,e,n,!1)}if("object"!==a)return n(t,e);for(s in e){var u=e[s];if(!ct(u)){var l="$"===s;if(!pr(l?t:t[s],u,n,l,l))return!1}}return!0;case"function":return!1;default:return n(t,e)}}function $r(t){var r=t.NUMBER_FORMATS;return function(t,e,n){return M(e)&&(e=r.CURRENCY_SYM),M(n)&&(n=r.PATTERNS[1].maxFrac),null==t?t:mr(t,r.PATTERNS[1],r.GROUP_SEP,r.DECIMAL_SEP,n).replace(/\u00A4/g,e)}}function vr(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:mr(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}dr.$inject=["$provide"],$r.$inject=["$locale"],vr.$inject=["$locale"];var gr=".";function mr(t,e,n,r,i){if(!isFinite(t)||st(t))return"";var o=t<0,a=(t=Math.abs(t))+"",s="",u=[],l=!1;if(-1!==a.indexOf("e")){var c=a.match(/([\d\.]+)e(-?)(\d+)/);c&&"-"==c[2]&&c[3]>i+1?t=0:(s=a,l=!0)}if(l)0<i&&t<1&&(s=t.toFixed(i),t=parseFloat(s));else{var f=(a.split(gr)[1]||"").length;M(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac));var d=(""+(t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i))).split(gr),h=d[0];d=d[1]||"";var p,$=0,v=e.lgSize,g=e.gSize;if(h.length>=v+g)for($=h.length-v,p=0;p<$;p++)($-p)%g==0&&0!==p&&(s+=n),s+=h.charAt(p);for(p=$;p<h.length;p++)(h.length-p)%v==0&&0!==p&&(s+=n),s+=h.charAt(p);for(;d.length<i;)d+="0";i&&"0"!==i&&(s+=r+d.substr(0,i))}return 0===t&&(o=!1),u.push(o?e.negPre:e.posPre,s,o?e.negSuf:e.posSuf),u.join("")}function yr(t,e,n){var r="";for(t<0&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function wr(n,r,i,o){return i=i||0,function(t){var e=t["get"+n]();return(0<i||-i<e)&&(e+=i),0===e&&-12==i&&(e=12),yr(e,r,o)}}function br(r,i){return function(t,e){var n=t["get"+r]();return e[u(i?"SHORT"+r:r)][n]}}function xr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function Cr(i){return function(t){var e,n=xr(t.getFullYear()),r=+(e=t,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())))-+n;return yr(1+Math.round(r/6048e5),i)}}var Sr={yyyy:wr("FullYear",4),yy:wr("FullYear",2,0,!0),y:wr("FullYear",1),MMMM:br("Month"),MMM:br("Month",!0),MM:wr("Month",2,1),M:wr("Month",1,1),dd:wr("Date",2),d:wr("Date",1),HH:wr("Hours",2),H:wr("Hours",1),hh:wr("Hours",2,-12),h:wr("Hours",1,-12),mm:wr("Minutes",2),m:wr("Minutes",1),ss:wr("Seconds",2),s:wr("Seconds",1),sss:wr("Milliseconds",3),EEEE:br("Day"),EEE:br("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){var e=-1*t.getTimezoneOffset(),n=0<=e?"+":"";return n+=yr(Math[0<e?"floor":"ceil"](e/60),2)+yr(Math.abs(e%60),2)},ww:Cr(2),w:Cr(1)},Ar=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,Er=/^\-?\d+$/;function kr(s){var f=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var r,i,o="",a=[];if(t=t||"mediumDate",t=s.DATETIME_FORMATS[t]||t,ut(e)&&(e=Er.test(e)?h(e):function(t){var e;if(e=t.match(f)){var n=new Date(0),r=0,i=0,o=e[8]?n.setUTCFullYear:n.setFullYear,a=e[8]?n.setUTCHours:n.setHours;e[9]&&(r=h(e[9]+e[10]),i=h(e[9]+e[11])),o.call(n,h(e[1]),h(e[2])-1,h(e[3]));var s=h(e[4]||0)-r,u=h(e[5]||0)-i,l=h(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return a.call(n,s,u,l,c),n}return t}(e)),x(e)&&(e=new Date(e)),!C(e))return e;for(;t;)t=(i=Ar.exec(t))?(a=j(a,i,1)).pop():(a.push(t),null);return n&&"UTC"===n&&(e=new Date(e.getTime())).setMinutes(e.getMinutes()+e.getTimezoneOffset()),ot(a,function(t){r=Sr[t],o+=r?r(e,s.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Tr(){return function(t,e){return M(e)&&(e=2),U(t,e)}}kr.$inject=["$locale"];var Or=y(I),Pr=y(u);function Mr(){return function(t,e){return x(t)&&(t=t.toString()),lt(t)||ut(t)?(e=Math.abs(Number(e))===1/0?Number(e):h(e))?0<e?t.slice(0,e):t.slice(e):ut(t)?"":[]:t}}function _r(u){return function(t,i,e){return N(t)?(0===(i=lt(i)?i:[i]).length&&(i=["+"]),i=i.map(function(t){var e=!1,n=t||m;if(ut(t)){if("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(e="-"==t.charAt(0),t=t.substring(1)),""===t)return o(s,e);if((n=u(t)).constant){var r=n();return o(function(t,e){return s(t[r],e[r])},e)}}return o(function(t,e){return s(n(t),n(e))},e)}),r.call(t).sort(o(function(t,e){for(var n=0;n<i.length;n++){var r=i[n](t,e);if(0!==r)return r}return 0},e))):t;function o(n,t){return t?function(t,e){return n(e,t)}:n}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function a(t){return null===t?"null":"function"==typeof t.valueOf&&n(t=t.valueOf())?t:"function"==typeof t.toString&&n(t=t.toString())?t:""}function s(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=a(t),e=a(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<r?-1:1}}}function Dr(t){return ct(t)&&(t={link:t}),t.restrict=t.restrict||"AC",y(t)}_r.$inject=["$parse"];var Nr=y({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref&&!e.name)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===s.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Ir={};ot(he,function(t,r){if("multiple"!=t){var i=Ve("ng-"+r);Ir[i]=function(){return{restrict:"A",priority:100,link:function(t,e,n){t.$watch(n[i],function(t){n.$set(r,!!t)})}}}}}),ot($e,function(t,i){Ir[i]=function(){return{priority:100,link:function(t,e,n){if("ngPattern"===i&&"/"==n.ngPattern.charAt(0)){var r=n.ngPattern.match(o);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(n[i],function(t){n.$set(i,t)})}}}}),ot(["src","srcset","href"],function(o){var a=Ve("ng-"+o);Ir[a]=function(){return{priority:99,link:function(t,e,n){var r=o,i=o;"href"===o&&"[object SVGAnimatedString]"===s.call(e.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$observe(a,function(t){t?(n.$set(i,t),G&&r&&e.prop(r,n[i])):"href"===o&&n.$set(i,null)})}}}});var Rr={$addControl:at,$$renameControl:function(t,e){t.$name=e},$removeControl:at,$setValidity:at,$setDirty:at,$setPristine:at,$setSubmitted:at},jr="ng-submitted";function Vr(t,e,n,r,i){var o=this,a=[],s=o.$$parentForm=t.parent().controller("form")||Rr;o.$error={},o.$$success={},o.$pending=rt,o.$name=i(e.name||e.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,s.$addControl(o),o.$rollbackViewValue=function(){ot(a,function(t){t.$rollbackViewValue()})},o.$commitViewValue=function(){ot(a,function(t){t.$commitViewValue()})},o.$addControl=function(t){Ct(t.$name,"input"),a.push(t),t.$name&&(o[t.$name]=t)},o.$$renameControl=function(t,e){var n=t.$name;o[n]===t&&delete o[n],(o[e]=t).$name=e},o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name],ot(o.$pending,function(t,e){o.$setValidity(e,null,n)}),ot(o.$error,function(t,e){o.$setValidity(e,null,n)}),ot(o.$$success,function(t,e){o.$setValidity(e,null,n)}),pt(a,n)},Ri({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(pt(r,n),0===r.length&&delete t[e])},parentForm:s,$animate:r}),o.$setDirty=function(){r.removeClass(t,Ei),r.addClass(t,ki),o.$dirty=!0,o.$pristine=!1,s.$setDirty()},o.$setPristine=function(){r.setClass(t,Ei,ki+" "+jr),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,ot(a,function(t){t.$setPristine()})},o.$setUntouched=function(){ot(a,function(t){t.$setUntouched()})},o.$setSubmitted=function(){r.addClass(t,jr),o.$submitted=!0,s.$setSubmitted()}}Vr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fr=function(t){return["$timeout",function(s){return{name:"form",restrict:t?"EAC":"E",controller:Vr,compile:function(t){return t.addClass(Ei).addClass(Si),{pre:function(e,t,n,r){if(!("action"in n)){var i=function(t){e.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),t.preventDefault()};Rt(t[0],"submit",i),t.on("$destroy",function(){s(function(){jt(t[0],"submit",i)},0,!1)})}var o=r.$$parentForm,a=r.$name;a&&(Vn(e,null,a,r,a),n.$observe(n.name?"name":"ngForm",function(t){a!==t&&(Vn(e,null,a,rt,a),Vn(e,null,a=t,r,a),o.$$renameControl(r,a))})),t.on("$destroy",function(){o.$removeControl(r),a&&Vn(e,null,a,rt,a),R(r,Rr)})}}}}}]},Ur=Fr(),qr=Fr(!0),Lr=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Br=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Hr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Wr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Gr=/^(\d{4})-(\d{2})-(\d{2})$/,zr=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Yr=/^(\d{4})-W(\d\d)$/,Jr=/^(\d{4})-(\d\d)$/,Kr=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Xr={text:function(t,e,n,r,i,o){Qr(t,e,n,r,i,o),Zr(r)},date:ei("date",Gr,ti(Gr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ei("datetimelocal",zr,ti(zr,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ei("time",Kr,ti(Kr,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ei("week",Yr,function(t,e){if(C(t))return t;if(ut(t)){Yr.lastIndex=0;var n=Yr.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,l=xr(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,l.getDate()+c,o,a,s,u)}}return NaN},"yyyy-Www"),month:ei("month",Jr,ti(Jr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,r,i,o){if(ni(t,e,n,r),Qr(t,e,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:Wr.test(t)?parseFloat(t):rt}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!x(t))throw Mi("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),n.min||n.ngMin){var a;r.$validators.min=function(t){return r.$isEmpty(t)||M(a)||a<=t},n.$observe("min",function(t){Y(t)&&!x(t)&&(t=parseFloat(t,10)),a=x(t)&&!isNaN(t)?t:rt,r.$validate()})}if(n.max||n.ngMax){var s;r.$validators.max=function(t){return r.$isEmpty(t)||M(s)||t<=s},n.$observe("max",function(t){Y(t)&&!x(t)&&(t=parseFloat(t,10)),s=x(t)&&!isNaN(t)?t:rt,r.$validate()})}},url:function(t,e,n,r,i,o){Qr(t,e,n,r,i,o),Zr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Br.test(n)}},email:function(t,e,n,r,i,o){Qr(t,e,n,r,i,o),Zr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Hr.test(n)}},radio:function(t,e,n,r){M(n.name)&&e.attr("name",i());e.on("click",function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)}),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(t,e,n,r,i,o,a,s){var u=ri(s,t,"ngTrueValue",n.ngTrueValue,!0),l=ri(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){r.$setViewValue(e[0].checked,t&&t.type)}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return $t(t,u)}),r.$parsers.push(function(t){return t?u:l})},hidden:at,button:at,submit:at,reset:at,file:at};function Zr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Qr(t,r,i,o,e,a){var s=I(r[0].type);if(!e.android){var u=!1;r.on("compositionstart",function(t){u=!0}),r.on("compositionend",function(){u=!1,l()})}var l=function(t){if(c&&(a.defer.cancel(c),c=null),!u){var e=r.val(),n=t&&t.type;"password"===s||i.ngTrim&&"false"===i.ngTrim||(e=dt(e)),(o.$viewValue!==e||""===e&&o.$$hasNativeValidators)&&o.$setViewValue(e,n)}};if(e.hasEvent("input"))r.on("input",l);else{var c,n=function(t,e,n){c||(c=a.defer(function(){c=null,e&&e.value===n||l(t)}))};r.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||n(t,this,this.value)}),e.hasEvent("paste")&&r.on("paste cut",n)}r.on("change",l),o.$render=function(){r.val(o.$isEmpty(o.$viewValue)?"":o.$viewValue)}}function ti(i,o){return function(t,e){var n,r;if(C(t))return t;if(ut(t)){if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),Lr.test(t))return new Date(t);if(i.lastIndex=0,n=i.exec(t))return n.shift(),r=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},ot(n,function(t,e){e<o.length&&(r[o[e]]=+t)}),new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0)}return NaN}}function ei(h,p,$,v){return function(t,e,n,r,i,o,a){ni(t,e,n,r),Qr(0,e,n,r,i,o);var s,u,l,c=r&&r.$options&&r.$options.timezone;(r.$$parserName=h,r.$parsers.push(function(t){if(r.$isEmpty(t))return null;if(p.test(t)){var e=$(t,s);return"UTC"===c&&e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}return rt}),r.$formatters.push(function(t){if(t&&!C(t))throw Mi("datefmt","Expected `{0}` to be a date",t);if(f(t)){if((s=t)&&"UTC"===c){var e=6e4*s.getTimezoneOffset();s=new Date(s.getTime()+e)}return a("date")(t,v,c)}return s=null,""}),Y(n.min)||n.ngMin)&&(r.$validators.min=function(t){return!f(t)||M(u)||$(t)>=u},n.$observe("min",function(t){u=d(t),r.$validate()}));(Y(n.max)||n.ngMax)&&(r.$validators.max=function(t){return!f(t)||M(l)||$(t)<=l},n.$observe("max",function(t){l=d(t),r.$validate()}));function f(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function d(t){return Y(t)?C(t)?t:$(t):rt}}}function ni(t,n,e,r){var i=n[0];(r.$$hasNativeValidators=st(i.validity))&&r.$parsers.push(function(t){var e=n.prop(a)||{};return e.badInput&&!e.typeMismatch?rt:t})}function ri(t,e,n,r,i){var o;if(Y(r)){if(!(o=t(r)).constant)throw w("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}var ii=["$browser","$sniffer","$filter","$parse",function(i,o,a,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,r){r[0]&&(Xr[I(n.type)]||Xr.text)(t,e,n,r[0],o,i,a,s)}}}}],oi=/^(true|false|\d+)$/,ai=function(){return{restrict:"A",priority:100,compile:function(t,e){return oi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},si=["$compile",function(r){return{restrict:"AC",compile:function(t){return r.$$addBindingClass(t),function(t,e,n){r.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=t===rt?"":t})}}}}],ui=["$interpolate","$compile",function(i,o){return{compile:function(t){return o.$$addBindingClass(t),function(t,e,n){var r=i(e.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(e,r.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=t===rt?"":t})}}}}],li=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(t,e){var r=n(e.ngBindHtml),i=n(e.ngBindHtml,function(t){return(t||"").toString()});return a.$$addBindingClass(t),function(t,e,n){a.$$addBindingInfo(e,n.ngBindHtml),t.$watch(i,function(){e.html(o.getTrustedHtml(r(t))||"")})}}}}],ci=y({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function fi(a,$){return a="ngClass"+a,["$animate",function(d){return{restrict:"AC",link:function(s,u,o){var l;function c(t){var e=f(t,1);o.$addClass(e)}function f(t,e){var n=u.data("$classCounts")||{},r=[];return ot(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&r.push(t))}),u.data("$classCounts",n),r.join(" ")}function e(t){if(!0===$||s.$index%2===$){var e=p(t||[]);if(l){if(!$t(t,l)){var n=p(l);o=h(i=e,r=n),a=h(r,i),o=f(o,1),a=f(a,-1),o&&o.length&&d.addClass(u,o),a&&a.length&&d.removeClass(u,a)}}else c(e)}var r,i,o,a;l=_(t)}s.$watch(o[a],e,!0),o.$observe("class",function(t){e(s.$eval(o[a]))}),"ngClass"!==a&&s.$watch("$index",function(t,e){var n,r=1&t;if(r!==(1&e)){var i=p(s.$eval(o[a]));r===$?c(i):(n=f(i,-1),o.$removeClass(n))}})}};function h(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function p(t){if(lt(t))return t;if(ut(t))return t.split(" ");if(st(t)){var n=[];return ot(t,function(t,e){t&&(n=n.concat(e.split(" ")))}),n}return t}}]}var di=fi("",!0),hi=fi("Odd",0),pi=fi("Even",1),$i=Dr({compile:function(t,e){e.$set("ngCloak",rt),t.removeClass("ng-cloak")}}),vi=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],gi={},mi={blur:!0,focus:!0};ot("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var a=Ve("ng-"+o);gi[a]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(t,e){var r=n(e[a],null,!0);return function(n,t){t.on(o,function(t){var e=function(){r(n,{$event:t})};mi[o]&&i.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});var yi=["$animate",function(u){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,r,e,i){var o,a,s;t.$watch(r.ngIf,function(t){t?a||i(function(t,e){a=e,t[t.length++]=nt.createComment(" end ngIf: "+r.ngIf+" "),o={clone:t},u.enter(t,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=At(o.clone),u.leave(s).then(function(){s=null}),o=null))})}}}],wi=["$templateRequest","$anchorScroll","$animate","$sce",function(v,g,m,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(t,e){var n=e.ngInclude||e.src,p=e.onload||"",$=e.autoscroll;return function(a,s,t,u,l){var c,e,f,d=0,h=function(){e&&(e.remove(),e=null),c&&(c.$destroy(),c=null),f&&(m.leave(f).then(function(){e=null}),e=f,f=null)};a.$watch(r.parseAsResourceUrl(n),function(r){var i=function(){!Y($)||$&&!a.$eval($)||g()},o=++d;r?(v(r,!0).then(function(t){if(o===d){var e=a.$new();u.template=t;var n=l(e,function(t){h(),m.enter(t,null,s).then(i)});f=n,(c=e).$emit("$includeContentLoaded",r),a.$eval(p)}},function(){o===d&&(h(),a.$emit("$includeContentError",r))}),a.$emit("$includeContentRequested",r)):(h(),u.template=null)})}}}}],bi=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,r){if(/SVG/.test(e[0].toString()))return e.empty(),void i(Kt(r.template,nt).childNodes)(t,function(t){e.append(t)},{futureParentElement:e});e.html(r.template),i(e.contents())(t)}}}],xi=Dr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ci=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=e.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,a=o?dt(i):i;r.$parsers.push(function(t){if(!M(t)){var e=[];return t&&ot(t.split(a),function(t){t&&e.push(o?dt(t):t)}),e}}),r.$formatters.push(function(t){return lt(t)?t.join(i):rt}),r.$isEmpty=function(t){return!t||!t.length}}}},Si="ng-valid",Ai="ng-invalid",Ei="ng-pristine",ki="ng-dirty",Ti="ng-untouched",Oi="ng-touched",Pi="ng-pending",Mi=new w("ngModel"),_i=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,e,i,o,s,t,u,l,c,n){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=rt,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=rt,this.$name=n(i.name||"",!1)(a);var f=s(i.ngModel),d=f.assign,h=f,p=d,$=null,v=this;this.$$setOptions=function(t){if((v.$options=t)&&t.getterSetter){var n=s(i.ngModel+"()"),r=s(i.ngModel+"($$$p)");h=function(t){var e=f(t);return ct(e)&&(e=n(t)),e},p=function(t,e){ct(f(t))?r(t,{$$$p:v.$modelValue}):d(t,v.$modelValue)}}else if(!f.assign)throw Mi("nonassign","Expression '{0}' is non-assignable. Element: {1}",i.ngModel,gt(o))},this.$render=at,this.$isEmpty=function(t){return M(t)||""===t||null===t||t!=t};var r=o.inheritedData("$formController")||Rr,g=0;Ri({ctrl:this,$element:o,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:r,$animate:t}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,t.removeClass(o,ki),t.addClass(o,Ei)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,t.removeClass(o,Ei),t.addClass(o,ki),r.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,t.setClass(o,Ti,Oi)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,t.setClass(o,Oi,Ti)},this.$rollbackViewValue=function(){u.cancel($),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!x(v.$modelValue)||!isNaN(v.$modelValue)){var t=v.$$lastCommittedViewValue,e=v.$$rawModelValue,n=v.$$parserName||"parse",r=!v.$error[n]&&rt,i=v.$valid,o=v.$modelValue,a=v.$options&&v.$options.allowInvalid;v.$$runValidators(r,e,t,function(t){a||i===t||(v.$modelValue=t?e:rt,v.$modelValue!==o&&v.$$writeModelToScope())})}},this.$$runValidators=function(t,r,i,e){var o,a,s,n=++g;(function(t){var e=v.$$parserName||"parse";if(t===rt)u(e,null);else if(u(e,t),!t)return ot(v.$validators,function(t,e){u(e,null)}),ot(v.$asyncValidators,function(t,e){u(e,null)}),!1;return!0})(t)?(o=!0,ot(v.$validators,function(t,e){var n=t(r,i);o=o&&n,u(e,n)}),o||(ot(v.$asyncValidators,function(t,e){u(e,null)}),0)?(a=[],s=!0,ot(v.$asyncValidators,function(t,e){var n=t(r,i);if(!k(n))throw Mi("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",n);u(e,rt),a.push(n.then(function(){u(e,!0)},function(t){u(e,s=!1)}))}),a.length?c.all(a).then(function(){l(s)},at):l(!0)):l(!1)):l(!1);function u(t,e){n===g&&v.$setValidity(t,e)}function l(t){n===g&&e(t)}},this.$commitViewValue=function(){var t=v.$viewValue;u.cancel($),(v.$$lastCommittedViewValue!==t||""===t&&v.$$hasNativeValidators)&&(v.$$lastCommittedViewValue=t,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=v.$$lastCommittedViewValue,t=!M(e)||rt;if(t)for(var n=0;n<v.$parsers.length;n++)if(M(e=v.$parsers[n](e))){t=!1;break}x(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=h(a));var r=v.$modelValue,i=v.$options&&v.$options.allowInvalid;function o(){v.$modelValue!==r&&v.$$writeModelToScope()}v.$$rawModelValue=e,i&&(v.$modelValue=e,o()),v.$$runValidators(t,e,v.$$lastCommittedViewValue,function(t){i||(v.$modelValue=t?e:rt,o())})},this.$$writeModelToScope=function(){p(a,v.$modelValue),ot(v.$viewChangeListeners,function(t){try{t()}catch(t){e(t)}})},this.$setViewValue=function(t,e){v.$viewValue=t,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(t){var e,n=0,r=v.$options;r&&Y(r.debounce)&&(x(e=r.debounce)?n=e:x(e[t])?n=e[t]:x(e.default)&&(n=e.default)),u.cancel($),n?$=u(function(){v.$commitViewValue()},n):l.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var t=h(a);if(t!==v.$modelValue){v.$modelValue=v.$$rawModelValue=t;for(var e=v.$formatters,n=e.length,r=t;n--;)r=e[n](r);v.$viewValue!==r&&(v.$viewValue=v.$$lastCommittedViewValue=r,v.$render(),v.$$runValidators(rt,t,r,at))}return t})}],Di=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:_i,priority:1,compile:function(t){return t.addClass(Ei).addClass(Ti).addClass(Si),{pre:function(t,e,n,r){var i=r[0],o=r[1]||Rr;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,t,n,r){var i=r[0];i.$options&&i.$options.updateOn&&t.on(i.$options.updateOn,function(t){i.$$debounceViewValueCommit(t&&t.type)}),t.on("blur",function(t){i.$touched||(o.$$phase?e.$evalAsync(i.$setTouched):e.$apply(i.$setTouched))})}}}}}],Ni=/(\s+|^)default(\s+|$)/,Ii=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=t.$eval(e.ngModelOptions),this.$options.updateOn!==rt?(this.$options.updateOnDefault=!1,this.$options.updateOn=dt(this.$options.updateOn.replace(Ni,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};function Ri(t){var i=t.ctrl,n=t.$element,r={},o=t.set,a=t.unset,s=t.parentForm,u=t.$animate;function l(t,e){e&&!r[t]?(u.addClass(n,t),r[t]=!0):!e&&r[t]&&(u.removeClass(n,t),r[t]=!1)}function c(t,e){t=t?"-"+mt(t,"-"):"",l(Si+t,!0===e),l(Ai+t,!1===e)}r[Ai]=!(r[Si]=n.hasClass(Si)),i.$setValidity=function(t,e,n){e===rt?function(t,e,n){i[t]||(i[t]={});o(i[t],e,n)}("$pending",t,n):function(t,e,n){i[t]&&a(i[t],e,n);ji(i[t])&&(i[t]=rt)}("$pending",t,n);A(e)?e?(a(i.$error,t,n),o(i.$$success,t,n)):(o(i.$error,t,n),a(i.$$success,t,n)):(a(i.$error,t,n),a(i.$$success,t,n));i.$pending?(l(Pi,!0),i.$valid=i.$invalid=rt,c("",null)):(l(Pi,!1),i.$valid=ji(i.$error),i.$invalid=!i.$valid,c("",i.$valid));var r;r=i.$pending&&i.$pending[t]?rt:!i.$error[t]&&(!!i.$$success[t]||null);c(t,r),s.$setValidity(t,r,i)}}function ji(t){if(t)for(var e in t)return!1;return!0}var Vi,Fi=Dr({terminal:!0,priority:1e3}),Ui=["$locale","$interpolate",function(p,$){var v=/{}/g,g=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(r,i,o){var a,t=o.count,e=o.$attr.when&&i.attr(o.$attr.when),s=o.offset||0,u=r.$eval(e)||{},l={},n=$.startSymbol(),c=$.endSymbol(),f=n+t+"-"+s+c,d=b.noop;function h(t){i.text(t||"")}ot(o,function(t,e){var n=g.exec(e);if(n){var r=(n[1]?"-":"")+I(n[2]);u[r]=i.attr(o.$attr[e])}}),ot(u,function(t,e){l[e]=$(t.replace(v,f))}),r.$watch(t,function(t){var e=parseFloat(t),n=isNaN(e);n||e in u||(e=p.pluralCat(e-s)),e===a||n&&isNaN(a)||(d(),d=r.$watch(l[e],h),a=e)})}}}],qi=["$parse","$animate",function(u,P){var M="$$NG_REMOVED",_=w("ngRepeat"),D=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var x=e.ngRepeat,C=nt.createComment(" end ngRepeat: "+x+" "),n=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw _("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);var r=n[1],i=n[2],S=n[3],o=n[4];if(!(n=r.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/)))throw _("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);var a,A,E,k,T=n[3]||n[1],O=n[2];if(S&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(S)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(S)))throw _("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",S);var s={$id:me};return o?a=u(o):(E=function(t,e){return me(e)},k=function(t){return t}),function(m,y,t,e,w){a&&(A=function(t,e,n){return O&&(s[O]=t),s[T]=e,s.$index=n,a(m,s)});var b=Et();m.$watchCollection(i,function(t){var r,e,n,i,o,a,s,u,l,c,f,d,h,p=y[0],$=Et();if(S&&(m[S]=t),N(t))l=t,u=A||E;else{for(var v in u=A||k,l=[],t)t.hasOwnProperty(v)&&"$"!=v.charAt(0)&&l.push(v);l.sort()}for(i=l.length,f=new Array(i),r=0;r<i;r++)if(o=t===l?r:l[r],a=t[o],s=u(o,a,r),b[s])c=b[s],delete b[s],$[s]=c,f[r]=c;else{if($[s])throw ot(f,function(t){t&&t.scope&&(b[t.id]=t)}),_("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",x,s,a);f[r]={id:s,scope:rt,clone:rt},$[s]=!0}for(var g in b){if(d=At((c=b[g]).clone),P.leave(d),d[0].parentNode)for(r=0,e=d.length;r<e;r++)d[r][M]=!0;c.scope.$destroy()}for(r=0;r<i;r++)if(o=t===l?r:l[r],a=t[o],(c=f[r]).scope){for(n=p;(n=n.nextSibling)&&n[M];);c.clone[0]!=n&&P.move(At(c.clone),null,it(p)),p=(h=c).clone[h.clone.length-1],D(c.scope,r,T,a,O,o,i)}else w(function(t,e){c.scope=e;var n=C.cloneNode(!1);t[t.length++]=n,P.enter(t,null,it(p)),p=n,c.clone=t,$[c.id]=c,D(c.scope,r,T,a,O,o,i)});b=$})}}}}],Li="ng-hide",Bi="ng-hide-animate",Hi=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){r[t?"removeClass":"addClass"](e,Li,{tempClasses:Bi})})}}}],Wi=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){r[t?"addClass":"removeClass"](e,Li,{tempClasses:Bi})})}}}],Gi=Dr(function(t,n,e){t.$watchCollection(e.ngStyle,function(t,e){e&&t!==e&&ot(e,function(t,e){n.css(e,"")}),t&&n.css(t)})}),zi=["$animate",function(c){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,i){var r=n.ngSwitch||n.on,o=[],a=[],s=[],u=[],l=function(t,e){return function(){t.splice(e,1)}};t.$watch(r,function(t){var e,n;for(e=0,n=s.length;e<n;++e)c.cancel(s[e]);for(e=s.length=0,n=u.length;e<n;++e){var r=At(a[e].clone);u[e].$destroy(),(s[e]=c.leave(r)).then(l(s,e))}a.length=0,u.length=0,(o=i.cases["!"+t]||i.cases["?"])&&ot(o,function(i){i.transclude(function(t,e){u.push(e);var n=i.element;t[t.length++]=nt.createComment(" end ngSwitchWhen: ");var r={clone:t};a.push(r),c.enter(t,n.parent(),n)})})})}}}],Yi=Dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Ji=Dr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Ki=Dr({restrict:"EAC",link:function(t,e,n,r,i){if(!i)throw w("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",gt(e));i(function(t){e.empty(),e.append(t)})}}),Xi=["$templateCache",function(i){return{restrict:"E",terminal:!0,compile:function(t,e){if("text/ng-template"==e.type){var n=e.id,r=t[0].text;i.put(n,r)}}}}],Zi=w("ngOptions"),Qi=y({restrict:"A",terminal:!0}),to=["$compile","$parse",function(y,w){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:at};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(n,t,e){var r,i=this,o={},a=s;i.databound=e.ngModel,i.init=function(t,e,n){a=t,e,r=n},i.addOption=function(t,e){Ct(t,'"option value"'),o[t]=!0,a.$viewValue==t&&(n.val(t),r.parent()&&r.remove()),e&&e[0].hasAttribute("selected")&&(e[0].selected=!0)},i.removeOption=function(t){this.hasOption(t)&&(delete o[t],a.$viewValue===t&&this.renderUnknownOption(t))},i.renderUnknownOption=function(t){var e="? "+me(t)+" ?";r.val(e),n.prepend(r),n.val(e),r.prop("selected",!0)},i.hasOption=function(t){return o.hasOwnProperty(t)},t.$on("$destroy",function(){i.renderUnknownOption=at})}],link:function(t,e,n,r){if(r[1]){for(var i,o,a,s,u,l,c,f,d,U=r[0],h=r[1],q=n.multiple,p=n.ngOptions,L=!1,B=!1,H=it(nt.createElement("option")),W=it(nt.createElement("optgroup")),$=H.clone(),v=0,g=e.children(),m=g.length;v<m;v++)if(""===g[v].value){i=L=g.eq(v);break}U.init(h,L,$),q&&(h.$isEmpty=function(t){return!t||0===t.length}),p?function(A,E,k){var t;if(!(t=p.match(b)))throw Zi("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",p,gt(E));var T=w(t[2]||t[1]),r=t[4]||t[6],e=/ as /.test(t[0])&&t[1],O=e?w(e):null,P=t[5],M=w(t[3]||""),_=w(t[2]?t[1]:r),D=w(t[7]),N=t[8]?w(t[8]):null,I={},R=[[{element:E,label:""}]],j={};L&&(y(L)(A),L.removeClass("ng-scope"),L.remove());E.empty(),E.on("change",function(){A.$apply(function(){var e,n=D(A)||[];if(q)e=[],ot(E.val(),function(t){t=N?I[t]:t,e.push(i(t,n[t]))});else{var t=N?I[E.val()]:E.val();e=i(t,n[t])}k.$setViewValue(e),o()})}),k.$render=o,A.$watchCollection(D,n),A.$watchCollection(function(){var t,e=D(A);if(e&&lt(e)){t=new Array(e.length);for(var n=0,r=e.length;n<r;n++)t[n]=V(T,n,e[n]);return t}if(e)for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=V(T,i,e[i]));return t},n),q&&A.$watchCollection(function(){return k.$modelValue},n);function V(t,e,n){return j[r]=n,P&&(j[P]=e),t(A,j)}function i(t,e){if("?"===t)return rt;if(""===t)return null;var n=O||_;return V(n,t,e)}function n(){B||(A.$$postDigest(o),B=!0)}function F(t,e,n){t[e]=t[e]||0,t[e]+=n?1:-1}function o(){B=!1;var t,e,n,r,i,o,a,s,u,l,c,f,d,h,p,$,v,g={"":[]},m=[""],y=k.$viewValue,w=D(A)||[],b=P?z(w):w,x={},C=function(r){var i;if(q)if(N&&lt(r)){i=new ye([]);for(var t=0;t<r.length;t++)i.put(V(N,null,r[t]),!0)}else i=new ye(r);else N&&(r=V(N,null,r));return function(t,e){var n;return n=N||(O||_),q?Y(i.remove(V(n,t,e))):r===V(n,t,e)}}(y),S=!1;for(I={},f=0;l=b.length,f<l;f++)a=f,P&&"$"===(a=b[f]).charAt(0)||(s=w[a],t=V(M,a,s)||"",(e=g[t])||(e=g[t]=[],m.push(t)),d=C(a,s),S=S||d,$=Y($=V(T,a,s))?$:"",v=N?N(A,j):P?b[f]:f,N&&(I[v]=a),e.push({id:v,label:$,selected:d}));for(q||(L||null===y?g[""].unshift({id:"",label:"",selected:!S}):S||g[""].unshift({id:"?",label:"",selected:!0})),c=0,u=m.length;c<u;c++){for(t=m[c],e=g[t],R.length<=c?(r={element:W.clone().attr("label",t),label:e.label},i=[r],R.push(i),E.append(r.element)):(i=R[c],(r=i[0]).label!=t&&r.element.attr("label",r.label=t)),h=null,f=0,l=e.length;f<l;f++)n=e[f],(o=i[f+1])?(h=o.element,o.label!==n.label&&(F(x,o.label,!1),F(x,n.label,!0),h.text(o.label=n.label),h.prop("label",o.label)),o.id!==n.id&&h.val(o.id=n.id),h[0].selected!==n.selected&&(h.prop("selected",o.selected=n.selected),G&&h.prop("selected",o.selected))):(""===n.id&&L?p=L:(p=H.clone()).val(n.id).prop("selected",n.selected).attr("selected",n.selected).prop("label",n.label).text(n.label),i.push(o={element:p,label:n.label,id:n.id,selected:n.selected}),F(x,n.label,!0),h?h.after(p):r.element.append(p),h=p);for(f++;i.length>f;)n=i.pop(),F(x,n.label,!1),n.element.remove()}for(;R.length>c;){for(e=R.pop(),f=1;f<e.length;++f)F(x,e[f].label,!1);e[0].element.remove()}ot(x,function(t,e){0<t?U.addOption(e):t<0&&U.removeOption(e)})}}(t,e,h):q?(l=t,c=e,(f=h).$render=function(){var e=new ye(f.$viewValue);ot(c.find("option"),function(t){t.selected=Y(e.get(t.value))})},l.$watch(function(){$t(d,f.$viewValue)||(d=_(f.$viewValue),f.$render())}),c.on("change",function(){l.$apply(function(){var e=[];ot(c.find("option"),function(t){t.selected&&e.push(t.value)}),f.$setViewValue(e)})})):(o=t,a=e,u=U,(s=h).$render=function(){var t=s.$viewValue;u.hasOption(t)?($.parent()&&$.remove(),a.val(t),""===t&&i.prop("selected",!0)):M(t)&&i?a.val(""):u.renderUnknownOption(t)},a.on("change",function(){o.$apply(function(){$.parent()&&$.remove(),s.$setViewValue(a.val())})}))}}}}],eo=["$interpolate",function(n){var s={addOption:at,removeOption:at};return{restrict:"E",priority:100,compile:function(t,e){if(M(e.value)){var a=n(t.text(),!0);a||e.$set("value",t.text())}return function(t,n,r){var e="$selectController",i=n.parent(),o=i.data(e)||i.parent().data(e);o&&o.databound||(o=s),a?t.$watch(a,function(t,e){r.$set("value",t),e!==t&&o.removeOption(e),o.addOption(t,n)}):o.addOption(r.value,n),n.on("$destroy",function(){o.removeOption(r.value)})}}}}],no=y({restrict:"E",terminal:!1}),ro=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},io=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i,o=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(ut(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw w("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,t,gt(e));i=t||rt,r.$validate()}),r.$validators.pattern=function(t){return r.$isEmpty(t)||M(i)||i.test(t)}}}}},oo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=h(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(t)||e.length<=i}}}}},ao=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=h(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};l.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(wt||(($=l.jQuery)&&$.fn.on?(R((it=$).fn,{scope:de.scope,isolateScope:de.isolateScope,controller:de.controller,injector:de.injector,inheritedData:de.inheritedData}),Vi=$.cleanData,$.cleanData=function(t){var e;if(yt)yt=!1;else for(var n,r=0;null!=(n=t[r]);r++)(e=$._data(n,"events"))&&e.$destroy&&$(n).triggerHandler("$destroy");Vi(t)}):it=Xt,b.element=it,wt=!0),function(t){R(t,{bootstrap:Z,copy:P,extend:R,equals:$t,element:it,forEach:ot,injector:Ee,noop:at,bind:V,toJson:U,fromJson:q,identity:m,isUndefined:M,isDefined:Y,isString:ut,isFunction:ct,isObject:st,isNumber:x,isElement:O,isArray:lt,version:Dt,isDate:C,lowercase:I,uppercase:u,callbacks:{counter:0},getTestability:tt,$$minErr:w,$$csp:D,reloadWithDebugInfo:Q}),p=function(t){var l=w("$injector"),n=w("ng");function e(t,e,n){return t[e]||(t[e]=n())}var r=e(t,"angular",Object);return r.$$minErr=r.$$minErr||w,e(r,"module",function(){var t={};return function(a,s,u){return function(t,e){if("hasOwnProperty"===t)throw n("badname","hasOwnProperty is not a valid {0} name",e)}(a,"module"),s&&t.hasOwnProperty(a)&&(t[a]=null),e(t,a,function(){if(!s)throw l("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",a);var i=[],t=[],e=[],n=r("$injector","invoke","push",t),o={_invokeQueue:i,_configBlocks:t,_runBlocks:e,requires:s,name:a,provider:r("$provide","provider"),factory:r("$provide","factory"),service:r("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),animation:r("$animateProvider","register"),filter:r("$filterProvider","register"),controller:r("$controllerProvider","register"),directive:r("$compileProvider","directive"),config:n,run:function(t){return e.push(t),this}};return u&&n(u),o;function r(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),o}}})}})}(l);try{p("ngLocale")}catch(t){p("ngLocale",[]).provider("$locale",sn)}p("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Xn}),t.provider("$compile",Re).directive({a:Nr,input:ii,textarea:ii,form:Ur,script:Xi,select:to,style:no,option:eo,ngBind:si,ngBindHtml:li,ngBindTemplate:ui,ngClass:di,ngClassEven:pi,ngClassOdd:hi,ngCloak:$i,ngController:vi,ngForm:qr,ngHide:Wi,ngIf:yi,ngInclude:wi,ngInit:xi,ngNonBindable:Fi,ngPluralize:Ui,ngRepeat:qi,ngShow:Hi,ngStyle:Gi,ngSwitch:zi,ngSwitchWhen:Yi,ngSwitchDefault:Ji,ngOptions:Qi,ngTransclude:Ki,ngModel:Di,ngList:Ci,ngChange:ci,pattern:io,ngPattern:io,required:ro,ngRequired:ro,minlength:ao,ngMinlength:ao,maxlength:oo,ngMaxlength:oo,ngValue:ai,ngModelOptions:Ii}).directive({ngInclude:bi}).directive(Ir).directive(gi),t.provider({$anchorScroll:ke,$animate:Oe,$browser:_e,$cacheFactory:De,$controller:qe,$document:Le,$exceptionHandler:Be,$filter:dr,$interpolate:on,$interval:an,$http:tn,$httpBackend:nn,$location:Sn,$log:An,$parse:Wn,$rootScope:Kn,$q:Gn,$$q:zn,$sce:nr,$sceDelegate:er,$sniffer:rr,$templateCache:Ne,$templateRequest:ir,$$testability:or,$timeout:ar,$window:fr,$$rAF:Jn,$$asyncCallback:Pe,$$jqLite:ge})}])}(b),it(nt).ready(function(){X(nt,Z)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),angular.module("geolocation",[]).constant("geolocation_msgs",{"errors.location.unsupportedBrowser":"Browser does not support location services","errors.location.permissionDenied":"You have rejected access to your location","errors.location.positionUnavailable":"Unable to determine your location","errors.location.timeout":"Service timeout has been reached"}),angular.module("geolocation").factory("geolocation",["$q","$rootScope","$window","geolocation_msgs",function(n,r,i,o){return{getLocation:function(t){var e=n.defer();return i.navigator&&i.navigator.geolocation?i.navigator.geolocation.getCurrentPosition(function(t){r.$apply(function(){e.resolve(t)})},function(t){switch(t.code){case 1:r.$broadcast("error",o["errors.location.permissionDenied"]),r.$apply(function(){e.reject(o["errors.location.permissionDenied"])});break;case 2:r.$broadcast("error",o["errors.location.positionUnavailable"]),r.$apply(function(){e.reject(o["errors.location.positionUnavailable"])});break;case 3:r.$broadcast("error",o["errors.location.timeout"]),r.$apply(function(){e.reject(o["errors.location.timeout"])})}},t):(r.$broadcast("error",o["errors.location.unsupportedBrowser"]),r.$apply(function(){e.reject(o["errors.location.unsupportedBrowser"])})),e.promise}}}]),function(e,z,Y){"use strict";z.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){var i="$$ngAnimateChildren";return function(t,e,n){var r=n.ngAnimateChildren;z.isString(r)&&0===r.length?e.data(i,!0):t.$watch(r,function(t){e.data(i,!!t)})}}).factory("$$animateReflow",["$$rAF","$document",function(e,t){var n=t[0].body;return function(t){return e(function(){n.offsetWidth;t()})}}]).config(["$provide","$animateProvider",function(t,u){var U,q=z.noop,L=z.forEach,x=u.$$selectors,B=z.isArray,H=z.isString,p=z.isObject,W=1,M="$$ngAnimateState",_="ng-animate",D={running:!0};function G(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==W)return n}}function $(t){return t&&z.element(t)}function v(t){return z.element(G(t))}function N(t,e){return G(t)==G(e)}t.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(l,r,y,w,E,k,i,t,e,n){U=n,E.data(M,D);var o=i.$watch(function(){return e.totalPendingRequests},function(t,e){0===t&&(o(),i.$$postDigest(function(){i.$$postDigest(function(){D.running=!1})}))}),T=0,a=u.classNameFilter(),b=a?function(t){return a.test(t)}:function(){return!0};function c(t,e){var n=t.data(M)||{};return e&&(n.running=!0,n.structural=!0,t.data(M,n)),n.disabled||n.running&&n.structural}function f(t){var e,n=r.defer();return n.promise.$$cancelFn=function(){e&&e()},i.$$postDigest(function(){e=t(function(){n.resolve()})}),n.promise}function d(t){if(p(t))return t.tempClasses&&H(t.tempClasses)&&(t.tempClasses=t.tempClasses.split(/\s+/)),t}function O(s,e,u,l){var t=s[0];if(t){var c,f;l&&(l.to=l.to||{},l.from=l.from||{}),B(u)&&(c=u[0],f=u[1],c?f?u=c+" "+f:(u=c,e="addClass"):(u=f,e="removeClass"));var n="setClass"==e,r=n||"addClass"==e||"removeClass"==e||"animate"==e,i=s.attr("class")+" "+u;if(b(i)){var o=q,a=[],d=[],h=q,p=[],$=[],v=(" "+i).replace(/\s+/g,".");return L(function(t){if(t){var e=[],n={},r=t.substr(1).split(".");(w.transitions||w.animations)&&e.push(y.get(x[""]));for(var i=0;i<r.length;i++){var o=r[i],a=x[o];a&&!n[o]&&(e.push(y.get(a)),n[o]=!0)}return e}}(v),function(t){!g(t,e)&&n&&(g(t,"addClass"),g(t,"removeClass"))}),{node:t,event:e,className:u,isClassBased:r,isSetClassOperation:n,applyStyles:function(){l&&s.css(z.extend(l.from||{},l.to||{}))},before:function(t){o=t,m(d,a,function(){o=q,t()})},after:function(t){h=t,m($,p,function(){h=q,t()})},cancel:function(){L(a,function(t){(t||q)(!0)}),o(!0),L(p,function(t){(t||q)(!0)}),h(!0)}}}}function g(t,e){var n=t[e],r=t["before"+e.charAt(0).toUpperCase()+e.substr(1)];if(n||r)return"leave"==e&&(r=n,n=null),$.push({event:e,fn:n}),d.push({event:e,fn:r}),!0}function m(t,r,i){var o=[];L(t,function(t){t.fn&&o.push(t)});var a=0;L(o,function(t,e){var n=function(){!function(t){if(r){if((r[t]||q)(),++a<o.length)return;r=null}i()}(e)};switch(t.event){case"setClass":r.push(t.fn(s,c,f,n,l));break;case"animate":r.push(t.fn(s,u,l.from,l.to,n));break;case"addClass":r.push(t.fn(s,c||u,n,l));break;case"removeClass":r.push(t.fn(s,f||u,n,l));break;default:r.push(t.fn(s,n,l))}}),r&&0===r.length&&i()}}return{animate:function(e,t,n,r,i){return r=r||"ng-inline-animate",(i=d(i)||{}).from=n?t:null,i.to=n||t,f(function(t){return h("animate",r,v(e),null,null,q,i,t)})},enter:function(e,n,r,i){return i=d(i),e=z.element(e),n=$(n),r=$(r),c(e,!0),l.enter(e,n,r),f(function(t){return h("enter","ng-enter",v(e),n,r,q,i,t)})},leave:function(e,n){return n=d(n),s(e=z.element(e)),c(e,!0),f(function(t){return h("leave","ng-leave",v(e),null,null,function(){l.leave(e)},n,t)})},move:function(e,n,r,i){return i=d(i),e=z.element(e),n=$(n),r=$(r),s(e),c(e,!0),l.move(e,n,r),f(function(t){return h("move","ng-move",v(e),n,r,q,i,t)})},addClass:function(t,e,n){return this.setClass(t,e,[],n)},removeClass:function(t,e,n){return this.setClass(t,[],e,n)},setClass:function(s,t,e,n){n=d(n);var u="$$animateClasses";if(c(s=v(s=z.element(s))))return l.$$setClassImmediately(s,t,e,n);var r,i=s.data(u),o=!!i;return i||(i={classes:{}}),r=i.classes,t=B(t)?t:t.split(" "),L(t,function(t){t&&t.length&&(r[t]=!0)}),e=B(e)?e:e.split(" "),L(e,function(t){t&&t.length&&(r[t]=!1)}),o?(n&&i.options&&(i.options=z.extend(i.options||{},n)),i.promise):(s.data(u,i={classes:r,options:n}),i.promise=f(function(t){var e=s.parent(),n=G(s),r=n.parentNode;if(r&&!r.$$NG_REMOVED&&!n.$$NG_REMOVED){var i=s.data(u);s.removeData(u);var o=s.data(M)||{},a=function(t,e,n){var i={};L(n=n||{},function(e,t){L(t.split(" "),function(t){i[t]=e})});var o=Object.create(null);L((t.attr("class")||"").split(/\s+/),function(t){o[t]=!0});var a=[],s=[];return L(e&&e.classes||[],function(t,e){var n=o[e],r=i[e]||{};!1===t?(n||"addClass"==r.event)&&s.push(e):!0===t&&(n&&"removeClass"!=r.event||a.push(e))}),0<a.length+s.length&&[a.join(" "),s.join(" ")]}(s,i,o.active);return a?h("setClass",a,s,e,null,function(){a[0]&&l.$$addClassImmediately(s,a[0]),a[1]&&l.$$removeClassImmediately(s,a[1])},i.options,t):t()}t()}))},cancel:function(t){t.$$cancelFn()},enabled:function(t,e){switch(arguments.length){case 2:if(t)P(e);else{var n=e.data(M)||{};n.disabled=!0,e.data(M,n)}break;case 1:D.disabled=!t;break;default:t=!D.disabled}return!!t}};function h(n,r,i,t,e,o,a,s){var u=q,l=O(i,n,r,a);if(!l)return S(),b(),x(),A(),u;n=l.event,r=l.className;var c=z.element._data(l.node);if(c=c&&c.events,t||(t=e?e.parent():i.parent()),function(t,e){if(D.disabled)return!0;if(N(t,E))return D.running;var n,r,i;do{if(0===e.length)break;var o=N(e,E),a=o?D:e.data(M)||{};if(a.disabled)return!0;if(o&&(i=!0),!1!==n){var s=e.data("$$ngAnimateChildren");z.isDefined(s)&&(n=s)}r=r||a.running||a.last&&!a.last.isClassBased}while(e=e.parent());return!i||!n&&r}(i,t))return S(),b(),x(),A(),u;var f=i.data(M)||{},d=f.active||{},h=f.totalActive||0,p=f.last,$=!1;if(0<h){var v=[];if(l.isClassBased){if("setClass"==p.event)v.push(p),P(i,r);else if(d[r]){var g=d[r];g.event==n?$=!0:(v.push(g),P(i,r))}}else if("leave"==n&&d["ng-leave"])$=!0;else{for(var m in d)v.push(d[m]);f={},P(i,!0)}0<v.length&&L(v,function(t){t.cancel()})}if(!l.isClassBased||l.isSetClassOperation||"animate"==n||$||($="addClass"==n==i.hasClass(r)),$)return S(),b(),x(),C(),u;d=f.active||{},h=f.totalActive||0,"leave"==n&&i.one("$destroy",function(t){var e=z.element(this),n=e.data(M);if(n){var r=n.active["ng-leave"];r&&(r.cancel(),P(e,"ng-leave"))}}),U.addClass(i,_),a&&a.tempClasses&&L(a.tempClasses,function(t){U.addClass(i,t)});var y=T++;return h++,d[r]=l,i.data(M,{last:l,active:d,index:y,totalActive:h}),b(),l.before(function(t){var e=i.data(M);t=t||!e||!e.active[r]||l.isClassBased&&e.active[r].event!=n,S(),!0===t?A():(x(),l.after(A))}),l.cancel;function w(t){var e="$animate:"+t;c&&c[e]&&0<c[e].length&&k(function(){i.triggerHandler(e,{event:n,className:r})})}function b(){w("before")}function x(){w("after")}function C(){w("close"),s()}function S(){S.hasBeenRun||(S.hasBeenRun=!0,o())}function A(){if(!A.hasBeenRun){l&&l.applyStyles(),A.hasBeenRun=!0,a&&a.tempClasses&&L(a.tempClasses,function(t){U.removeClass(i,t)});var t=i.data(M);t&&(l&&l.isClassBased?P(i,r):(k(function(){var t=i.data(M)||{};y==t.index&&P(i,r)}),i.data(M,t))),C()}}}function s(t){var e=G(t);if(e){var n=z.isFunction(e.getElementsByClassName)?e.getElementsByClassName(_):e.querySelectorAll("."+_);L(n,function(t){var e=(t=z.element(t)).data(M);e&&e.active&&L(e.active,function(t){t.cancel()})})}}function P(t,e){if(N(t,E))D.disabled||(D.running=!1,D.structural=!1);else if(e){var n=t.data(M)||{},r=!0===e;!r&&n.active&&n.active[e]&&(n.totalActive--,delete n.active[e]),!r&&n.totalActive||(U.removeClass(t,_),t.removeData(M))}}}]),u.register("",["$window","$sniffer","$timeout","$$animateReflow",function(l,t,k,n){var c,T,f,O,P="";T=e.ontransitionend===Y&&e.onwebkittransitionend!==Y?(P="-webkit-",c="WebkitTransition","webkitTransitionEnd transitionend"):(c="transition","transitionend"),O=e.onanimationend===Y&&e.onwebkitanimationend!==Y?(P="-webkit-",f="WebkitAnimation","webkitAnimationEnd animationend"):(f="animation","animationend");var r,d="Duration",i="Property",h="Delay",p="IterationCount",o="PlayState",C="$$ngAnimateKey",M="$$ngAnimateCSS3Data",_=3,D=1.5,N=1e3,S={},A=0,a=[];function s(){r||(r=n(function(){a=[],r=null,S={}}))}function u(t,e){r&&r(),a.push(e),r=n(function(){L(a,function(t){t()}),a=[],r=null,S={}})}var $=null,v=0,g=[];function I(t,e){var n=G(t);t=z.element(n),g.push(t);var r=Date.now()+e;r<=v||(k.cancel($),v=r,$=k(function(){L(g,function(t){var e=t.data(M);e&&L(e.closeAnimationFns,function(t){t()})}),g=[]},e,!1))}function R(t,e){var n=e?S[e]:null;if(!n){var o=0,a=0,s=0,u=0;L(t,function(t){if(t.nodeType==W){var e=l.getComputedStyle(t)||{},n=e[c+d];o=Math.max(m(n),o);var r=e[c+h];a=Math.max(m(r),a);e[f+h];u=Math.max(m(e[f+h]),u);var i=m(e[f+d]);0<i&&(i*=parseInt(e[f+p],10)||1),s=Math.max(i,s)}}),n={total:0,transitionDelay:a,transitionDuration:o,animationDelay:u,animationDuration:s},e&&(S[e]=n)}return n}function m(t){var e=0,n=H(t)?t.split(/\s*,\s*/):[];return L(n,function(t){e=Math.max(parseFloat(t)||0,e)}),e}function y(t,e,n,r){var i,o,a,s=0<=["ng-enter","ng-leave","ng-move"].indexOf(n),u=(o=(i=e).parent(),(a=o.data(C))||(o.data(C,++A),a=A),a+"-"+G(i).getAttribute("class")),l=u+" "+n,c=S[l]?++S[l].total:0,f={};if(0<c){var d=n+"-stagger",h=u+" "+d,p=!S[h];p&&U.addClass(e,d),f=R(e,h),p&&U.removeClass(e,d)}U.addClass(e,n);var $=e.data(M)||{},v=R(e,l),g=v.transitionDuration,m=v.animationDuration;if(s&&0===g&&0===m)return U.removeClass(e,n),!1;var y=r||s&&0<g,w=0<m&&0<f.animationDelay&&0===f.animationDuration,b=$.closeAnimationFns||[];e.data(M,{stagger:f,cacheKey:l,running:$.running||0,itemIndex:c,blockTransition:y,closeAnimationFns:b});var x=G(e);return y&&(j(x,!0),r&&e.css(r)),w&&V(x,!0),!0}function j(t,e){t.style[c+i]=e?"none":""}function V(t,e){t.style[f+o]=e?"paused":""}function w(t,e,n,r){if(y(0,e,n,r))return function(t){t&&F(e,n)}}function b(t,e,n,r,i){if(e.data(M))return function(t,n,r,i,e){var o=G(n),a=n.data(M);if(-1!=o.getAttribute("class").indexOf(r)&&a){var s="",u="";L(r.split(" "),function(t,e){var n=(0<e?" ":"")+t;s+=n+"-active",u+=n+"-pending"});var l=[],c=a.itemIndex,f=a.stagger,d=0;if(0<c){var h=0;0<f.transitionDelay&&0===f.transitionDuration&&(h=f.transitionDelay*c);var p=0;0<f.animationDelay&&0===f.animationDuration&&(p=f.animationDelay*c,l.push(P+"animation-play-state")),d=Math.round(100*Math.max(h,p))/100}d||(U.addClass(n,s),a.blockTransition&&j(o,!1));var $=a.cacheKey+" "+s,v=R(n,$),g=Math.max(v.transitionDuration,v.animationDuration);if(0===g)return U.removeClass(n,s),F(n,r),void i();!d&&e&&0<Object.keys(e).length&&(v.transitionDuration||(n.css("transition",v.animationDuration+"s linear all"),l.push("transition")),n.css(e));var m=Math.max(v.transitionDelay,v.animationDelay),y=m*N;if(0<l.length){var w=o.getAttribute("style")||"";";"!==w.charAt(w.length-1)&&(w+=";"),o.setAttribute("style",w+" ")}var b,x=Date.now(),C=O+" "+T,S=(d+(m+g)*D)*N;return 0<d&&(U.addClass(n,u),b=k(function(){b=null,0<v.transitionDuration&&j(o,!1),0<v.animationDuration&&V(o,!1),U.addClass(n,s),U.removeClass(n,u),e&&(0===v.transitionDuration&&n.css("transition",v.animationDuration+"s linear all"),n.css(e),l.push("transition"))},d*N,!1)),n.on(C,E),a.closeAnimationFns.push(function(){A(),i()}),a.running++,I(n,S),A}function A(){n.off(C,E),U.removeClass(n,s),U.removeClass(n,u),b&&k.cancel(b),F(n,r);var t=G(n);for(var e in l)t.style.removeProperty(l[e])}function E(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(_));Math.max(n-x,0)>=y&&g<=r&&i()}i()}(0,e,n,r,i);F(e,n),r()}function x(t,e,n,r,i){var o=w(0,e,n,i.from);if(!o)return s(),void r();var a=o;return u(0,function(){a=b(0,e,n,r,i.to)}),function(t){(a||q)(t)}}function F(t,e){U.removeClass(t,e);var n=t.data(M);n&&(n.running&&n.running--,n.running&&0!==n.running||t.removeData(M))}return{animate:function(t,e,n,r,i,o){return(o=o||{}).from=n,o.to=r,x(0,t,e,i,o)},enter:function(t,e,n){return x(0,t,"ng-enter",e,n=n||{})},leave:function(t,e,n){return x(0,t,"ng-leave",e,n=n||{})},move:function(t,e,n){return x(0,t,"ng-move",e,n=n||{})},beforeSetClass:function(t,e,n,r,i){i=i||{};var o=w(0,t,E(n,"-remove")+" "+E(e,"-add"),i.from);if(o)return u(0,r),o;s(),r()},beforeAddClass:function(t,e,n,r){r=r||{};var i=w(0,t,E(e,"-add"),r.from);if(i)return u(0,n),i;s(),n()},beforeRemoveClass:function(t,e,n,r){r=r||{};var i=w(0,t,E(e,"-remove"),r.from);if(i)return u(0,n),i;s(),n()},setClass:function(t,e,n,r,i){return i=i||{},b(0,t,(n=E(n,"-remove"))+" "+(e=E(e,"-add")),r,i.to)},addClass:function(t,e,n,r){return r=r||{},b(0,t,E(e,"-add"),n,r.to)},removeClass:function(t,e,n,r){return r=r||{},b(0,t,E(e,"-remove"),n,r.to)}};function E(t,n){var r="";return t=B(t)?t:t.split(/\s+/),L(t,function(t,e){t&&0<t.length&&(r+=(0<e?" ":"")+t+n)}),r}}])}])}(window,window.angular),function(t,C,e){"use strict";var n=C.module("ngTouch",[]);function r(l,c,f){n.directive(l,["$parse","$swipe",function(s,u){return function(n,r,t){var i,o,a=s(t[l]);var e=["touch"];C.isDefined(t.ngSwipeDisableMouse)||e.push("mouse"),u.bind(r,{start:function(t,e){i=t,o=!0},cancel:function(t){o=!1},end:function(t,e){(function(t){if(!i)return!1;var e=Math.abs(t.y-i.y),n=(t.x-i.x)*c;return o&&e<75&&0<n&&30<n&&e/n<.3})(t)&&n.$apply(function(){r.triggerHandler(f),a(n,{$event:e})})}},e)}}])}n.factory("$swipe",[function(){var i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};function l(t){var e=t.touches&&t.touches.length?t.touches:[t],n=t.changedTouches&&t.changedTouches[0]||t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]||e[0].originalEvent||e[0];return{x:n.clientX,y:n.clientY}}function c(t,n){var r=[];return C.forEach(t,function(t){var e=i[t][n];e&&r.push(e)}),r.join(" ")}return{bind:function(t,n,e){var r,i,o,a,s=!1;e=e||["mouse","touch"],t.on(c(e,"start"),function(t){o=l(t),s=!0,i=r=0,a=o,n.start&&n.start(o,t)});var u=c(e,"cancel");u&&t.on(u,function(t){s=!1,n.cancel&&n.cancel(t)}),t.on(c(e,"move"),function(t){if(s&&o){var e=l(t);if(r+=Math.abs(e.x-a.x),i+=Math.abs(e.y-a.y),a=e,!(r<10&&i<10))return r<i?(s=!1,void(n.cancel&&n.cancel(t))):(t.preventDefault(),void(n.move&&n.move(e,t)))}}),t.on(c(e,"end"),function(t){s&&(s=!1,n.end&&n.end(l(t),t))})}}}]),n.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),n.directive("ngClick",["$parse","$timeout","$rootElement",function(t,i,g){var m,y,o,a=2500,u=25,s="ng-click-active";function w(t,e,n){for(var r=0;r<t.length;r+=2)if(i=t[r],o=t[r+1],a=e,s=n,Math.abs(i-a)<u&&Math.abs(o-s)<u)return t.splice(r,r+2),!0;var i,o,a,s;return!1}function b(t){if(!(Date.now()-m>a)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,r=e[0].clientY;n<1&&r<1||o&&o[0]===n&&o[1]===r||(o&&(o=null),"label"===t.target.tagName.toLowerCase()&&(o=[n,r]),w(y,n,r)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur()))}}function x(t){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,r=e[0].clientY;y.push(n,r),i(function(){for(var t=0;t<y.length;t+=2)if(y[t]==n&&y[t+1]==r)return void y.splice(t,t+2)},a,!1)}return function(n,l,c){var f,d,h,p,r=t(c.ngClick),$=!1;function v(){$=!1,l.removeClass(s)}l.on("touchstart",function(t){$=!0,3==(f=t.target?t.target:t.srcElement).nodeType&&(f=f.parentNode),l.addClass(s),d=Date.now();var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].originalEvent||e[0];h=n.clientX,p=n.clientY}),l.on("touchmove",function(t){v()}),l.on("touchcancel",function(t){v()}),l.on("touchend",function(t){var e,n,r=Date.now()-d,i=t.changedTouches&&t.changedTouches.length?t.changedTouches:t.touches&&t.touches.length?t.touches:[t],o=i[0].originalEvent||i[0],a=o.clientX,s=o.clientY,u=Math.sqrt(Math.pow(a-h,2)+Math.pow(s-p,2));$&&r<750&&u<12&&(e=a,n=s,y||(g[0].addEventListener("click",b,!0),g[0].addEventListener("touchstart",x,!0),y=[]),m=Date.now(),w(y,e,n),f&&f.blur(),C.isDefined(c.disabled)&&!1!==c.disabled||l.triggerHandler("click",[t])),v()}),l.onclick=function(t){},l.on("click",function(t,e){n.$apply(function(){r(n,{$event:e||t})})}),l.on("mousedown",function(t){l.addClass(s)}),l.on("mousemove mouseup",function(t){l.removeClass(s)})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular);var Traslator,indexOf=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};Traslator=function(){var f;function n(t){this._html=t}return n.prototype._htmlPositions=[],n.prototype._textPositions=[],n.prototype._htmlFragments=[],n.prototype._html="",n.prototype._text="",f=function(t){var e;return(e=document.createElement("textarea")).innerHTML=t,e.value},n.create=function(t){var e;return(e=new n(t)).parse(),e},n.version="1.0.0",n.prototype.parse=function(){var t,e,n,r,i,o,a,s,u,l,c;for(this._htmlPositions=[],this._textPositions=[],this._htmlFragments=[],this._text="",a=/((?:&(?![#\w]))*[^&<>]*)(&[^&;]*;|<[!\/]?(?:[\w-]+|\[cdata\[.*?]])(?: [\w_-]+(?:="[^"]*")?)*[^>]*>)([^&<>]*)/gim,e=u=0;null!=(o=a.exec(this._html));)r=o[1],t=o[2],l=n=o[3],u+=(c=r+("</p>"===(s=t.toLowerCase())||"</li>"===s?"\n\n":"")).length,/^&[^&;]*;$/gim.test(t)&&(u+=1),e+=r.length,t.startsWith("<br")&&(this._htmlPositions.push(e),this._textPositions.push(u),this._htmlFragments.push(t)),e+=t.length,this._htmlPositions.push(e),this._textPositions.push(u),this._htmlFragments.push(t),u+=l.length,e+=n.length,i="",/^&[^&;]*;$/gim.test(t)&&(i=f(t)),this._text+=c+i+l;if(""!==this._text||a.match(this._html)||(this._text=new String(this._html)),0===this._textPositions.length||0!==this._textPositions[0])return this._htmlPositions.unshift(0),this._textPositions.unshift(0)},n.prototype.text2html=function(t){var e,n,r,i,o;for(n=r=o=e=0,i=this._textPositions.length;(0<=i?r<i:i<r)&&!(t<this._textPositions[n])&&(e=this._htmlPositions[n],o=this._textPositions[n],t!==this._textPositions[n]||!this._htmlFragments[n].startsWith("<br"));n=0<=i?++r:--r);return e+t-o},n.prototype.html2text=function(t){var e,n,r,i,o;if(t<this._htmlPositions[0])return 0;for(n=r=o=e=0,i=this._htmlPositions.length;(0<=i?r<i:i<r)&&!(t<this._htmlPositions[n]);n=0<=i?++r:--r)e=this._htmlPositions[n],o=this._textPositions[n];return o+t-e},n.prototype.insertHtml=function(t,e){var n;return n=this.text2html(e.text),this._html=this._html.substring(0,n)+t+this._html.substring(n),this.parse()},n.prototype.getHtml=function(){return this._html},n.prototype.getText=function(){return this._text},n}(),window.Traslator=Traslator,angular.module("wordlift.utils.directives",[]).directive("wlOnError",["$parse","$window","$log",function(i,t,e){return{restrict:"A",compile:function(t,e){return function(n,t){var r;return r=i(e.wlOnError),t.on("error",function(t){var e;return e=function(){return r(n,{$event:t})},n.$apply(e)})}}}}]).directive("wlFallback",["$window","$log",function(t,i){return{restrict:"A",priority:99,link:function(t,e,n,r){return e.bind("error",function(){if(n.src!==n.wlFallback)return i.warn("Error on "+n.src+"! Going to fallback on "+n.wlFallback),n.$set("src",n.wlFallback)})}}}]).directive("wlHideAfter",["$timeout","$log",function(o,a){return{restrict:"A",link:function(t,e,n,r){var i;return i=+n.wlHideAfter,o(function(){return a.debug("Remove msg after "+i+" ms"),e.hide()},i)}}}]).directive("wlClipboard",["$timeout","$document","$log",function(i,o,a){return{restrict:"E",scope:{text:"=",onCopied:"&"},transclude:!0,template:'<span\n  class="wl-widget-post-link"\n  ng-class="{\'wl-widget-post-link-copied\' : $copied}"\n  ng-click="copyToClipboard()">\n  <ng-transclude></ng-transclude>\n  <input type="text" ng-value="text" />\n</span>',link:function(e,t,n,r){return e.$copied=!1,e.node=t.find("input"),e.node.css("position","absolute"),e.node.css("left","-10000px"),e.copyToClipboard=function(){var t;try{if(o[0].body.style.webkitUserSelect="initial",(t=o[0].getSelection()).removeAllRanges(),e.node.select(),o[0].execCommand("copy")||a.warn("Error on clipboard copy for "+text),t.removeAllRanges(),e.$copied=!0,i(function(){return a.debug("Going to reset $copied status"),e.$copied=!1},3e3),angular.isFunction(e.onCopied))return e.$evalAsync(e.onCopied())}finally{o[0].body.style.webkitUserSelect=""}}}}}]),angular.module("wordlift.ui.carousel",["ngTouch"]).directive("wlCarousel",["$window","$log",function(o,t){return{restrict:"A",scope:!0,transclude:!0,template:'<div class="wl-carousel" ng-class="{ \'active\' : areControlsVisible }" ng-show="panes.length > 0" ng-mouseover="showControls()" ng-mouseleave="hideControls()">\n  <div class="wl-panes" ng-style="{ width: panesWidth, left: position }" ng-transclude ng-swipe-left="next()" ng-swipe-right="prev()" ></div>\n  <div class="wl-carousel-arrows" ng-show="areControlsVisible" ng-class="{ \'active\' : isActive() }">\n    <i class="wl-angle left" ng-click="prev()" ng-show="isPrevArrowVisible()" />\n    <i class="wl-angle right" ng-click="next()" ng-show="isNextArrowVisible()" />\n  </div>\n</div>',controller:["$scope","$element","$attrs","$log",function(a,t,e,n){var r,i;return i=angular.element(o),a.setItemWidth=function(){return t.width()/a.visibleElements()},a.showControls=function(){return a.areControlsVisible=!0},a.hideControls=function(){return a.areControlsVisible=!1},a.visibleElements=function(){return 460<t.width()?4:1},a.isActive=function(){return a.isPrevArrowVisible()||a.isNextArrowVisible()},a.isPrevArrowVisible=function(){return 0<a.currentPaneIndex},a.isNextArrowVisible=function(){return a.panes.length-a.currentPaneIndex>a.visibleElements()},a.next=function(){if(!(a.currentPaneIndex+a.visibleElements()+1>a.panes.length))return a.position=a.position-a.itemWidth,a.currentPaneIndex=a.currentPaneIndex+1},a.prev=function(){if(0!==a.currentPaneIndex)return a.position=a.position+a.itemWidth,a.currentPaneIndex=a.currentPaneIndex-1},a.setPanesWrapperWidth=function(){return a.panesWidth=a.panes.length*a.itemWidth,a.position=0,a.currentPaneIndex=0},a.itemWidth=a.setItemWidth(),a.panesWidth=void 0,a.panes=[],a.position=0,a.currentPaneIndex=0,a.areControlsVisible=!1,r=function(){var t,e,n;for(a.itemWidth=a.setItemWidth(),a.setPanesWrapperWidth(),t=0,e=(n=a.panes).length;t<e;t++)n[t].scope.setWidth(a.itemWidth);return a.$apply()},i.bind("resize",function(){return r}),i.bind("load",function(){return r}),this.registerPane=function(t,e,n){var r;return t.setWidth(a.itemWidth),r={scope:t,element:e},a.panes.push(r),a.setPanesWrapperWidth()},this.unregisterPane=function(t){var e,n,r,i,o;for(o=void 0,e=n=0,r=(i=a.panes).length;n<r;e=++n)i[e].scope.$id===t.$id&&(o=e);return a.panes.splice(o,1),a.setPanesWrapperWidth()}}]}}]).directive("wlCarouselPane",["$log",function(i){return{require:"^wlCarousel",restrict:"EA",scope:{wlFirstPane:"="},transclude:!0,template:"<div ng-transclude></div>",link:function(t,e,n,r){return e.addClass("wl-carousel-item"),t.isFirst=t.wlFirstPane||!1,t.setWidth=function(t){return e.css("width",t+"px")},t.$on("$destroy",function(){return i.debug("Destroy "+t.$id),r.unregisterPane(t)}),r.registerPane(t,e,t.isFirst)}}}]),angular.module("wordlift.editpost.widget.controllers.EditPostWidgetController",["wordlift.editpost.widget.services.AnalysisService","wordlift.editpost.widget.services.EditorService","wordlift.editpost.widget.services.GeoLocationService","wordlift.editpost.widget.providers.ConfigurationProvider"]).filter("filterEntitiesByTypesAndRelevance",["configuration","$log",function(t,e){return function(t,e){var n,r,i,o;if(r=[],null==t)return r;for(i in t)o=(n=t[i]).mainType,0<=indexOf.call(e,o)&&r.push(n);return r}}]).filter("filterTruncate",["$log",function(t){return function(t,e){var n;return isNaN(e)?t:e<=0?"":(t&&(n=t.split(/\s+/)).length>e&&(t=n.slice(0,e).join(" ")+"…"),t)}}]).filter("filterSplitInRows",["$log",function(t){return function(n){var r;if(n)return n=Math.ceil(n),function(){r=[];for(var t=0,e=n-1;0<=e?t<=e:e<=t;0<=e?t++:t--)r.push(t);return r}.apply(this)}}]).filter("filterEntitiesByTypes",["$log",function(t){return function(t,e){var n,r,i,o;for(i in r=[],t)o=(n=t[i]).mainType,0<=indexOf.call(e,o)&&r.push(n);return r}}]).filter("isEntitySelected",["$log",function(t){return function(t){var e,n,r;for(r in n=[],t)0<(e=t[r]).occurrences.length&&n.push(e);return n}}]).controller("EditPostWidgetController",["GeoLocationService","RelatedPostDataRetrieverService","EditorService","AnalysisService","configuration","$log","$scope","$rootScope",function(t,i,r,o,u,y,w,a){var b,e,n,s;for(w.isRunning=!1,w.isGeolocationRunning=!1,w.analysis=void 0,w.relatedPosts=void 0,w.currentEntity=void 0,w.currentEntityType=void 0,w.canCreateEntities=o.canCreateEntities,w.setCurrentEntity=function(t,e){var n;switch(w.currentEntity=t,w.currentEntityType=e){case"entity":return y.debug("An existing entity. Nothing to do",t);default:return y.debug("A new entity"),w.currentEntity=o.createEntity(),w.isThereASelection||null!=w.annotation?null!=w.annotation?(n=w.analysis.annotations[w.annotation],void(w.currentEntity.label=n.text)):r.createTextAnnotationFromCurrentSelection():(w.addMsg("Select a text or an existing annotation in order to create a new entity. Text selections are valid only if they do not overlap other existing annotation","error"),void w.unsetCurrentEntity())}},w.unsetCurrentEntity=function(){return w.currentEntity=void 0,w.currentEntityType=void 0},w.storeCurrentEntity=function(){if(w.currentEntity.mainType){switch(w.currentEntityType){case"entity":w.analysis.entities[w.currentEntity.id]=w.currentEntity,w.addMsg("The entity was updated!","positive");break;default:y.debug("Unset a new entity"),w.addNewEntityToAnalysis(),w.addMsg("Annotation is created","positive")}return w.unsetCurrentEntity(),wp.wordlift.trigger("analysis.result",w.analysis)}w.addMsg("Select an entity type.","error")},w.selectedEntities={},w.currentSection=void 0,w.isVideoObjectEnabled=1===parseInt(wlSettings.show_videoobject),w.toggleCurrentSection=function(t){return"videoobject"===t&&window.dispatchEvent(new Event("wordlift.renderVideoList")),w.currentSection===t?w.currentSection=void 0:w.currentSection=t},w.isCurrentSection=function(t){return w.currentSection===t},w.suggestedPlaces=void 0,w.publishedPlace=u.publishedPlace,w.topic=void 0,null!=u.publishedPlace&&(w.suggestedPlaces={},w.suggestedPlaces[u.publishedPlace.id]=u.publishedPlace),w.annotation=void 0,w.boxes=[],w.images=[],w.isThereASelection=!1,w.configuration=u,w.messages=[],i.load(Object.keys(w.configuration.entities)),a.$on("analysisFailed",function(t,e){return w.analysisFailed=!0,w.addMsg(e,"error")}),a.$on("analysisServiceStatusUpdated",function(t,e){return w.isRunning=e,r.updateContentEditableStatus(!e)}),a.$watch("selectionStatus",function(){return w.isThereASelection=a.selectionStatus}),e=0,n=(s=w.configuration.classificationBoxes).length;e<n;e++)b=s[e],w.selectedEntities[b.id]={};return w.removeMsg=function(t){return w.messages.splice(t,1)},w.addMsg=function(t,e){return w.messages.unshift({level:e,text:t})},w.selectAnnotation=function(t){return r.selectAnnotation(t)},w.hasAnalysis=function(){return null!=w.analysis},w.isEntitySelected=function(t,e){return null!=w.selectedEntities[e.id][t.id]},w.isLinkedToCurrentAnnotation=function(t){var e;return e=w.annotation,0<=indexOf.call(t.occurrences,e)},w.addNewEntityToAnalysis=function(){var t;return delete w.currentEntity.suggestedSameAs,w.analysis.entities[w.currentEntity.id]=w.currentEntity,(t=w.analysis.annotations[w.annotation]).entityMatches.push({entityId:w.currentEntity.id,confidence:1}),w.analysis.entities[w.currentEntity.id].annotations[t.id]=t,w.analysis.annotations[w.annotation].entities[w.currentEntity.id]=w.currentEntity,w.onSelectedEntityTile(w.analysis.entities[w.currentEntity.id])},w.$on("updateOccurencesForEntity",function(t,e,n){var r,i;if(y.debug("Updating "+n.length+" occurrence(s) for "+e+"..."),w.analysis.entities[e].occurrences=n,wp.wordlift.trigger("updateOccurrencesForEntity",{entityId:e,occurrences:n}),0===n.length){for(b in i=[],r=w.selectedEntities)r[b],i.push(delete w.selectedEntities[b][e]);return i}}),w.$watch("annotation",function(t){var e;if(y.debug("Current annotation id changed to "+t),wp.wordlift.trigger("annotation",t),!w.isRunning&&null!=t)return null!=w.currentEntity?(e=w.analysis.annotations[t],w.currentEntity.label=e.text,o.getSuggestedSameAs(e.text)):void 0}),w.$on("textAnnotationClicked",function(t,e){return w.annotation=e,w.unsetCurrentEntity()}),w.$on("textAnnotationAdded",function(t,e){return y.debug("[ app.controllers.EditPostWidgetController ] added a new annotation with Id "+e.id),w.analysis.annotations[e.id]=e,w.annotation=e.id}),w.$on("sameAsRetrieved",function(t,e){return w.currentEntity.suggestedSameAs=e}),w.$on("relatedPostsLoaded",function(t,e){return w.relatedPosts=e}),w.$on("analysisPerformed",function(t,e){var n,r,i,o,a,s,u,l,c,f,d,h,p,$,v,g,m;if(y.info("An analysis has been performed."),w.analysis=e,null!=w.configuration.topic)for(y.info("Preselecting topics..."),a=0,u=(p=e.topics).length;a<u;a++)$=(m=p[a]).id,0<=indexOf.call(w.configuration.topic.sameAs,$)&&(w.topic=m);for(s=0,l=(v=w.configuration.classificationBoxes).length;s<l;s++)for(d=0,c=(n=(b=v[s]).selectedEntities).length;d<c;d++)if(i=n[d],r=e.entities[i]){if(0===r.occurrences.length){y.warn("Entity "+i+" selected as "+b.label+" without valid occurrences!",r);continue}for(w.selectedEntities[b.id][i]=e.entities[i],h=0,f=(g=r.images).length;h<f;h++)o=g[h],indexOf.call(w.images,o)<0&&w.images.push(o)}else y.warn("Entity with id "+i+" should be linked to "+b.id+" but is missing");return w.currentSection="content-classification"}),w.updateRelatedPosts=function(){var t,e,n,r;for(b in y.debug("Going to update related posts box ..."),e=[],r=w.selectedEntities)for(n in t=r[b])t[n],e.push(n);return i.load(e)},w.onSelectedEntityTile=function(e){var t,n,r,i,o,a,s;if(t="entitySelected",null!=w.annotation?(o=w.annotation,0<=indexOf.call(e.occurrences,o)&&(t="entityDeselected")):0<e.occurrences.length&&(t="entityDeselected"),console.info("onSelectedEntityTile",{action:t,entity:e}),s=u.getCategoryForType(e.mainType),y.debug("[ app.controllers.EditPostWidgetController ] Action '"+t+"' on entity "+e.id+" within "+s+" scope"),"entitySelected"===t){if(null!=(w.selectedEntities[s][e.id]=e).images)for(r=0,i=(a=e.images).length;r<i;r++)n=a[r],indexOf.call(w.images,n)<0&&w.images.push(n)}else null!=e.images&&(w.images=w.images.filter(function(t){return indexOf.call(e.images,t)<0}));return w.$emit(t,e,w.annotation),wp.wordlift.trigger(t,{entity:e,annotation:w.annotation}),w.updateRelatedPosts(),w.selectAnnotation(void 0)},w.isGeoLocationAllowed=function(){return t.isAllowed()},w.getLocation=function(){return w.isGeolocationRunning=!0,a.$broadcast("geoLocationStatusUpdated",w.isGeolocationRunning),t.getLocation()},w.isPublishedPlace=function(t){var e;return t.id===(null!=(e=w.publishedPlace)?e.id:void 0)},w.hasPublishedPlace=function(){return null!=w.publishedPlace||null!=w.suggestedPlaces},w.onPublishedPlaceSelected=function(t){var e;return(null!=(e=w.publishedPlace)?e.id:void 0)===t.id?(w.publishedPlace=void 0,void(w.suggestedPlaces=void 0)):w.publishedPlace=t},w.$on("currentUserLocalityDetected",function(t,e,i){return y.debug("Looking for entities matching "+e+" for locality "+i),o._innerPerform(e).then(function(t){var e,n,r;for(n in w.suggestedPlaces={},r=t.data.entities)"place"===(e=r[n]).mainType&&i===e.label&&(e.id=n,w.onPublishedPlaceSelected(e));return w.isGeolocationRunning=!1,a.$broadcast("geoLocationStatusUpdated",w.isGeolocationRunning)})}),w.$on("geoLocationError",function(t,e){return w.addMsg("Sorry. Looks like something went wrong and WordLift cannot detect your current position. Make sure the ​location services​ of your browser are turned on.","error"),w.isGeolocationRunning=!1,a.$broadcast("geoLocationStatusUpdated",w.isGeolocationRunning)}),w.isTopic=function(t){var e;return t.id===(null!=(e=w.topic)?e.id:void 0)},w.onTopicSelected=function(t){var e;if((null!=(e=w.topic)?e.id:void 0)!==t.id)return w.topic=t;w.topic=void 0}}]),angular.module("wordlift.editpost.widget.directives.wlClassificationBox",[]).directive("wlClassificationBox",["configuration","$log",function(t,i){return{restrict:"E",scope:!0,transclude:!0,templateUrl:function(){return t.ajax_url+"?action=wl_templates&name=wordlift-directive-classification-box"},link:function(t,e,n,r){return i.debug("Linking classification box..."),t.hasSelectedEntities=function(){return 0<Object.keys(t.selectedEntities[t.box.id]).length},wp.wordlift.trigger("wlClassificationBox.loaded",t)},controller:function(o,t,e){return o.tiles=[],o.boxes[o.box.id]=o,this.addTile=function(t){return o.tiles.push(t)},this.closeTiles=function(){var t,e,n,r,i;for(r=[],t=0,e=(n=o.tiles).length;t<e;t++)i=n[t],r.push(i.isOpened=!1);return r}}}}]),angular.module("wordlift.editpost.widget.directives.wlEntityList",[]).directive("wlEntityList",["$log",function(t){return{restrict:"A",link:function(){return wp.wordlift.trigger("wlEntityList.loaded")}}}]),angular.module("wordlift.editpost.widget.directives.wlEntityForm",[]).directive("wlEntityForm",["configuration","$window","$log",function(r,i,o){return{restrict:"E",scope:{entity:"=",onSubmit:"&",onReset:"&",box:"="},templateUrl:function(){return r.ajax_url+"?action=wl_templates&name=wordlift-directive-entity-form"},link:function(a,t,e,n){return a.configuration=r,a.currentCategory=void 0,a.$watch("entity.id",function(t){var e,n;if(null!=t)return o.debug("Entity updated to "+t),e=r.getCategoryForType(null!=(n=a.entity)?n.mainType:void 0),o.debug("Going to update current category to "+e),a.currentCategory=e}),a.onSubmitWrapper=function(t){return t.preventDefault(),a.onSubmit()},a.onResetWrapper=function(t){return t.preventDefault(),a.onReset()},a.setCurrentCategory=function(t){var e;if(a.currentCategory=t,e=r.getTypesForCategoryId(t),o.debug("Going to check types"),o.debug(e),1===e.length)return a.setType(e[0])},a.unsetCurrentCategory=function(){var t;return a.currentCategory=void 0,null!=(t=a.entity)?t.mainType=void 0:void 0},a.isSameAsOf=function(t){var e;return e=t.id,0<=indexOf.call(a.entity.sameAs,e)},a.addSameAs=function(t){var e,n,r,i,o;return(null!=(n=a.entity)?n.sameAs:void 0)||null!=(r=a.entity)&&(r.sameAs=[]),i=t.id,0<=indexOf.call(a.entity.sameAs,i)?(e=a.entity.sameAs.indexOf(t.id),a.entity.sameAs.splice(e,1)):null!=(o=a.entity)?o.sameAs.push(t.id):void 0},a.setType=function(t){var e,n;if(t!==(null!=(e=a.entity)?e.mainType:void 0))return null!=(n=a.entity)?n.mainType=t:void 0},a.isCurrentType=function(t){var e;return(null!=(e=a.entity)?e.mainType:void 0)===t},a.getAvailableTypes=function(){return r.getTypesForCategoryId(a.currentCategory)},a.removeCurrentImage=function(t){var e;return e=a.entity.images.splice(t,1),o.warn("Removed "+e+" from entity "+a.entity.id+" images collection")},a.linkToEdit=function(t){return t.preventDefault(),i.location.href=ajaxurl+"?action=wordlift_redirect&uri="+i.encodeURIComponent(a.entity.id)+"&to=edit"},a.hasOccurences=function(){var t;return 0<(null!=(t=a.entity.occurrences)?t.length:void 0)},a.setSameAs=function(t){return a.entity.sameAs=t},a.isInternal=function(){var t;return r.isInternal(null!=(t=a.entity)?t.id:void 0)},a.isNew=function(t){var e;return!/^(f|ht)tps?:\/\//i.test(null!=(e=a.entity)?e.id:void 0)}}}}]),angular.module("wordlift.editpost.widget.directives.wlEntityInputBox",[]).directive("wlEntityInputBox",["configuration","$log",function(t,e){return{restrict:"E",scope:{entity:"="},templateUrl:function(){return t.ajax_url+"?action=wl_templates&name=wordlift-directive-entity-input-box"}}}]),angular.module("wordlift.editpost.widget.services.EditorAdapter",["wordlift.editpost.widget.services.EditorAdapter"]).service("EditorAdapter",["$log",function(t){var n;return n={getEditor:function(t){var e,n,r;return null==t&&(t=null!=(e=window.wlSettings.default_editor_id)?e:"content"),tinyMCE.get(null!=(n="undefined"!=typeof wp&&null!==wp&&null!=(r=wp.hooks)?r.applyFilters("wl_default_editor_id",t):void 0)?n:t)},getHTML:function(t){var e;return null==t&&(t=null!=(e=window.wlSettings.default_editor_id)?e:"content"),n.getEditor(t).getContent({format:"raw"})}}}]),angular.module("wordlift.editpost.widget.services.AnnotationParser",[]).service("AnnotationParser",["$log",function(t){return{parse:function(t){var e,n,r,i,o;for(o=Traslator.create(t),r=/<(\w+)[^>]*\sitemid="([^"]+)"[^>]*>([^<]*)<\/\1>/gim,i=[];n=r.exec(t);)e={start:o.html2text(n.index),end:o.html2text(n.index+n[0].length),uri:n[2],label:n[3]},i.push(e);return i}}}]),angular.module("wordlift.editpost.widget.services.AnalysisService",["wordlift.editpost.widget.services.AnnotationParser","wordlift.editpost.widget.services.EditorAdapter"]).service("AnalysisService",["AnnotationParser","EditorAdapter","configuration","$log","$http","$rootScope","$q",function(t,e,d,h,n,a,i){var r,p,o,s,u,l,c,f,$,v,g,m;if(m=function(t){var e;for(null==t&&(t=8),e="";e.length<t;)e+=Math.random().toString(36).substr(2);return e.substr(0,t)},c=function(t,e){return r(r({},t),e)},r=function(t,e){var n,r;for(n in e)r=e[n],t[n]=r;return t},v={_isRunning:!(p=function(t,e,n){var r,i;for(i in t)if((r=t[i]).start===e&&r.end===n)return r}),_currentAnalysis:void 0,_supportedTypes:[],_defaultType:"thing",cleanAnnotations:function(t,e){var n,r,i,o,a,s,u,l,c,f;for(r in null==e&&(e=[]),l=t.annotations)if(0<(n=l[r]).start&&n.end>n.start){for(o=!1,a=0,s=(i=function(){f=[];for(var t=c=n.start,e=n.end;c<=e?t<=e:e<=t;c<=e?t++:t--)f.push(t);return f}.apply(this)).length;a<s;a++){u=i[a],0<=indexOf.call(e,u)&&(o=!0);break}o?(h.warn("Annotation with id: "+r+" start: "+n.start+" end: "+n.end+" overlaps an existing annotation"),this.deleteAnnotation(t,r)):e=e.concat(i)}return t}},null!=d.classificationBoxes)for(o=0,u=(f=d.classificationBoxes).length;o<u;o++)for(s=0,l=($=f[o].registeredTypes).length;s<l;s++)g=$[s],indexOf.call(v._supportedTypes,g)<0&&v._supportedTypes.push(g);return v.createEntity=function(t){var e;return null==t&&(t={}),e={id:"local-entity-"+m(32),label:"",description:"",mainType:"",types:[],images:[],confidence:1,occurrences:[],annotations:{}},c(e,t)},v.deleteAnnotation=function(t,e){var n,r,i,o,a;if(h.warn("Going to remove overlapping annotation with id "+e),null!=t.annotations[e]){for(r=i=0,o=(a=t.annotations[e].entityMatches).length;i<o;r=++i)n=a[r],delete t.entities[n.entityId].annotations[e];delete t.annotations[e]}return t},v.createAnnotation=function(t){var e;return null==t&&(t={}),e={id:"urn:local-text-annotation-"+m(32),text:"",start:0,end:0,entities:[],entityMatches:[]},c(e,t)},v.parse=function(t){var e,n,r,i,o,a,s,u,l,c;for(i in h.debug("Parsing data...",t),u=t.entities)(r=u[i]).id=i,null==r.occurrences&&(r.occurrences=[]),null==r.annotations&&(r.annotations={});for(i in l=t.annotations)for((e=l[i]).id=i,e.entities={},o=a=0,s=(c=t.annotations[i].entityMatches).length;a<s;o=++a)n=c[o],null!=t.entities[n.entityId]?(null==t.entities[n.entityId].annotations&&(t.entities[n.entityId].annotations={}),t.entities[n.entityId].annotations[i]=e,t.annotations[i].entities[n.entityId]=t.entities[n.entityId]):h.warn(n.entityId+" not found in `entities`, skipping.");return h.debug("Parsed data: ",t),t},v.getSuggestedSameAs=function(t){var e,n,r,i,o;for(n in this._innerPerform(t).then(function(t){}),o=[],i=response.data.entities)e=i[n],(r=n.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i))&&o.push({id:n,label:e.label,mainType:e.mainType,source:r[1]});return h.debug(o),a.$broadcast("sameAsRetrieved",o)},v._innerPerform=function(t,e){var r;return null==e&&(e=[]),r={content:t,annotations:e,contentType:"text/html",version:Traslator.version},"undefined"!=typeof wlSettings&&null!==wlSettings&&(null!=wlSettings.language&&(r.contentLanguage=wlSettings.language),null!=wlSettings.itemId&&(r.exclude=[wlSettings.itemId]),this.canCreateEntities?r.scope="all":r.scope="local"),i(function(e,n){return wp.ajax.post("wl_analyze",{_wpnonce:wlSettings.analysis._wpnonce,data:JSON.stringify(r)}).done(function(t){return e(t)}).fail(function(t){return n(t)})})},v._updateStatus=function(t){return v._isRunning=t,a.$broadcast("analysisServiceStatusUpdated",t)},v.perform=function(t){var e;return v._currentAnalysis?(h.warn("Analysis already run! Nothing to do ..."),void v._updateStatus(!1)):(v._updateStatus(!0),t=(t=t.replaceAll(/<span.+?class="mce_SELRES_start.+?><\/span>/gm,"")).replaceAll(/<span.+?class="mce_SELRES_end.+?><\/span>/gm,""),h.debug("Requesting analysis..."),(e=this._innerPerform(t,{})).then(function(t){var e,n;return e=t,v._currentAnalysis=e,n=v.parse(e),a.$broadcast("analysisPerformed",n),wp.wordlift.trigger("analysis.result",n)}),e.catch(function(t){return h.error(t.data),a.$broadcast("analysisFailed",t.data)}),e.finally(function(t){return v._updateStatus(!1)}))},v.preselect=function(t,e){var n,r,i,o,a,s,u,l,c,f;for(h.debug("Selecting "+e.length+" entity annotation(s)..."),c=[],a=0,s=e.length;a<s;a++)if((n=e[a]).start!==n.end){for(o in null==(f=p(t.annotations,n.start,n.end))&&(h.warn("Text annotation "+n.start+":"+n.end+" for entityId "+n.uri+" misses in the analysis"),f=this.createAnnotation({start:n.start,end:n.end,text:n.label,cssClass:null!=n.cssClass?n.cssClass:void 0}),t.annotations[f.id]=f),i=t.entities[n.uri],u=d.entities)r=u[o],l=n.uri,0<=indexOf.call(r.sameAs,l)&&(i=t.entities[r.id]);null!=i?(t.entities[i.id].occurrences.push(f.id),null==t.entities[i.id].annotations[f.id]?(t.entities[i.id].annotations[f.id]=f,t.annotations[f.id].entityMatches.push({entityId:i.id,confidence:1}),c.push(t.annotations[f.id].entities[i.id]=t.entities[i.id])):c.push(void 0)):h.warn("Entity with uri "+n.uri+" is missing both in analysis results and in local storage")}else h.warn("There is a broken empty annotation for entityId "+n.uri);return c},v.canCreateEntities=null!=wlSettings.can_create_entities&&"yes"===wlSettings.can_create_entities,v}]),angular.module("wordlift.editpost.widget.services.EditorService",["wordlift.editpost.widget.services.EditorAdapter","wordlift.editpost.widget.services.AnalysisService"]).service("EditorService",["configuration","AnalysisService","EditorAdapter","$log","$http","$rootScope",function(u,l,g,m,t,y){var f,s,d,n;return"\ufeff",function(t){var e,n,r,i;for(r=/<(\w+)[^>]*\sclass="([^"]+)"\s+(?:id="[^"]+"\s+)?itemid="([^"]+)"[^>]*>([^<]*)<\/\1>/gim,i=[];n=r.exec(t);)e={start:n.index,end:n.index+n[0].length,uri:n[3],label:n[4],cssClass:n[2]},i.push(e);return i},function(t){var n,e,r,i,o,a;for(i=[],e=0,r=t.length;e<r;e++)n=t[e],i=i.concat(function(){a=[];for(var t=o=n.start,e=n.end;o<=e?t<=e:e<=t;o<=e?t++:t--)a.push(t);return a}.apply(this));return i},function(){return tinyMCE.get("content")},d=function(t,e){var n,r,i,o,a,s;for((r=g.getEditor()).dom.addClass(t,"disambiguated"),console.log({configuration:u}),i=0,o=(a=u.types).length;i<o;i++)s=a[i],r.dom.removeClass(t,s.css);return r.dom.removeClass(t,"unlinked"),r.dom.addClass(t,"wl-"+e.mainType),n=r.dom.getAttrib(t,"itemid"),r.dom.setAttrib(t,"itemid",e.id),n},s=function(t,e){var n,r;return(r=g.getEditor()).dom.removeClass(t,"disambiguated"),r.dom.removeClass(t,"wl-"+e.mainType),n=r.dom.getAttrib(t,"itemid"),r.dom.setAttrib(t,"itemid",""),n},f=function(t){var e,n,r,i,o,a;if(m.info("Calculating occurrences for entity "+t+"..."),r=g.getEditor(),a=[],""===t)return a;for(n=r.dom.select("span.textannotation"),m.info("Found "+n.length+" annotation(s) for entity "+t+"."),i=0,o=n.length;i<o;i++)e=n[i],r.dom.getAttrib(e.id,"itemid")===t&&a.push(e.id);return a},y.$on("analysisPerformed",function(t,e){if(null!=e&&null!=e.annotations)return n.embedAnalysis(e)}),y.$on("entitySelected",function(t,e,n){var r,i,o,a,s,u,l,c;if(m.debug("[ app.services.EditorService ] `entitySelected` event received.",t,e,n),i=[],null!=n)i.push(d(n,e));else for(a in c=e.annotations)r=c[a],i.push(d(r.id,e));for(s=0,u=i.length;s<u;s++)(o=i[s])&&(l=f(o),y.$broadcast("updateOccurencesForEntity",o,l));return l=f(e.id),y.$broadcast("updateOccurencesForEntity",e.id,l)}),y.$on("entityDeselected",function(t,e,n){var r,i,o,a;if(console.debug('EditorService::$rootScope.$on "entityDeselected" (event)',{event:t,entity:e,annotationId:n}),null!=n)s(n,e);else for(i in a=e.annotations)r=a[i],s(r.id,e);return o=f(e.id),console.debug('EditorService::$rootScope.$on "entityDeselected" (event)',{occurrences:o}),y.$broadcast("updateOccurencesForEntity",e.id,o)}),n={hasSelection:function(){var t;return null!=(t=g.getEditor())&&!t.selection.isCollapsed()},isEditor:function(t){return g.getEditor().id===t.id},updateContentEditableStatus:function(t){return g.getEditor().getBody().setAttribute("contenteditable",t)},createTextAnnotationFromCurrentSelection:function(){var t,e,n,r,i,o,a,s,u;if(!(e=g.getEditor()).selection.isCollapsed())return r=""+e.selection.getSel(),i=l.createAnnotation({text:r}),a=e.selection.getContent({format:"text"}),o='<span id="'+i.id+'" class="textannotation unlinked selected">'+a+"</span>\ufeff",e.selection.setContent(o),t=g.getHTML(),u=Traslator.create(t),n=t.indexOf(o),s=u.html2text(n),i.start=s,i.end=i.start+r.length,y.$broadcast("textAnnotationAdded",i);m.warn("Invalid selection! The text annotation cannot be created")},selectAnnotation:function(t){var e,n,r,i,o;for(r=0,i=(o=(n=g.getEditor()).dom.select("span.textannotation")).length;r<i;r++)e=o[r],n.dom.removeClass(e.id,"selected");if(y.$broadcast("textAnnotationClicked",void 0),n.dom.hasClass(t,"textannotation"))return n.dom.addClass(t,"selected"),y.$broadcast("textAnnotationClicked",t)},embedAnalysis:function(t){var e,n,r,i,o,a,s,u,l,c,f,d,h,p,$,v;for(m.debug("Embedding analysis..."),r=g.getEditor(),s=g.getHTML(),l=0,f=(n=Object.values(t.annotations).sort(function(t,e){return t.end>e.end?-1:t.end<e.end?1:0})).length;l<f;l++)if(0!==(e=n[l]).entityMatches.length){if(null==r.dom.get(e.id)){for(i='<span id="'+e.id+'" class="textannotation',-1<(null!=(h=e.cssClass)?h.indexOf("wl-no-link"):void 0)&&(i+=" wl-no-link"),-1<(null!=(p=e.cssClass)?p.indexOf("wl-link"):void 0)&&(i+=" wl-link"),c=0,d=($=e.entityMatches).length;c<d;c++)o=$[c],null!=t.entities[o.entityId]?(a=t.entities[o.entityId],v=e.id,0<=indexOf.call(a.occurrences,v)&&(i+=" disambiguated wl-"+a.mainType+'" itemid="'+a.id)):m.warn(o.entityId+" not found in `entities`, skipping.");i+='">',s=(s=s.substring(0,e.end)+"</span>"+s.substring(e.end)).substring(0,e.start)+i+s.substring(e.start)}}else m.warn("Annotation "+e.text+" ["+e.start+":"+e.end+"] with id "+e.id+" has no entity matches!");return s=s.replace(/<\/span>/gim,"</span>\ufeff"),y.$broadcast("analysisEmbedded"),u=r.isDirty(),r.setContent(s,{format:"raw"}),r.isNotDirty=!u}}}]),angular.module("wordlift.editpost.widget.services.RelatedPostDataRetrieverService",[]).service("RelatedPostDataRetrieverService",["configuration","$log","$http","$rootScope",function(n,r,i,o){return{load:function(t){var e;return null==t&&(t=[]),e="admin-ajax.php?action=wordlift_related_posts&post_id="+n.currentPostId,i({method:"post",url:e,data:t}).success(function(t){return o.$broadcast("relatedPostsLoaded",t)}).error(function(t,e){return r.warn("Error loading related posts")})}}}]),angular.module("wordlift.editpost.widget.services.GeoLocationService",["geolocation"]).service("GeoLocationService",["configuration","geolocation","$log","$rootScope","$document","$q","$timeout","$window",function(t,e,n,l,i,o,a,r){var s,u,c;return"locality","AIzaSyAhsajbqNVd7ABlkZvskWIPdiX6M3OaaNM",s="https://maps.googleapis.com/maps/api/js?language="+t.currentLanguage+"&key=AIzaSyAhsajbqNVd7ABlkZvskWIPdiX6M3OaaNM",l.$on("error",function(t,e){return n.warn("Geolocation error: "+e),l.$broadcast("geoLocationError",e)}),this.googleApiLoaded=!1,this.googleApiPromise=void 0,c=function(){var t,n,r;return null!=this.googleApiPromise||(n=o.defer(),(r=i[0].createElement("script")).src=s,i[0].body.appendChild(r),t=function(t){var e;if(!r.readyState||"complete"===(e=r.readyState)||"loaded"===e)return a(function(){return n.resolve(t)})},r.onload=t,r.onreadystatechange=t,r.onerror=function(t){return a(function(){return n.reject(t)})},this.googleApiPromise=n.promise),this.googleApiPromise},u=function(){var t,e,n;for(e in n=r.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer/i})if(t[e].test(n))return e;return"unknown"},{isAllowed:function(){return"chrome"!==u()||"https:"===r.location.protocol},getLocation:function(){return e.getLocation().then(function(t){return n.debug("Detected position: latitude "+t.coords.latitude+", longitude "+t.coords.longitude),c().then(function(){return(new google.maps.Geocoder).geocode({location:{lat:t.coords.latitude,lng:t.coords.longitude}},function(t,e){var n,r,i,o,a,s,u;if(e===google.maps.GeocoderStatus.OK)for(r=0,o=t.length;r<o;r++)if(u=t[r],0<=indexOf.call(u.types,"locality"))for(i=0,a=(s=u.address_components).length;i<a;i++)if(n=s[i],0<=indexOf.call(n.types,"locality"))return void l.$broadcast("currentUserLocalityDetected",u.formatted_address,n.long_name)})})})}}}]),angular.module("wordlift.editpost.widget.providers.ConfigurationProvider",[]).provider("configuration",function(){var e;return e=void 0,{setConfiguration:function(t){return(e=t).getCategoryForType=function(t){var e,n,r,i;if(t){for(n=0,r=(i=this.classificationBoxes).length;n<r;n++)if(e=i[n],0<=indexOf.call(e.registeredTypes,t))return e.id;return"what"}},e.getTypesForCategoryId=function(t){var e,n,r,i;if(!t)return[];for(n=0,r=(i=this.classificationBoxes).length;n<r;n++)if(t===(e=i[n]).id)return e.registeredTypes},e.isInternal=function(t){return null!=t?t.startsWith(this.datasetUri):void 0},e.getUriForType=function(t){var e,n,r,i;for(e=0,n=(r=this.types).length;e<n;e++)if((i=r[e]).css==="wl-"+t)return i.uri}},$get:function(){return e}}}),function(c,t){var f;if(t.module("wordlift.editpost.widget",["ngAnimate","wordlift.ui.carousel","wordlift.utils.directives","wordlift.editpost.widget.providers.ConfigurationProvider","wordlift.editpost.widget.controllers.EditPostWidgetController","wordlift.editpost.widget.directives.wlClassificationBox","wordlift.editpost.widget.directives.wlEntityList","wordlift.editpost.widget.directives.wlEntityForm","wordlift.editpost.widget.directives.wlEntityInputBox","wordlift.editpost.widget.services.AnalysisService","wordlift.editpost.widget.services.EditorService","wordlift.editpost.widget.services.RelatedPostDataRetrieverService"]).config(function(t){var e;return e=Object.assign({},window._wlMetaBoxSettings.settings,{types:window._wlEntityTypes}),t.setConfiguration(e)}),c('<div\n  id="wordlift-edit-post-wrapper"\n  ng-controller="EditPostWidgetController"\n  ng-include="configuration[\'ajax_url\'] + \'?action=wl_templates&name=wordlift-editpost-widget\'">\n</div>').appendTo("#wordlift-edit-post-outer-wrapper"),c('<div class="wl-widget-spinner">\n  <svg transform-origin="10 10" id="wl-widget-spinner-blogger">\n    <circle cx="10" cy="10" r="6" class="wl-blogger-shape"></circle>\n  </svg>\n  <svg transform-origin="10 10" id="wl-widget-spinner-editorial">\n    <rect x="4" y="4" width="12" height="12" class="wl-editorial-shape"></rect>\n  </svg>\n  <svg transform-origin="10 10" id="wl-widget-spinner-enterprise">\n    <polygon points="3,10 6.5,4 13.4,4 16.9,10 13.4,16 6.5,16" class="wl-enterprise-shape"></polygon>\n  </svg>\n</div>').appendTo("#wordlift_entities_box .ui-sortable-handle"),console.log("bootstrapping WordLift app..."),(f=t.bootstrap(c("#wordlift-edit-post-wrapper"),["wordlift.editpost.widget"])).invoke(["$rootScope","$log",function(t,e){if(t.$on("analysisServiceStatusUpdated",function(t,e){var n;return n=e?"wl-spinner-running":"",c(".wl-widget-spinner svg").attr("class",n)}),t.$on("geoLocationStatusUpdated",function(t,e){var n;return n=e?"wl-spinner-running":"",c(".wl-widget-spinner svg").attr("class",n)}),null!=wp.wordlift)return wp.wordlift.on("loading",function(t){var e;return e=t?"wl-spinner-running":"",c(".wl-widget-spinner svg").attr("class",e)})}]),null!=window.wlSettings)tinymce.PluginManager.add("wordlift",function(i,t){var n,e,r,o,a,s,u,l;if(r=void 0!==window.wlSettings.default_editor_id?window.wlSettings.default_editor_id:"content",o=null!=(s="undefined"!=typeof wp&&null!==wp&&null!=(u=wp.hooks)?u.applyFilters("wl_default_editor_id",r):void 0)?s:r,console.log("Loading WordLift [ default editor :: "+r+" ][ target editor :: "+o+" ][ this editor :: "+i.id+" ]"),i.id===o)return a=function(t,e,n){switch(tinymce.majorVersion){case"4":return t.on(e,n);case"3":return t["on"+e].add(n)}},(e=c("#wordlift_entities_box").hasClass("closed"))||f.invoke(["EditorService","$rootScope","$log",function(t,e,n){var r,i,o,a,s,u;for(null!=wp.autosave&&(wp.autosave.server.postChanged=function(){return!1}),u=[],r=0,i=(s=["setMarkers","toViews"]).length;r<i;r++){if(o=s[r],null!=wp.mce.views[o]){a=wp.mce.views[o],n.warn("Override wp.mce.views method "+o+"() to prevent shortcodes rendering"),wp.mce.views[o]=function(t){return t},e.$on("analysisEmbedded",function(t){return n.info("Going to restore wp.mce.views method "+o+"()"),wp.mce.views[o]=a}),e.$on("analysisFailed",function(t){return n.info("Going to restore wp.mce.views method "+o+"()"),wp.mce.views[o]=a});break}u.push(void 0)}return u}]),l=function(){return f.invoke(["AnalysisService","EditorService","$rootScope","$log",function(e,n,t,r){return t.$apply(function(){var t;if(""!==(t=i.getContent({format:"raw"})))return n.updateContentEditableStatus(!1),e.perform(t)})}])},n=function(){var t;return t=c(i.getBody()),(e=c("#wordlift_entities_box").hasClass("closed"))?t.addClass("wl-postbox-closed"):t.removeClass("wl-postbox-closed")},c(document).on("postbox-toggled",function(t,e){if("wordlift_entities_box"===e.id)return n()}),i.on("init",function(){var t;return n(),t=function(){var t;return t=i.selection.getContent({format:"text"}),wp.wordlift.trigger("editorSelectionChanged",{selection:t,editor:i,source:"tinymce"})},i.on("selectionchange",function(){return t()})}),e||a(i,"init",l),c(document).on("postbox-toggled",function(t,e){if("wordlift_entities_box"===e.id)return l()}),a(i,"NodeChange",function(t){return f.invoke(["AnalysisService","EditorService","$rootScope","$log",function(t,e,n,r){return t._currentAnalysis&&n.$apply(function(){return n.selectionStatus=e.hasSelection()}),!0}])}),a(i,"Click",function(i){return f.invoke(["AnalysisService","EditorService","$rootScope","$log",function(t,e,n,r){return t._currentAnalysis&&n.$apply(function(){return e.selectAnnotation(i.target.id)}),!0}])})})}(jQuery,window.angular),void 0!==window._wlAngularBackup&&(window._wlAngularBackupApps.attr("ng-app",!0),window.angular=window._wlAngularBackup,delete window._wlAngularBackup);