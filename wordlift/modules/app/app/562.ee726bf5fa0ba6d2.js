"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[562],{3562:(ot,h,e)=>{e.r(h),e.d(h,{PostsModule:()=>tt});var d=e(6895),m=e(8176),M=e(7579),f=e(8505),v=e(4351),y=e(9635),T=e(5698),w=e(9300),Z=e(6150),t=e(4650),O=e(6712),p=e(433),_=e(8800),r=e(13),u=e(545),b=e(5087),A=e(1354),I=e(1723),g=e(8231),x=e(4788),C=e(7423),J=e(5505),N=e(3304),S=e(36),P=e(7570);function F(o,a){1&o&&t.GkF(0)}function Q(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"wlx-filters",21),t.NdJ("filterChange",function(i){t.CHM(n);const l=t.oxw(2);return t.KtG(l.filter=i)})("filterChange",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.cursor.next(""))}),t.qZA()}if(2&o){const n=t.oxw(2);t.Q6J("filter",n.filter)("stats",n.stats)}}function E(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",11)(1,"p",12),t._uU(2),t.qZA(),t.YNc(3,Q,1,2,"wlx-filters",13),t.TgZ(4,"nz-select",14),t.NdJ("ngModelChange",function(i){t.CHM(n);const l=t.oxw();return t.KtG(l.postStatus=i)})("ngModelChange",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.reload())}),t._UZ(5,"nz-option",15)(6,"nz-option",16)(7,"nz-option",17),t.qZA(),t.TgZ(8,"nz-select",18),t.NdJ("ngModelChange",function(i){t.CHM(n);const l=t.oxw();return t.KtG(l.sort=i)})("ngModelChange",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.reload())}),t._UZ(9,"nz-option",19)(10,"nz-option",20),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(2),t.AsE("",n.stats.total," ",n.stats.label,""),t.xp6(1),t.Q6J("ngIf",n.page),t.xp6(1),t.Q6J("ngModel",n.postStatus),t.xp6(1),t.Q6J("nzValue",void 0),t.xp6(3),t.Q6J("ngModel",n.sort)}}function U(o,a){1&o&&(t._UZ(0,"nz-empty",22),t.TgZ(1,"div",23),t._uU(2,"There are no Posts here yet"),t.qZA()),2&o&&t.Q6J("nzNotFoundContent",null)}const z=function(){return{rows:1}};function H(o,a){1&o&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"nz-skeleton",26),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"nz-skeleton",26),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("nzActive",!0)("nzParagraph",t.DdM(6,z))("nzTitle",!1),t.xp6(2),t.Q6J("nzActive",!0)("nzParagraph",t.DdM(7,z))("nzTitle",!1))}function Y(o,a){if(1&o&&(t.TgZ(0,"tbody",24),t.YNc(1,H,5,8,"tr",25),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.skeletonRows)}}function L(o,a){1&o&&(t.TgZ(0,"span",36),t._uU(1," \u2013 Draft"),t.qZA())}function G(o,a){if(1&o&&(t.TgZ(0,"a",37),t._uU(1,"Edit"),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("href",n.post_link,t.LSH)}}function R(o,a){if(1&o&&(t.TgZ(0,"a",37),t._uU(1,"View"),t.qZA()),2&o){const n=t.oxw().$implicit;t.s9C("href",n.view_link,t.LSH)}}function D(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"tr",28)(1,"td")(2,"a",29),t._uU(3),t.qZA(),t.YNc(4,L,2,0,"span",30),t.TgZ(5,"div",31)(6,"div",32),t.YNc(7,G,2,1,"a",33),t.YNc(8,R,2,1,"a",33),t.qZA()()(),t.TgZ(9,"td",34)(10,"wlx-main-ingredient",35),t.NdJ("onMainIngredientChange",function(i){const c=t.CHM(n).$implicit,nt=t.oxw(2);return t.KtG(nt.changeEntity(c,i))})("onStartEdit",function(){const l=t.CHM(n).$implicit,c=t.oxw(2);return t.KtG(c.startEdit(l.id))})("onStopEdit",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.stopEdit())}),t.qZA()()()}if(2&o){const n=a.$implicit,s=a.index,i=t.oxw(2);t.xp6(2),t.Q6J("href",n.post_link,t.LSH),t.xp6(1),t.Oqu(n.post_title),t.xp6(1),t.Q6J("ngIf","draft"===n.post_status),t.xp6(3),t.Q6J("ngIf",n.post_link),t.xp6(1),t.Q6J("ngIf",n.view_link),t.xp6(2),t.Q6J("wlxCyId","AutoCompleteField"+s)("data",n)("editMode",i.editId===n.id)}}function V(o,a){if(1&o&&(t.TgZ(0,"tbody"),t.YNc(1,D,11,8,"tr",27),t.qZA()),2&o){t.oxw();const n=t.MAs(10);t.xp6(1),t.Q6J("ngForOf",n.data)}}const $=function(){return[]},K=[{path:"",pathMatch:"full",redirectTo:"posts"},{path:"posts",data:{breadcrumb:"Posts"},component:(()=>{class o{constructor(n,s){this.appSettings=n,this.postMatchesService=s,this.Number=Number,this.loading=!0,this.editId=null,this.perPage={value:10},this.skeletonRows=[],this.postStatus="publish",this.sort="-date_modified_gmt",this.cursor=new M.x,this.cursor$=this.cursor.asObservable().pipe((0,f.b)(()=>{this.skeletonRows=Array(this.perPage.value),this.loading=!0}),(0,w.h)(i=>null!=i),(0,v.b)(i=>this.postMatchesService.listPostMatches({cursor:i,has_match:this.filter,limit:this.perPage.value,post_status:this.postStatus,sort:this.sort})),(0,y.z)((0,f.b)(i=>{this.page=i,this.loading=!1}))),this.stats=n.stats.find(i=>"Posts"===i.label)}ngOnInit(){this.reload()}reload(){this.skeletonRows=Array(this.perPage.value),this.loading=!0,this.postMatchesService.listPostMatches({has_match:this.filter,limit:this.perPage.value,post_status:this.postStatus,sort:this.sort}).subscribe(n=>{this.page=n,this.loading=!1})}changeEntity(n,s){console.log("changeEntity",{data:n}),(Number.isInteger(n.match_id)?this.postMatchesService.updatePostMatch({post_id:n.id,match_id:n.match_id,body:s}):this.postMatchesService.createPostMatch({post_id:n.id,body:s})).pipe((0,T.q)(1)).subscribe()}startEdit(n){this.editId=n}stopEdit(){this.editId=null}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Z.N),t.Y36(O.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["wlx-posts"]],decls:21,vars:15,consts:[[4,"ngIf"],["nz-typography","","id","heading"],["nz-typography","","nzType","secondary","id","description"],["id","filters",4,"ngIf"],["noResult",""],[3,"nzData","nzNoResult","nzShowPagination","nzFrontPagination","nzTotal"],["basicTable",""],["nzWidth","369.33px",1,"table-header"],["nz-icon","","nzType","question-circle","nzTheme","outline","nz-tooltip","","nzTooltipTitle","The main entity matching the post title.",1,"tooltip"],["wlxHideTablePlaceholder","",4,"ngIf"],["wlxCy","","wlxCyId","PostsPagination",3,"page","cursor","perPage"],["id","filters"],["id","count"],["wlxCy","","wlxCyId","PostsFilters",3,"filter","stats","filterChange",4,"ngIf"],[1,"post_status",3,"ngModel","ngModelChange"],["nzLabel","All",3,"nzValue"],["nzValue","publish","nzLabel","Published"],["nzValue","draft","nzLabel","Drafts"],[1,"date_modified",3,"ngModel","ngModelChange"],["nzValue","-date_modified_gmt","nzLabel","Newest First"],["nzValue","+date_modified_gmt","nzLabel","Oldest First"],["wlxCy","","wlxCyId","PostsFilters",3,"filter","stats","filterChange"],["nzNotFoundImage","simple",3,"nzNotFoundContent"],[1,"empty-description"],["wlxHideTablePlaceholder",""],[4,"ngFor","ngForOf"],["wlxSkeletonWidth","",3,"nzActive","nzParagraph","nzTitle"],["class","table-row editable-row",4,"ngFor","ngForOf"],[1,"table-row","editable-row"],["target","_blank",3,"href"],["class","post-draft",4,"ngIf"],[1,"links-main"],[1,"links"],["class","links-item","target","_blank",3,"href",4,"ngIf"],[1,"autocomplete-input-column","td-align"],["wlxCy","","searchText","search entity","datasetUri","https://knowledge.cafemedia.com/gardening/",3,"wlxCyId","data","editMode","onMainIngredientChange","onStartEdit","onStopEdit"],[1,"post-draft"],["target","_blank",1,"links-item",3,"href"]],template:function(n,s){if(1&n&&(t.YNc(0,F,1,0,"ng-container",0),t.ALo(1,"async"),t.TgZ(2,"h1",1),t._uU(3,"Posts"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,' For each Post, WordLift matched the main entity which appears in the Structured Data "about" property. To assign a new entity, click on the name (or on the dash) and start typing to select it from the list. Then click anywhere to confirm the change.\n'),t.qZA(),t.YNc(6,E,11,6,"div",3),t.YNc(7,U,3,1,"ng-template",null,4,t.W1O),t.TgZ(9,"nz-table",5,6)(11,"thead")(12,"tr")(13,"th",7),t._uU(14," Post Title "),t.qZA(),t.TgZ(15,"th",7),t._uU(16," Matched Entity "),t._UZ(17,"span",8),t.qZA()()(),t.YNc(18,Y,2,1,"tbody",9),t.YNc(19,V,2,1,"tbody",0),t.qZA(),t._UZ(20,"wlx-pagination",10)),2&n){const i=t.MAs(8);t.Q6J("ngIf",t.lcZ(1,12,s.cursor$)),t.xp6(6),t.Q6J("ngIf",s.page),t.xp6(3),t.Q6J("nzData",s.page&&s.page.items?s.page.items:t.DdM(14,$))("nzNoResult",i)("nzShowPagination",!1)("nzFrontPagination",!1)("nzTotal",s.Number.MAX_SAFE_INTEGER),t.xp6(9),t.Q6J("ngIf",s.loading),t.xp6(1),t.Q6J("ngIf",!s.loading),t.xp6(1),t.Q6J("page",s.page)("cursor",s.cursor)("perPage",s.perPage)}},dependencies:[d.sg,d.O5,p.JJ,p.On,_.ZU,r.N8,r.Uo,r._C,r.Om,r.p0,r.$Z,u.ng,b.Q,A.l,I.b,g.Ip,g.Vq,x.p9,C.Ls,J.N,N.r,S.p,P.SY,d.Ov],styles:["#heading[_ngcontent-%COMP%]{color:#000000e0;font-weight:600;font-size:20px;line-height:32px;font-style:normal;margin-bottom:8px}wlx-pagination[_ngcontent-%COMP%], #filters[_ngcontent-%COMP%]{width:100%;flex-direction:row;display:flex;align-items:center;margin-bottom:16px}#count[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:24px;color:#00000073;margin:0}wlx-filters[_ngcontent-%COMP%]{margin-left:auto}#description[_ngcontent-%COMP%]{text-align:justify;font-weight:400;font-size:16px;line-height:24px;color:#000000a6;max-width:800px;font-style:normal;margin-bottom:24px}.autocomplete-input-column[_ngcontent-%COMP%]{padding:16px}.table-header[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:22px;color:#000000e0}.tooltip[_ngcontent-%COMP%]{cursor:pointer;margin:4px 3px;color:#00000073}.post_status[_ngcontent-%COMP%]{min-width:105px;margin-left:8px;margin-right:8px}.items_sort[_ngcontent-%COMP%]{min-width:164px;margin-left:8px}.links[_ngcontent-%COMP%]{display:none}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:21px;height:16px;color:#007aff;font-style:normal;font-weight:400;font-size:12px;line-height:16px}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-right:1px solid rgba(0,0,0,.15);margin-right:6px;padding-right:6px}td[_ngcontent-%COMP%]{height:80px}.links-main[_ngcontent-%COMP%]{height:16px}td[_ngcontent-%COMP%]:hover   .links[_ngcontent-%COMP%]{display:block}.td-align[_ngcontent-%COMP%]{padding-top:0}.post-draft[_ngcontent-%COMP%]{color:#000000a6;font-size:14px;font-style:normal;font-weight:400;line-height:24px}.empty-description[_ngcontent-%COMP%]{color:#00000073;font-size:14px;font-style:normal;font-weight:400;line-height:24px;margin-top:-28px;margin-bottom:24px}"]}),o})()}];let k=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.Bz.forChild(K),m.Bz]}),o})();var j=e(2271),B=e(5635),W=e(4586),X=e(2383),q=e(5540);let tt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,p.u5,k,_.ZJ,r.HQ,u.H0,j.m,g.LV,B.o7,W.D,X.ic,x.Xo,C.PV,q.o,P.cg]}),o})()}}]);