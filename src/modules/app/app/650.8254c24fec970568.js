"use strict";(self.webpackChunkwordlift_plugin_app=self.webpackChunkwordlift_plugin_app||[]).push([[650],{6650:(ui,q,l)=>{l.r(q),l.d(q,{SuperResolutionDialogsModule:()=>F});var p=l(6895),W=l(9966),N=l(5698),X=l(8505),Ie=l(4351),Ee=l(6451),ee=l(4004),D=l(9300),n=l(4650),Ne=l(4311);function te(t,i,e,o,s,r,a){try{var c=t[r](a),d=c.value}catch(h){return void e(h)}c.done?i(d):Promise.resolve(d).then(o,s)}var x=l(4567),y=l(4080),z=l(7579),ne=l(4968),Ae=l(9770),_=l(2722),ie=l(8675),Se=l(1355),u=l(3187),C=l(7340);const oe=["moz","ms","webkit"],Fe=function ke(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const t=oe.filter(i=>`${i}RequestAnimationFrame`in window)[0];return t?window[`${t}RequestAnimationFrame`]:function Oe(){let t=0;return function(i){const e=(new Date).getTime(),o=Math.max(0,16-(e-t)),s=setTimeout(()=>{i(e+o)},o);return t=e+o,s}}()}();var w=l(3353);let He=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ve(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const o=function Ze(t){try{return t.frameElement}catch{return null}}(function Xe(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(o&&(-1===ce(o)||!this.isVisible(o)))return!1;let s=e.nodeName.toLowerCase(),r=ce(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function Je(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,o){return function qe(t){return!function Ye(t){return function Ke(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function Ge(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function We(t){return function Qe(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||ae(t))}(e)&&!this.isDisabled(e)&&(o?.ignoreVisibility||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(w.t4))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ae(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function ce(t){if(!ae(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class et{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,e,o,s,r=!1){this._element=i,this._checker=e,this._ngZone=o,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const o=this._getFirstTabbableElement(e);return o?.focus(i),!!o}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){const e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const e=i.children;for(let o=0;o<e.length;o++){const s=e[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[o]):null;if(s)return s}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const e=i.children;for(let o=e.length-1;o>=0;o--){const s=e[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[o]):null;if(s)return s}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe((0,N.q)(1)).subscribe(i)}}let le=(()=>{class t{constructor(e,o,s){this._checker=e,this._ngZone=o,this._document=s}create(e,o=!1){return new et(e,this._checker,this._ngZone,this._document,o)}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(He),n.LFG(n.R0b),n.LFG(p.K0))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=l(7917),U=l(1811),b=l(6287),L=l(6616),$=l(7044),K=l(1664),M=l(7423);l(1481);class f{transform(i,e=0,o="B",s){if(!((0,u.ui)(i)&&(0,u.ui)(e)&&e%1==0&&e>=0))return i;let r=i,a=o;for(;"B"!==a;)r*=1024,a=f.formats[a].prev;if(s){const d=(0,u.YM)(f.calculateResult(f.formats[s],r),e);return f.formatResult(d,s)}for(const c in f.formats)if(f.formats.hasOwnProperty(c)){const d=f.formats[c];if(r<d.max){const h=(0,u.YM)(f.calculateResult(d,r),e);return f.formatResult(h,c)}}}static formatResult(i,e){return`${i} ${e}`}static calculateResult(i,e){const o=i.prev?f.formats[i.prev]:void 0;return o?e/o.max:e}}f.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}},f.\u0275fac=function(i){return new(i||f)},f.\u0275pipe=n.Yjl({name:"nzBytes",type:f,pure:!0});let Q=(()=>{class t{transform(e,o="px"){let d="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(h=>h===o)&&(d=o),"number"==typeof e?`${e}${d}`:`${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Yjl({name:"nzToCssUnit",type:t,pure:!0}),t})(),de=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.ez]}),t})();var I=l(445),m=l(655),ue=l(4903);const ot=["nz-modal-close",""];function st(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"span",2),n.BQk()),2&t){const e=i.$implicit;n.xp6(1),n.Q6J("nzType",e)}}const pe=["modalElement"];function rt(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.onCloseClick())}),n.qZA()}}function at(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"span",17),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("innerHTML",e.config.nzTitle,n.oJD)}}function ct(t,i){}function lt(t,i){if(1&t&&n._UZ(0,"div",17),2&t){const e=n.oxw();n.Q6J("innerHTML",e.config.nzContent,n.oJD)}}function dt(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.onCancel())}),n._uU(1),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("nzLoading",!!e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),n.uIk("cdkFocusInitial","cancel"===e.config.nzAutofocus||null),n.xp6(1),n.hij(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function ut(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.onOk())}),n._uU(1),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("nzType",e.config.nzOkType)("nzLoading",!!e.config.nzOkLoading)("disabled",e.config.nzOkDisabled)("nzDanger",e.config.nzOkDanger),n.uIk("cdkFocusInitial","ok"===e.config.nzAutofocus||null),n.xp6(1),n.hij(" ",e.config.nzOkText||e.locale.okText," ")}}const pt=["nz-modal-footer",""];function ht(t,i){if(1&t&&n._UZ(0,"div",5),2&t){const e=n.oxw(3);n.Q6J("innerHTML",e.config.nzFooter,n.oJD)}}function ft(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){const r=n.CHM(e).$implicit,a=n.oxw(4);return n.KtG(a.onButtonClick(r))}),n._uU(1),n.qZA()}if(2&t){const e=i.$implicit,o=n.oxw(4);n.Q6J("hidden",!o.getButtonCallableProp(e,"show"))("nzLoading",o.getButtonCallableProp(e,"loading"))("disabled",o.getButtonCallableProp(e,"disabled"))("nzType",e.type)("nzDanger",e.danger)("nzShape",e.shape)("nzSize",e.size)("nzGhost",e.ghost),n.xp6(1),n.hij(" ",e.label," ")}}function mt(t,i){if(1&t&&(n.ynx(0),n.YNc(1,ft,2,9,"button",6),n.BQk()),2&t){const e=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",e.buttons)}}function gt(t,i){if(1&t&&(n.ynx(0),n.YNc(1,ht,1,1,"div",3),n.YNc(2,mt,2,1,"ng-container",4),n.BQk()),2&t){const e=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!e.buttonsFooter),n.xp6(1),n.Q6J("ngIf",e.buttonsFooter)}}const _t=function(t,i){return{$implicit:t,modalRef:i}};function Ct(t,i){if(1&t&&(n.ynx(0),n.YNc(1,gt,3,2,"ng-container",2),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("nzStringTemplateOutlet",e.config.nzFooter)("nzStringTemplateOutletContext",n.WLB(2,_t,e.config.nzComponentParams,e.modalRef))}}function yt(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",10),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.onCancel())}),n._uU(1),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("nzLoading",!!e.config.nzCancelLoading)("disabled",e.config.nzCancelDisabled),n.uIk("cdkFocusInitial","cancel"===e.config.nzAutofocus||null),n.xp6(1),n.hij(" ",e.config.nzCancelText||e.locale.cancelText," ")}}function zt(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(e);const s=n.oxw(2);return n.KtG(s.onOk())}),n._uU(1),n.qZA()}if(2&t){const e=n.oxw(2);n.Q6J("nzType",e.config.nzOkType)("nzDanger",e.config.nzOkDanger)("nzLoading",!!e.config.nzOkLoading)("disabled",e.config.nzOkDisabled),n.uIk("cdkFocusInitial","ok"===e.config.nzAutofocus||null),n.xp6(1),n.hij(" ",e.config.nzOkText||e.locale.okText," ")}}function vt(t,i){if(1&t&&(n.YNc(0,yt,2,4,"button",8),n.YNc(1,zt,2,6,"button",9)),2&t){const e=n.oxw();n.Q6J("ngIf",null!==e.config.nzCancelText),n.xp6(1),n.Q6J("ngIf",null!==e.config.nzOkText)}}const bt=["nz-modal-title",""];function Tt(t,i){if(1&t&&(n.ynx(0),n._UZ(1,"div",2),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("innerHTML",e.config.nzTitle,n.oJD)}}function xt(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.onCloseClick())}),n.qZA()}}function It(t,i){1&t&&n._UZ(0,"div",10)}function Et(t,i){}function Nt(t,i){if(1&t&&n._UZ(0,"div",11),2&t){const e=n.oxw();n.Q6J("innerHTML",e.config.nzContent,n.oJD)}}function Mt(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",12),n.NdJ("cancelTriggered",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.onCloseClick())})("okTriggered",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.onOkClick())}),n.qZA()}if(2&t){const e=n.oxw();n.Q6J("modalRef",e.modalRef)}}const he=()=>{};class E{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=he,this.nzOnOk=he,this.nzIconType="question-circle"}}const H="ant-modal-mask",V="modal",fe={modalContainer:(0,C.X$)("modalContainer",[(0,C.SB)("void, exit",(0,C.oB)({})),(0,C.SB)("enter",(0,C.oB)({})),(0,C.eR)("* => enter",(0,C.jt)(".24s",(0,C.oB)({}))),(0,C.eR)("* => void, * => exit",(0,C.jt)(".2s",(0,C.oB)({})))])};function P(t,i,e){return typeof t>"u"?typeof i>"u"?e:i:t}function me(t){const{nzCentered:i,nzMask:e,nzMaskClosable:o,nzClosable:s,nzOkLoading:r,nzOkDisabled:a,nzCancelDisabled:c,nzCancelLoading:d,nzKeyboard:h,nzNoAnimation:g,nzContent:v,nzComponentParams:Y,nzFooter:Hn,nzZIndex:Zn,nzWidth:Vn,nzWrapClassName:Gn,nzClassName:Yn,nzStyle:Wn,nzTitle:Kn,nzCloseIcon:Qn,nzMaskStyle:Jn,nzBodyStyle:qn,nzOkText:Xn,nzCancelText:ei,nzOkType:ti,nzOkDanger:ni,nzIconType:ii,nzModalType:oi,nzOnOk:si,nzOnCancel:ri,nzAfterOpen:ai,nzAfterClose:ci,nzCloseOnNavigation:li,nzAutofocus:di}=t;return{nzCentered:i,nzMask:e,nzMaskClosable:o,nzClosable:s,nzOkLoading:r,nzOkDisabled:a,nzCancelDisabled:c,nzCancelLoading:d,nzKeyboard:h,nzNoAnimation:g,nzContent:v,nzComponentParams:Y,nzFooter:Hn,nzZIndex:Zn,nzWidth:Vn,nzWrapClassName:Gn,nzClassName:Yn,nzStyle:Wn,nzTitle:Kn,nzCloseIcon:Qn,nzMaskStyle:Jn,nzBodyStyle:qn,nzOkText:Xn,nzCancelText:ei,nzOkType:ti,nzOkDanger:ni,nzIconType:ii,nzModalType:oi,nzOnOk:si,nzOnCancel:ri,nzAfterOpen:ai,nzAfterClose:ci,nzCloseOnNavigation:li,nzAutofocus:di}}function ge(){throw Error("Attempting to attach modal content after content is already attached")}let _e=(()=>{class t extends y.en{constructor(e,o,s,r,a,c,d,h,g,v){super(),this.ngZone=e,this.host=o,this.focusTrapFactory=s,this.cdr=r,this.render=a,this.overlayRef=c,this.nzConfigService=d,this.config=h,this.animationType=v,this.animationStateChanged=new n.vpe,this.containerClick=new n.vpe,this.cancelTriggered=new n.vpe,this.okTriggered=new n.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new z.x,this.document=g,this.dir=c.getDirection(),this.isStringContent="string"==typeof h.nzContent,this.nzConfigService.getConfigChangeEventForComponent(V).pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}get showMask(){const e=this.nzConfigService.getConfigForComponent(V)||{};return!!P(this.config.nzMask,e.nzMask,!0)}get maskClosable(){const e=this.nzConfigService.getConfigForComponent(V)||{};return!!P(this.config.nzMaskClosable,e.nzMaskClosable,!0)}onContainerClick(e){e.target===e.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(e){return this.portalOutlet.hasAttached()&&ge(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this.portalOutlet.hasAttached()&&ge(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(e)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const e=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const o=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),s=(0,u.pW)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(e,"transform-origin",`${s.left+o.width/2-e.offsetLeft}px ${s.top+o.height/2-e.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>Fe(()=>this.host.nativeElement.focus())))}trapFocus(){const e=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const o=this.document.activeElement;o!==e&&!e.contains(o)&&e.focus()}}restoreFocus(){const e=this.elementFocusedBeforeModalWasOpened;if(e&&"function"==typeof e.focus){const o=this.document.activeElement,s=this.host.nativeElement;(!o||o===this.document.body||o===s||s.contains(o))&&e.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const e=this.modalElementRef.nativeElement,o=this.overlayRef.backdropElement;e.classList.add("ant-zoom-enter"),e.classList.add("ant-zoom-enter-active"),o&&(o.classList.add("ant-fade-enter"),o.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const e=this.modalElementRef.nativeElement;e.classList.add("ant-zoom-leave"),e.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(e=!1){const o=this.overlayRef.backdropElement;if(o){if(this.animationDisabled()||e)return void o.classList.remove(H);o.classList.add("ant-fade-leave"),o.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const e=this.overlayRef.backdropElement,o=this.modalElementRef.nativeElement;e&&(e.classList.remove("ant-fade-enter"),e.classList.remove("ant-fade-enter-active")),o.classList.remove("ant-zoom-enter"),o.classList.remove("ant-zoom-enter-active"),o.classList.remove("ant-zoom-leave"),o.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const e=this.overlayRef.backdropElement;e&&(0,u.DX)(this.config.nzZIndex)&&this.render.setStyle(e,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const e=this.overlayRef.backdropElement;if(e&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(s=>{this.render.removeStyle(e,s)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const o={...this.config.nzMaskStyle};Object.keys(o).forEach(s=>{this.render.setStyle(e,s,o[s])}),this.oldMaskStyle=o}}updateMaskClassname(){const e=this.overlayRef.backdropElement;e&&(this.showMask?e.classList.add(H):e.classList.remove(H))}onAnimationDone(e){"enter"===e.toState?this.trapFocus():"exit"===e.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(e)}onAnimationStart(e){"enter"===e.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===e.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(e)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(),this.destroy$.complete()}setupMouseListeners(e){this.ngZone.runOutsideAngular(()=>{(0,ne.R)(this.host.nativeElement,"mouseup").pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,ne.R)(e.nativeElement,"mousedown").pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}}return t.\u0275fac=function(e){n.$Z()},t.\u0275dir=n.lG2({type:t,features:[n.qOj]}),t})(),Ce=(()=>{class t{constructor(e){this.config=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(E))},t.\u0275cmp=n.Xpm({type:t,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:ot,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(e,o){1&e&&(n.TgZ(0,"span",0),n.YNc(1,st,2,1,"ng-container",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("nzStringTemplateOutlet",o.config.nzCloseIcon))},dependencies:[b.f,$.w,M.Ls],encapsulation:2,changeDetection:0}),t})(),Ot=(()=>{class t extends _e{constructor(e,o,s,r,a,c,d,h,g,v,Y){super(e,s,r,a,c,d,h,g,v,Y),this.i18n=o,this.config=g,this.cancelTriggered=new n.vpe,this.okTriggered=new n.vpe,this.i18n.localeChange.pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.R0b),n.Y36(U.wi),n.Y36(n.SBq),n.Y36(le),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(x.Iu),n.Y36(R.jY),n.Y36(E),n.Y36(p.K0,8),n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["nz-modal-confirm-container"]],viewQuery:function(e,o){if(1&e&&(n.Gf(y.Pl,7),n.Gf(pe,7)),2&e){let s;n.iGM(s=n.CRH())&&(o.portalOutlet=s.first),n.iGM(s=n.CRH())&&(o.modalElementRef=s.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,o){1&e&&(n.WFA("@modalContainer.start",function(r){return o.onAnimationStart(r)})("@modalContainer.done",function(r){return o.onAnimationDone(r)}),n.NdJ("click",function(r){return o.onContainerClick(r)})),2&e&&(n.d8E("@.disabled",o.config.nzNoAnimation)("@modalContainer",o.state),n.Tol(o.config.nzWrapClassName?"ant-modal-wrap "+o.config.nzWrapClassName:"ant-modal-wrap"),n.Udp("z-index",o.config.nzZIndex),n.ekj("ant-modal-wrap-rtl","rtl"===o.dir)("ant-modal-centered",o.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[n.qOj],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0,1),n.ALo(2,"nzToCssUnit"),n.TgZ(3,"div",2),n.YNc(4,rt,1,0,"button",3),n.TgZ(5,"div",4)(6,"div",5)(7,"div",6),n._UZ(8,"span",7),n.TgZ(9,"span",8),n.YNc(10,at,2,1,"ng-container",9),n.qZA(),n.TgZ(11,"div",10),n.YNc(12,ct,0,0,"ng-template",11),n.YNc(13,lt,1,1,"div",12),n.qZA()(),n.TgZ(14,"div",13),n.YNc(15,dt,2,4,"button",14),n.YNc(16,ut,2,6,"button",15),n.qZA()()()()()),2&e&&(n.Udp("width",n.lcZ(2,11,null==o.config?null:o.config.nzWidth)),n.Q6J("ngClass",o.config.nzClassName)("ngStyle",o.config.nzStyle),n.xp6(4),n.Q6J("ngIf",o.config.nzClosable),n.xp6(1),n.Q6J("ngStyle",o.config.nzBodyStyle),n.xp6(3),n.Q6J("nzType",o.config.nzIconType),n.xp6(2),n.Q6J("nzStringTemplateOutlet",o.config.nzTitle),n.xp6(3),n.Q6J("ngIf",o.isStringContent),n.xp6(2),n.Q6J("ngIf",null!==o.config.nzCancelText),n.xp6(1),n.Q6J("ngIf",null!==o.config.nzOkText))},dependencies:[p.mk,p.O5,p.PC,b.f,y.Pl,L.ix,$.w,K.dQ,M.Ls,Ce,Q],encapsulation:2,data:{animation:[fe.modalContainer]}}),t})(),kt=(()=>{class t{constructor(e,o){this.i18n=e,this.config=o,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new n.vpe,this.okTriggered=new n.vpe,this.destroy$=new z.x,Array.isArray(o.nzFooter)&&(this.buttonsFooter=!0,this.buttons=o.nzFooter.map(Ft)),this.i18n.localeChange.pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(e,o){const s=e[o],r=this.modalRef.getContentComponent();return"function"==typeof s?s.apply(e,r&&[r]):s}onButtonClick(e){if(!this.getButtonCallableProp(e,"loading")){const s=this.getButtonCallableProp(e,"onClick");e.autoLoading&&(0,u.tI)(s)&&(e.loading=!0,s.then(()=>e.loading=!1).catch(r=>{throw e.loading=!1,r}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(U.wi),n.Y36(E))},t.\u0275cmp=n.Xpm({type:t,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:pt,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(e,o){if(1&e&&(n.YNc(0,Ct,2,5,"ng-container",0),n.YNc(1,vt,2,2,"ng-template",null,1,n.W1O)),2&e){const s=n.MAs(2);n.Q6J("ngIf",o.config.nzFooter)("ngIfElse",s)}},dependencies:[p.sg,p.O5,b.f,L.ix,$.w,K.dQ],encapsulation:2}),t})();function Ft(t){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...t}}let Dt=(()=>{class t{constructor(e){this.config=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(E))},t.\u0275cmp=n.Xpm({type:t,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:bt,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.YNc(1,Tt,2,1,"ng-container",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("nzStringTemplateOutlet",o.config.nzTitle))},dependencies:[b.f],encapsulation:2,changeDetection:0}),t})(),wt=(()=>{class t extends _e{constructor(e,o,s,r,a,c,d,h,g,v){super(e,o,s,r,a,c,d,h,g,v),this.config=h}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(le),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(x.Iu),n.Y36(R.jY),n.Y36(E),n.Y36(p.K0,8),n.Y36(n.QbO,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["nz-modal-container"]],viewQuery:function(e,o){if(1&e&&(n.Gf(y.Pl,7),n.Gf(pe,7)),2&e){let s;n.iGM(s=n.CRH())&&(o.portalOutlet=s.first),n.iGM(s=n.CRH())&&(o.modalElementRef=s.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,o){1&e&&(n.WFA("@modalContainer.start",function(r){return o.onAnimationStart(r)})("@modalContainer.done",function(r){return o.onAnimationDone(r)}),n.NdJ("click",function(r){return o.onContainerClick(r)})),2&e&&(n.d8E("@.disabled",o.config.nzNoAnimation)("@modalContainer",o.state),n.Tol(o.config.nzWrapClassName?"ant-modal-wrap "+o.config.nzWrapClassName:"ant-modal-wrap"),n.Udp("z-index",o.config.nzZIndex),n.ekj("ant-modal-wrap-rtl","rtl"===o.dir)("ant-modal-centered",o.config.nzCentered))},exportAs:["nzModalContainer"],features:[n.qOj],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0,1),n.ALo(2,"nzToCssUnit"),n.TgZ(3,"div",2),n.YNc(4,xt,1,0,"button",3),n.YNc(5,It,1,0,"div",4),n.TgZ(6,"div",5),n.YNc(7,Et,0,0,"ng-template",6),n.YNc(8,Nt,1,1,"div",7),n.qZA(),n.YNc(9,Mt,1,1,"div",8),n.qZA()()),2&e&&(n.Udp("width",n.lcZ(2,9,null==o.config?null:o.config.nzWidth)),n.Q6J("ngClass",o.config.nzClassName)("ngStyle",o.config.nzStyle),n.xp6(4),n.Q6J("ngIf",o.config.nzClosable),n.xp6(1),n.Q6J("ngIf",o.config.nzTitle),n.xp6(1),n.Q6J("ngStyle",o.config.nzBodyStyle),n.xp6(2),n.Q6J("ngIf",o.isStringContent),n.xp6(1),n.Q6J("ngIf",null!==o.config.nzFooter))},dependencies:[p.mk,p.O5,p.PC,y.Pl,Ce,kt,Dt,Q],encapsulation:2,data:{animation:[fe.modalContainer]}}),t})();class G{constructor(i,e,o){this.overlayRef=i,this.config=e,this.containerInstance=o,this.componentInstance=null,this.state=0,this.afterClose=new z.x,this.afterOpen=new z.x,this.destroy$=new z.x,o.animationStateChanged.pipe((0,D.h)(s=>"done"===s.phaseName&&"enter"===s.toState),(0,N.q)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),e.nzAfterOpen instanceof n.vpe&&e.nzAfterOpen.emit()}),o.animationStateChanged.pipe((0,D.h)(s=>"done"===s.phaseName&&"exit"===s.toState),(0,N.q)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),o.containerClick.pipe((0,N.q)(1),(0,_.R)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),i.keydownEvents().pipe((0,D.h)(s=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&27===s.keyCode&&!function je(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(s))).subscribe(s=>{s.preventDefault(),this.trigger("cancel")}),o.cancelTriggered.pipe((0,_.R)(this.destroy$)).subscribe(()=>this.trigger("cancel")),o.okTriggered.pipe((0,_.R)(this.destroy$)).subscribe(()=>this.trigger("ok")),i.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),e.nzAfterClose instanceof n.vpe&&e.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(i){this.close(i)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(i){0===this.state&&(this.result=i,this.containerInstance.animationStateChanged.pipe((0,D.h)(e=>"start"===e.phaseName),(0,N.q)(1)).subscribe(e=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},e.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(i){Object.assign(this.config,i),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(i){var e=this;return function Me(t){return function(){var i=this,e=arguments;return new Promise(function(o,s){var r=t.apply(i,e);function a(d){te(r,o,s,a,c,"next",d)}function c(d){te(r,o,s,a,c,"throw",d)}a(void 0)})}}(function*(){if(1===e.state)return;const o={ok:e.config.nzOnOk,cancel:e.config.nzOnCancel}[i],s={ok:"nzOkLoading",cancel:"nzCancelLoading"}[i];if(!e.config[s])if(o instanceof n.vpe)o.emit(e.getContentComponent());else if("function"==typeof o){const a=o(e.getContentComponent());if((0,u.tI)(a)){e.config[s]=!0;let c=!1;try{c=yield a}finally{e.config[s]=!1,e.closeWhitResult(c)}}else e.closeWhitResult(a)}})()}closeWhitResult(i){!1!==i&&this.close(i)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let ye=(()=>{class t{constructor(e,o,s,r,a){this.overlay=e,this.injector=o,this.nzConfigService=s,this.parentModal=r,this.directionality=a,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new z.x,this.afterAllClose=(0,Ae.P)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,ie.O)(void 0)))}get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const e=this.parentModal;return e?e._afterAllClosed:this.afterAllClosedAtThisLevel}create(e){return this.open(e.nzContent,e)}closeAll(){this.closeModals(this.openModals)}confirm(e={},o="confirm"){return"nzFooter"in e&&(0,Se.ZK)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in e||(e.nzWidth=416),"nzMaskClosable"in e||(e.nzMaskClosable=!1),e.nzModalType="confirm",e.nzClassName=`ant-modal-confirm ant-modal-confirm-${o} ${e.nzClassName||""}`,this.create(e)}info(e={}){return this.confirmFactory(e,"info")}success(e={}){return this.confirmFactory(e,"success")}error(e={}){return this.confirmFactory(e,"error")}warning(e={}){return this.confirmFactory(e,"warning")}open(e,o){const s=function At(t,i){return{...i,...t}}(o||{},new E),r=this.createOverlay(s),a=this.attachModalContainer(r,s),c=this.attachModalContent(e,a,r,s);return a.modalRef=c,this.openModals.push(c),c.afterClose.subscribe(()=>this.removeOpenModal(c)),c}removeOpenModal(e){const o=this.openModals.indexOf(e);o>-1&&(this.openModals.splice(o,1),this.openModals.length||this._afterAllClosed.next())}closeModals(e){let o=e.length;for(;o--;)e[o].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(e){const o=this.nzConfigService.getConfigForComponent(V)||{},s=new x.X_({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:P(e.nzCloseOnNavigation,o.nzCloseOnNavigation,!0),direction:P(e.nzDirection,o.nzDirection,this.directionality.value)});return P(e.nzMask,o.nzMask,!0)&&(s.backdropClass=H),this.overlay.create(s)}attachModalContainer(e,o){const r=n.zs3.create({parent:o&&o.nzViewContainerRef&&o.nzViewContainerRef.injector||this.injector,providers:[{provide:x.Iu,useValue:e},{provide:E,useValue:o}]}),c=new y.C5("confirm"===o.nzModalType?Ot:wt,o.nzViewContainerRef,r);return e.attach(c).instance}attachModalContent(e,o,s,r){const a=new G(s,r,o);if(e instanceof n.Rgc)o.attachTemplatePortal(new y.UE(e,null,{$implicit:r.nzComponentParams,modalRef:a}));else if((0,u.DX)(e)&&"string"!=typeof e){const c=this.createInjector(a,r),d=o.attachComponentPortal(new y.C5(e,r.nzViewContainerRef,c));(function St(t,i){Object.assign(t,i)})(d.instance,r.nzComponentParams),a.componentInstance=d.instance}else o.attachStringContent();return a}createInjector(e,o){return n.zs3.create({parent:o&&o.nzViewContainerRef&&o.nzViewContainerRef.injector||this.injector,providers:[{provide:G,useValue:e}]})}confirmFactory(e={},o){return"nzIconType"in e||(e.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[o]),"nzCancelText"in e||(e.nzCancelText=null),this.confirm(e,o)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(x.aV),n.LFG(n.zs3),n.LFG(R.jY),n.LFG(t,12),n.LFG(I.Is,8))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac}),t})(),ze=(()=>{class t{constructor(e){this.templateRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"]}),t})(),ve=(()=>{class t{constructor(e,o){this.nzModalRef=e,this.templateRef=o,this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(G,8),n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]}),t})(),Rt=(()=>{class t{constructor(e,o){this.nzModalRef=e,this.templateRef=o,this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(G,8),n.Y36(n.Rgc))},t.\u0275dir=n.lG2({type:t,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"]}),t})(),Lt=(()=>{class t{constructor(e,o,s){this.cdr=e,this.modal=o,this.viewContainerRef=s,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new n.vpe,this.nzOnCancel=new n.vpe,this.nzAfterOpen=new n.vpe,this.nzAfterClose=new n.vpe,this.nzVisibleChange=new n.vpe,this.modalRef=null,this.destroy$=new z.x}set modalTitle(e){e&&this.setTitleWithTemplate(e)}set modalFooter(e){e&&this.setFooterWithTemplate(e)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){const e=this.getConfig();this.modalRef=this.modal.create(e),this.modalRef.afterClose.asObservable().pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.close()})}}close(e){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(e),this.modalRef=null)}destroy(e){this.close(e)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(e){this.nzTitle=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(e){this.nzFooter=e,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){const e=me(this);return e.nzViewContainerRef=this.viewContainerRef,e.nzContent=this.nzContent||this.contentFromContentChild,e}ngOnChanges(e){const{nzVisible:o,...s}=e;Object.keys(s).length&&this.modalRef&&this.modalRef.updateConfig(me(this)),o&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){this.modalRef?._finishDialogClose(),this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.sBO),n.Y36(ye),n.Y36(n.s_b))},t.\u0275cmp=n.Xpm({type:t,selectors:[["nz-modal"]],contentQueries:function(e,o,s){if(1&e&&(n.Suo(s,Rt,7,n.Rgc),n.Suo(s,ze,7,n.Rgc),n.Suo(s,ve,7,n.Rgc)),2&e){let r;n.iGM(r=n.CRH())&&(o.modalTitle=r.first),n.iGM(r=n.CRH())&&(o.contentFromContentChild=r.first),n.iGM(r=n.CRH())&&(o.modalFooter=r.first)}},inputs:{nzMask:"nzMask",nzMaskClosable:"nzMaskClosable",nzCloseOnNavigation:"nzCloseOnNavigation",nzVisible:"nzVisible",nzClosable:"nzClosable",nzOkLoading:"nzOkLoading",nzOkDisabled:"nzOkDisabled",nzCancelDisabled:"nzCancelDisabled",nzCancelLoading:"nzCancelLoading",nzKeyboard:"nzKeyboard",nzNoAnimation:"nzNoAnimation",nzCentered:"nzCentered",nzContent:"nzContent",nzComponentParams:"nzComponentParams",nzFooter:"nzFooter",nzZIndex:"nzZIndex",nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[n.TTD],decls:0,vars:0,template:function(e,o){},encapsulation:2,changeDetection:0}),(0,m.gn)([(0,u.yF)()],t.prototype,"nzMask",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzMaskClosable",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzCloseOnNavigation",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzVisible",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzClosable",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzOkLoading",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzOkDisabled",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzCancelDisabled",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzCancelLoading",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzKeyboard",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzNoAnimation",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzCentered",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzOkDanger",void 0),t})(),Pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[ye],imports:[p.ez,I.vT,x.U8,b.T,y.eL,U.YI,L.sL,M.PV,de,ue.g,de]}),t})();var Bt=l(1135),jt=l(6063);class Ut extends z.x{constructor(i=1/0,e=1/0,o=jt.l){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){const{isStopped:e,_buffer:o,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:a}=this;e||(o.push(i),!s&&o.push(r.now()+a)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:s}=this,r=s.slice();for(let a=0;a<r.length&&!i.closed;a+=o?1:2)i.next(r[a]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){const{_bufferSize:i,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:s}=this,r=(s?1:2)*i;if(i<1/0&&r<o.length&&o.splice(0,o.length-r),!s){const a=e.now();let c=0;for(let d=1;d<o.length&&o[d]<=a;d+=2)c=d;c&&o.splice(0,c+1)}}}var $t=l(5963),Ht=l(4671),be=l(4482),J=l(5403);function Vt(t,i){return t===i}var Gt=l(3900),Yt=l(5032),Wt=l(8421);let Qt=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[Qt]}),t})();function qt(t,i){1&t&&(n.TgZ(0,"span",3),n._UZ(1,"i",4)(2,"i",4)(3,"i",4)(4,"i",4),n.qZA())}function Xt(t,i){}function en(t,i){if(1&t&&(n.TgZ(0,"div",8),n._uU(1),n.qZA()),2&t){const e=n.oxw(2);n.xp6(1),n.Oqu(e.nzTip)}}function tn(t,i){if(1&t&&(n.TgZ(0,"div")(1,"div",5),n.YNc(2,Xt,0,0,"ng-template",6),n.YNc(3,en,2,1,"div",7),n.qZA()()),2&t){const e=n.oxw(),o=n.MAs(1);n.xp6(1),n.ekj("ant-spin-rtl","rtl"===e.dir)("ant-spin-spinning",e.isLoading)("ant-spin-lg","large"===e.nzSize)("ant-spin-sm","small"===e.nzSize)("ant-spin-show-text",e.nzTip),n.xp6(1),n.Q6J("ngTemplateOutlet",e.nzIndicator||o),n.xp6(1),n.Q6J("ngIf",e.nzTip)}}function nn(t,i){if(1&t&&(n.TgZ(0,"div",9),n.Hsn(1),n.qZA()),2&t){const e=n.oxw();n.ekj("ant-spin-blur",e.isLoading)}}const on=["*"];let sn=(()=>{class t{constructor(e,o,s){this.nzConfigService=e,this.cdr=o,this.directionality=s,this._nzModuleName="spin",this.nzIndicator=null,this.nzSize="default",this.nzTip=null,this.nzDelay=0,this.nzSimple=!1,this.nzSpinning=!0,this.destroy$=new z.x,this.spinning$=new Bt.X(this.nzSpinning),this.delay$=new Ut(1),this.isLoading=!1,this.dir="ltr"}ngOnInit(){this.delay$.pipe((0,ie.O)(this.nzDelay),function Zt(t,i=Ht.y){return t=t??Vt,(0,be.e)((e,o)=>{let s,r=!0;e.subscribe((0,J.x)(o,a=>{const c=i(a);(r||!t(s,c))&&(r=!1,s=c,o.next(a))}))})}(),(0,Gt.w)(o=>0===o?this.spinning$:this.spinning$.pipe(function Kt(t){return(0,be.e)((i,e)=>{let o=!1,s=null,r=null;const a=()=>{if(r?.unsubscribe(),r=null,o){o=!1;const c=s;s=null,e.next(c)}};i.subscribe((0,J.x)(e,c=>{r?.unsubscribe(),o=!0,s=c,r=(0,J.x)(e,a,Yt.Z),(0,Wt.Xf)(t(c)).subscribe(r)},()=>{a(),e.complete()},void 0,()=>{s=r=null}))})}(s=>(0,$t.H)(s?o:0)))),(0,_.R)(this.destroy$)).subscribe(o=>{this.isLoading=o,this.cdr.markForCheck()}),this.nzConfigService.getConfigChangeEventForComponent("spin").pipe((0,_.R)(this.destroy$)).subscribe(()=>this.cdr.markForCheck()),this.directionality.change?.pipe((0,_.R)(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzSpinning:o,nzDelay:s}=e;o&&this.spinning$.next(this.nzSpinning),s&&this.delay$.next(this.nzDelay)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(R.jY),n.Y36(n.sBO),n.Y36(I.Is,8))},t.\u0275cmp=n.Xpm({type:t,selectors:[["nz-spin"]],hostVars:2,hostBindings:function(e,o){2&e&&n.ekj("ant-spin-nested-loading",!o.nzSimple)},inputs:{nzIndicator:"nzIndicator",nzSize:"nzSize",nzTip:"nzTip",nzDelay:"nzDelay",nzSimple:"nzSimple",nzSpinning:"nzSpinning"},exportAs:["nzSpin"],features:[n.TTD],ngContentSelectors:on,decls:4,vars:2,consts:[["defaultTemplate",""],[4,"ngIf"],["class","ant-spin-container",3,"ant-spin-blur",4,"ngIf"],[1,"ant-spin-dot","ant-spin-dot-spin"],[1,"ant-spin-dot-item"],[1,"ant-spin"],[3,"ngTemplateOutlet"],["class","ant-spin-text",4,"ngIf"],[1,"ant-spin-text"],[1,"ant-spin-container"]],template:function(e,o){1&e&&(n.F$t(),n.YNc(0,qt,5,0,"ng-template",null,0,n.W1O),n.YNc(2,tn,4,12,"div",1),n.YNc(3,nn,2,2,"div",2)),2&e&&(n.xp6(2),n.Q6J("ngIf",o.isLoading),n.xp6(1),n.Q6J("ngIf",!o.nzSimple))},dependencies:[p.O5,p.tP],encapsulation:2}),(0,m.gn)([(0,R.oS)()],t.prototype,"nzIndicator",void 0),(0,m.gn)([(0,u.Rn)()],t.prototype,"nzDelay",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzSimple",void 0),(0,m.gn)([(0,u.yF)()],t.prototype,"nzSpinning",void 0),t})(),rn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[I.vT,p.ez,Jt]}),t})();class B{transform(i){return`${(i/1024).toLocaleString("en-US",{maximumFractionDigits:0})}KB`}}function an(t,i){if(1&t&&(n.TgZ(0,"img-comparison-slider",6)(1,"figure",7),n._UZ(2,"img",8),n.TgZ(3,"figcaption"),n._uU(4,"Before"),n.qZA()(),n.TgZ(5,"figure",9),n._UZ(6,"img",8),n.TgZ(7,"figcaption"),n._uU(8,"After"),n.qZA()(),n.O4$(),n.TgZ(9,"svg",10),n._UZ(10,"path",11),n.qZA()()),2&t){const e=n.oxw(2);n.xp6(2),n.Q6J("src",e.originalImage.data,n.LSH),n.xp6(4),n.Q6J("src",e.upscaledImage.data,n.LSH)}}function cn(t,i){if(1&t&&(n.TgZ(0,"div",3)(1,"nz-spin",4),n.YNc(2,an,11,2,"img-comparison-slider",5),n.qZA()()),2&t){const e=n.oxw();n.xp6(1),n.Q6J("nzSpinning",e.loading),n.xp6(1),n.Q6J("ngIf",!e.loading)}}function ln(t,i){if(1&t){const e=n.EpF();n.TgZ(0,"div",12)(1,"div",13)(2,"dl")(3,"dt"),n._uU(4,"Original File Size"),n.qZA(),n.TgZ(5,"dd",14),n._uU(6),n.ALo(7,"bytesToKilobytes"),n.qZA()(),n.TgZ(8,"dl")(9,"dt"),n._uU(10,"Upscaled File Size"),n.qZA(),n.TgZ(11,"dd",15),n._uU(12),n.ALo(13,"bytesToKilobytes"),n.qZA()()(),n.TgZ(14,"div")(15,"button",16),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.handleCancel())}),n._uU(16," Cancel "),n.qZA(),n.TgZ(17,"button",17),n.NdJ("click",function(){n.CHM(e);const s=n.oxw();return n.KtG(s.handleApply())}),n._uU(18,"Apply"),n.qZA()()()}if(2&t){const e=n.oxw();n.xp6(6),n.lnq(" ",e.originalImage.width,"*",e.originalImage.height,"px (",n.lcZ(7,6,e.originalImage.size),") "),n.xp6(6),n.lnq(" ",e.upscaledImage.width,"*",e.upscaledImage.height,"px (",n.lcZ(13,8,e.upscaledImage.size),") ")}}B.\u0275fac=function(i){return new(i||B)},B.\u0275pipe=n.Yjl({name:"bytesToKilobytes",type:B,pure:!0});const dn=function(){return{marginTop:"-21px",marginBottom:"-27px"}};class j{constructor(i,e){this.route=i,this.superResolutionService=e,this.undefined=void 0,this.loading=!0,this.attachmentId=0,this.originalImage=new xe,this.upscaledImage=new xe}ngOnInit(){this.route.paramMap.pipe((0,N.q)(1),(0,ee.U)(i=>i.get("postId")),(0,D.h)(i=>null!==i),(0,ee.U)(i=>parseInt(i)),(0,X.b)(i=>this.attachmentId=i),(0,Ie.b)(i=>this.images(i))).subscribe({complete:()=>this.loading=!1,error:i=>{console.error(i)}})}images(i){return(0,Ee.T)(this.loadImage(this.superResolutionService.getAttachmentImage({attachmentId:i}),this.originalImage),this.loadImage(this.superResolutionService.getAttachmentImageUpscale({attachmentId:i}),this.upscaledImage))}loadImage(i,e){return i.pipe((0,X.b)(o=>{const r=`data:image/jpeg;base64,${function un(t){for(var i="",e=new Uint8Array(t),o=e.byteLength,s=0;s<o;s++)i+=String.fromCharCode(e[s]);return window.btoa(i)}(o)}`,a=new Image;a.onload=()=>{e.data=r,e.width=a.width,e.height=a.height,e.size=o.byteLength,URL.revokeObjectURL(r)},a.src=r}))}handleCancel(){}handleApply(){0!==this.attachmentId&&this.superResolutionService.replaceAttachmentImage({attachmentId:this.attachmentId,body:{image:pn(this.upscaledImage.data.split(",")[1],"image/jpeg")}}).subscribe({error:i=>console.log(i)})}}j.\u0275fac=function(i){return new(i||j)(n.Y36(W.gz),n.Y36(Ne.X))},j.\u0275cmp=n.Xpm({type:j,selectors:[["wlx-super-resolution-upscale"]],decls:3,vars:4,consts:[["nzOkText","Delete","nzOkDanger","true","nzCancelText","Cancel","nzTitle","WordLift Image Upscale",3,"nzVisible","nzWidth","nzBodyStyle"],["class","modal-content",4,"nzModalContent"],["class","modal-footer",4,"nzModalFooter"],[1,"modal-content"],["nzSize","large",1,"nz-spin-fix",3,"nzSpinning"],["tabindex","0","class","rendered",4,"ngIf"],["tabindex","0",1,"rendered"],["slot","first",1,"before"],["height","550",3,"src"],["slot","second",1,"after"],["slot","handle","xmlns","http://www.w3.org/2000/svg","width","60","viewBox","-8 -3 16 6"],["stroke","#fff","d","M -5 -2 L -7 0 L -5 2 M -5 -2 L -5 2 M 5 -2 L 7 0 L 5 2 M 5 -2 L 5 2","stroke-width","1","fill","#fff","vector-effect","non-scaling-stroke"],[1,"modal-footer"],[1,"metadata"],[1,"original"],[1,"upscaled"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(i,e){1&i&&(n.TgZ(0,"nz-modal",0),n.YNc(1,cn,3,2,"div",1),n.YNc(2,ln,19,10,"div",2),n.qZA()),2&i&&n.Q6J("nzVisible",!0)("nzWidth",825)("nzBodyStyle",n.DdM(3,dn))},dependencies:[p.O5,Lt,ve,ze,L.ix,$.w,K.dQ,sn,B],styles:["img-comparison-slider[_ngcontent-%COMP%]{--divider-width: 2px;--default-handle-opacity: .3;outline:0}.modal-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:550px;max-height:550px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:55px;padding:0 8px}.metadata[_ngcontent-%COMP%]{display:flex;flex:1;gap:40px;text-align:left;font-size:14px;align-items:center;justify-items:center}.metadata[_ngcontent-%COMP%]   dl[_ngcontent-%COMP%]{margin-bottom:0}.metadata[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-weight:300}.metadata[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{color:#ff4d4f}.metadata[_ngcontent-%COMP%]   .upscaled[_ngcontent-%COMP%]{color:#00c48c}.before[_ngcontent-%COMP%], .after[_ngcontent-%COMP%]{margin:0}.before[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%], .after[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{border-radius:15px;height:30px;line-height:22px;padding:4px 12px;background:rgba(0,0,0,.4);border:0;text-transform:uppercase;color:#fff;font-size:9pt;bottom:24px;position:absolute}.before[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{left:24px}.after[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{right:24px}"]});class xe{constructor(){this.data="",this.width=0,this.height=0,this.size=0}}function pn(t,i){const e=atob(t),o=new Array(e.length);for(let r=0;r<e.length;r++)o[r]=e.charCodeAt(r);const s=new Uint8Array(o);return new Blob([s],{type:i})}const hn=[{path:":postId/upscale",component:j}];class O{}O.\u0275fac=function(i){return new(i||O)},O.\u0275mod=n.oAB({type:O}),O.\u0275inj=n.cJS({imports:[W.Bz.forChild(hn),W.Bz]});class k{}k.\u0275fac=function(i){return new(i||k)},k.\u0275mod=n.oAB({type:k}),k.\u0275inj=n.cJS({imports:[p.ez]});let fn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({}),t})(),mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.ez]}),t})(),gn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[p.ez,M.PV]}),t})(),Mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[I.vT,p.ez,M.PV,w.ud,b.T,gn]}),t})();var An=l(1691);let On=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[I.vT,p.ez,x.U8,b.T,An.e4,ue.g]}),t})(),$n=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[I.vT,p.ez,M.PV,On,Mn,U.YI,mn,fn,b.T,w.ud]}),t})();class F{}F.\u0275fac=function(i){return new(i||F)},F.\u0275mod=n.oAB({type:F}),F.\u0275inj=n.cJS({imports:[p.ez,O,Pt,L.sL,k,rn,$n]})}}]);